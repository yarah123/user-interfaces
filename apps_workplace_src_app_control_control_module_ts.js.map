{"version":3,"file":"apps_workplace_src_app_control_control_module_ts.js","mappings":";;;;;;;;;;;;;;;;;;AACkD;;;;;;;AA2B5C,MAAOC,gBAAgB;EACzBC,YAAoBC,SAA0B;IAA1B,KAAAA,SAAS,GAATA,SAAS;EAAoB;EAE1CC,QAAQA,CAAA;IACX,IAAI,CAACD,SAAS,CAACE,KAAK,GAAG,SAAS;EACpC;EAAC,QAAAC,CAAA;qBALQL,gBAAgB,EAAAM,+DAAA,CAAAE,4DAAA;EAAA;EAAA,QAAAC,EAAA;UAAhBT,gBAAgB;IAAAU,SAAA;IAAAC,KAAA,EAAAC,GAAA;IAAAC,KAAA;IAAAC,IAAA;IAAAC,MAAA;IAAAC,QAAA,WAAAC,0BAAAC,EAAA,EAAAC,GAAA;MAAA,IAAAD,EAAA;QAtBrBZ,uDAAA,aAAiB;QACjBA,4DAAA,aAA4D;QAIpDA,uDAAA,2BAA6C;QACjDA,0DAAA,EAAO;QAEXA,uDAAA,kBAA2B;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACbY;AACO;AAEC;AACY;AACG;AACzB;AACuB;;;AAEpE,MAAMuB,MAAM,GAAY,CAAC;EAAEC,IAAI,EAAE,EAAE;EAAEC,SAAS,EAAE/B,gEAAgBA;AAAA,CAAE,CAAC;AAe7D,MAAOgC,aAAa;EAAA,QAAA3B,CAAA;qBAAb2B,aAAa;EAAA;EAAA,QAAAvB,EAAA;UAAbuB;EAAa;EAAA,QAAAC,EAAA;cANlBV,yDAAY,EACZI,uDAAW,EACXH,yDAAY,CAACU,QAAQ,CAACL,MAAM,CAAC,EAC7BD,4EAAqB;EAAA;;;sHAGhBI,aAAa;IAAAG,YAAA,GAXlBnC,gEAAgB,EAChByB,4EAAyB,EACzBC,+EAA6B;IAAAU,OAAA,GAG7Bb,yDAAY,EACZI,uDAAW,EAAAnB,yDAAA,EAEXoB,4EAAqB;EAAA;AAAA;;;;;;;;;;;;;;;;;;;;;;;ACpBqB;AACU;AACpB;;;;;;;;;;;;;;;IAKhCtB,4DAAA,aAIC;IAE4BA,oDAAA,GAAgB;IAAAA,0DAAA,EAAM;IAC3CA,4DAAA,aAA8C;IACtBA,oDAAA,GAAc;IAAAA,0DAAA,EAAM;IACxCA,4DAAA,aAAuC;IACzBA,oDAAA,qBAAc;IAAAA,0DAAA,EAAW;IACnCA,oDAAA,IACJ;IAAAA,0DAAA,EAAM;IAGdA,4DAAA,cAEC;;IAQOA,oDAAA,iBACJ;IAAAA,0DAAA,EAAI;IACJA,4DAAA,YAOC;IACGA,oDAAA,cACJ;IAAAA,0DAAA,EAAI;;;;IAjCRA,yDAAA,eAAAmC,MAAA,CAAAC,UAAA,CAA+B;IAGNpC,uDAAA,GAAgB;IAAhBA,+DAAA,CAAAmC,MAAA,CAAAI,KAAA,CAAAC,IAAA,CAAgB;IAEbxC,uDAAA,GAAc;IAAdA,+DAAA,CAAAmC,MAAA,CAAAM,QAAA,CAAc;IAG9BzC,uDAAA,GACJ;IADIA,gEAAA,MAAAmC,MAAA,CAAAI,KAAA,CAAAI,QAAA,aACJ;IAWA3C,uDAAA,GAAwC;IAAxCA,wDAAA,SAAAA,yDAAA,QAAAmC,MAAA,CAAAI,KAAA,CAAAO,WAAA,UAAA9C,2DAAA,CAAwC;IASxCA,uDAAA,GAA2B;IAA3BA,wDAAA,eAAAA,6DAAA,KAAAM,GAAA,EAA2B,gBAAAN,6DAAA,KAAAkD,GAAA,EAAAf,MAAA,CAAAI,KAAA,CAAAY,EAAA;;;AAUzC,MAAO/B,6BAA6B;EAItC,IAAWgB,UAAUA,CAAA;IACjB,OAAO,IAAI,CAACxC,SAAS,CAACwD,GAAG,CAAC,wBAAwB,CAAC;EACvD;EAEA;EACA,IAAWX,QAAQA,CAAA;IACf,IAAI,CAAC,IAAI,CAACF,KAAK,EAAE;MACb,OAAO,8BAA8B;IACzC;IACA,MAAMc,KAAK,GAAG,IAAI,CAACd,KAAK,CAACc,KAAK;IAC9B,MAAMC,GAAG,GAAG,IAAI,CAACC,IAAI,CAACC,SAAS,CAACC,IAAI,CAC/BC,QAAQ,IAAKA,QAAQ,CAACP,EAAE,KAAKE,KAAK,CAACM,SAAS,CAChD;IACD,OAAO,GAAGL,GAAG,GAAG,CAACA,GAAG,CAACM,YAAY,IAAIN,GAAG,CAACd,IAAI,IAAI,IAAI,GAAG,EAAE,GACtDa,KAAK,EAAEO,YAAY,IAAIP,KAAK,EAAEb,IAAI,IAAI,YAC1C,EAAE;EACN;EAEA7C,YACYC,SAA0B,EAC1B2D,IAAyB;IADzB,KAAA3D,SAAS,GAATA,SAAS;IACT,KAAA2D,IAAI,GAAJA,IAAI;EACb;EAAC,QAAAxD,CAAA;qBAzBKqB,6BAA6B,EAAApB,+DAAA,CAAAE,4DAAA,GAAAF,+DAAA,CAAA6D,sEAAA;EAAA;EAAA,QAAA1D,EAAA;UAA7BiB,6BAA6B;IAAAhB,SAAA;IAAA0D,MAAA;MAAAvB,KAAA;IAAA;IAAAhC,KAAA;IAAAC,IAAA;IAAAC,MAAA;IAAAC,QAAA,WAAAqD,uCAAAnD,EAAA,EAAAC,GAAA;MAAA,IAAAD,EAAA;QA1ClCZ,wDAAA,IAAAiE,4CAAA,mBAsCM;;;QApCDjE,wDAAA,SAAAa,GAAA,CAAA0B,KAAA,CAAW;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACVe;AAEQ;AACa;AACL;;;;;;;;;;;;;IAavCvC,uDAAA,qBAKe;;;IADXA,wDAAA,gBAAe;;;;;IAQvBA,uDAAA,oCAG6B;;;;IADzBA,wDAAA,UAAAqE,QAAA,CAAe;;;;;IANvBrE,4DAAA,aAGC;IACGA,wDAAA,IAAAsE,oEAAA,uCAG6B;IACjCtE,0DAAA,EAAM;;;;IAHoBA,uDAAA,EAAgB;IAAhBA,wDAAA,YAAAuE,MAAA,CAAAC,aAAA,CAAgB;;;;;IAKtCxE,4DAAA,cAA4C;IAC9BA,oDAAA,YAAK;IAAAA,0DAAA,EAAW;IAC1BA,4DAAA,QAAG;IACCA,oDAAA,GAKJ;IAAAA,0DAAA,EAAI;;;;IALAA,uDAAA,GAKJ;IALIA,gEAAA,MAAAyE,MAAA,CAAAC,UAAA,0BAAAD,MAAA,CAAAC,UAAA,wCAKJ;;;AAoBV,MAAOvD,yBAA0B,SAAQgD,yDAAY;EAQvDxE,YACYgF,OAAsB,EACtBpB,IAAyB;IAEjC,KAAK,EAAE;IAHC,KAAAoB,OAAO,GAAPA,OAAO;IACP,KAAApB,IAAI,GAAJA,IAAI;IAThB;IACO,KAAAqB,UAAU,GAAY,EAAE;EAW/B;EAEa/E,QAAQA,CAAA;IAAA,IAAAgF,KAAA;IAAA,OAAAC,wJAAA;MACjB,MAAMD,KAAI,CAACF,OAAO,CAACI,WAAW,CAACC,IAAI,CAACd,qDAAK,CAAEnE,CAAC,IAAKA,CAAC,CAAC,CAAC,CAACkF,SAAS,EAAE;MAChEJ,KAAI,CAACD,UAAU,GAAGC,KAAI,CAACF,OAAO,CAACO,MAAM,CAAE3C,KAAK,IAAK,CAAC,CAACA,KAAK,CAACO,WAAW,CAAC;MACrE+B,KAAI,CAACD,UAAU,CAACO,IAAI,CAAC,CAACC,CAAC,EAAEC,CAAC,KAAKR,KAAI,CAACS,UAAU,CAACF,CAAC,EAAEC,CAAC,CAAC,CAAC;IAAC;EAC1D;EAEA;EACA,IAAWb,aAAaA,CAAA;IACpB,MAAMe,MAAM,GAAG,CAAC,IAAI,CAACb,UAAU,IAAI,EAAE,EAAEc,WAAW,EAAE;IACpD,OAAO,CAAC,IAAI,CAACZ,UAAU,IAAI,EAAE,EAAEM,MAAM,CAAE3C,KAAK,IAAI;MAC5C,MAAMe,GAAG,GAAG,IAAI,CAACC,IAAI,CAACC,SAAS,CAACC,IAAI,CAC/BC,QAAQ,IAAKA,QAAQ,CAACP,EAAE,KAAKZ,KAAK,CAACc,KAAK,CAACM,SAAS,CACtD;MACD,MAAM8B,UAAU,GAAG,CAAClD,KAAK,CAACC,IAAI,IAAI,EAAE,EAAEgD,WAAW,EAAE;MACnD,MAAME,UAAU,GAAG,CACf,CAACnD,KAAK,CAACc,KAAK,GAAGd,KAAK,CAACc,KAAK,CAACb,IAAI,GAAG,EAAE,KAAK,EAAE,EAC7CgD,WAAW,EAAE;MACf,MAAMG,QAAQ,GAAG,CAAC,CAACrC,GAAG,GAAGA,GAAG,CAACd,IAAI,GAAG,EAAE,KAAK,EAAE,EAAEgD,WAAW,EAAE;MAC5D,OACIC,UAAU,CAACG,OAAO,CAACL,MAAM,CAAC,IAAI,CAAC,IAC9BG,UAAU,IAAIA,UAAU,CAACE,OAAO,CAACL,MAAM,CAAC,IAAI,CAAE,IAC9CI,QAAQ,IAAIA,QAAQ,CAACC,OAAO,CAACL,MAAM,CAAC,IAAI,CAAE;IAEnD,CAAC,CAAC;EACN;EAEQD,UAAUA,CAACpB,KAAY,EAAE2B,MAAa;IAC1C,MAAMC,KAAK,GAAG,IAAI,CAACvC,IAAI,CAACC,SAAS,CAACC,IAAI,CACjCC,QAAQ,IAAKA,QAAQ,CAACP,EAAE,KAAKe,KAAK,CAACb,KAAK,EAAEM,SAAS,CACvD;IACD,MAAMoC,YAAY,GAAG,CAAC7B,KAAK,CAAC1B,IAAI,IAAI,EAAE,EAAEgD,WAAW,EAAE;IACrD,MAAMQ,YAAY,GAAG,CACjB,CAAC9B,KAAK,CAACb,KAAK,GAAGa,KAAK,CAACb,KAAK,CAACb,IAAI,GAAG,EAAE,KAAK,EAAE,EAC7CgD,WAAW,EAAE;IACf,MAAMS,UAAU,GAAG,CAACH,KAAK,EAAEtD,IAAI,IAAI,EAAE,EAAEgD,WAAW,EAAE;IACpD,MAAMU,KAAK,GAAG,IAAI,CAAC3C,IAAI,CAACC,SAAS,CAACC,IAAI,CACjCC,QAAQ,IAAKA,QAAQ,CAACP,EAAE,KAAK0C,MAAM,CAACxC,KAAK,EAAEM,SAAS,CACxD;IACD,MAAMwC,YAAY,GAAG,CAACN,MAAM,CAACrD,IAAI,IAAI,EAAE,EAAEgD,WAAW,EAAE;IACtD,MAAMY,YAAY,GAAG,CACjB,CAACP,MAAM,CAACxC,KAAK,GAAGwC,MAAM,CAACxC,KAAK,CAACb,IAAI,GAAG,EAAE,KAAK,EAAE,EAC/CgD,WAAW,EAAE;IACf,MAAMa,UAAU,GAAG,CAACH,KAAK,EAAE1D,IAAI,IAAI,EAAE,EAAEgD,WAAW,EAAE;IACpD,OACIS,UAAU,CAACK,aAAa,CAACD,UAAU,CAAC,IACpCL,YAAY,CAACM,aAAa,CAACF,YAAY,CAAC,IACxCL,YAAY,CAACO,aAAa,CAACH,YAAY,CAAC;EAEhD;EAAC,QAAApG,CAAA;qBA/DQoB,yBAAyB,EAAAnB,+DAAA,CAAAE,0DAAA,GAAAF,+DAAA,CAAA6D,sEAAA;EAAA;EAAA,QAAA1D,EAAA;UAAzBgB,yBAAyB;IAAAf,SAAA;IAAAmG,QAAA,GAAAvG,wEAAA;IAAAO,KAAA;IAAAC,IAAA;IAAAC,MAAA;IAAAC,QAAA,WAAA+F,mCAAA7F,EAAA,EAAAC,GAAA;MAAA,IAAAD,EAAA;QAtD9BZ,4DAAA,aAAyD;QAEbA,oDAAA,aAAM;QAAAA,0DAAA,EAAW;QACrDA,4DAAA,eAIE;QAFEA,wDAAA,2BAAA2G,kEAAAC,MAAA;UAAA,OAAA/F,GAAA,CAAA6D,UAAA,GAAAkC,MAAA;QAAA,EAAwB;QAF5B5G,0DAAA,EAIE;QACFA,wDAAA,IAAA6G,gDAAA,yBAKe;QACnB7G,0DAAA,EAAiB;QAErBA,wDAAA,IAAA8G,wCAAA,iBAQM,IAAAC,gDAAA,gCAAA/G,oEAAA;;;;QAnBMA,uDAAA,GAAwB;QAAxBA,wDAAA,YAAAa,GAAA,CAAA6D,UAAA,CAAwB;QAMvB1E,uDAAA,EAAa;QAAbA,wDAAA,SAAAa,GAAA,CAAAoG,OAAA,CAAa;QAOrBjH,uDAAA,EAA4B;QAA5BA,wDAAA,SAAAa,GAAA,CAAA2D,aAAA,CAAA0C,MAAA,CAA4B,aAAAC,GAAA","sources":["./apps/workplace/src/app/control/control.component.ts","./apps/workplace/src/app/control/control.module.ts","./apps/workplace/src/app/control/list-item.component.ts","./apps/workplace/src/app/control/space-list.component.ts"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { SettingsService } from '@placeos/common';\n\n@Component({\n    selector: '[app-control]',\n    template: `\n        <topbar></topbar>\n        <div class=\"flex-1 flex sm:flex-row flex-col-reverse h-1/2\">\n            <main\n                class=\"relative z-0 flex flex-col flex-1 h-1/2 sm:h-auto overflow-hidden\"\n            >\n                <a-control-space-list></a-control-space-list>\n            </main>\n        </div>\n        <footer-menu></footer-menu>\n    `,\n    styles: [\n        `\n            :host {\n                display: flex;\n                flex-direction: column;\n                height: 100%;\n                width: 100%;\n                background: #f0f0f0;\n            }\n        `,\n    ],\n})\nexport class ControlComponent implements OnInit {\n    constructor(private _settings: SettingsService) {}\n\n    public ngOnInit(): void {\n        this._settings.title = 'Control';\n    }\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { RouterModule, Route } from '@angular/router';\n\nimport { ControlComponent } from './control.component';\nimport { ControlSpaceListComponent } from './space-list.component';\nimport { ControlSpaceListItemComponent } from './list-item.component';\nimport { FormsModule } from '@angular/forms';\nimport { SharedComponentModule } from '../components/shared.module';\n\nconst ROUTES: Route[] = [{ path: '', component: ControlComponent }];\n\n@NgModule({\n    declarations: [\n        ControlComponent,\n        ControlSpaceListComponent,\n        ControlSpaceListItemComponent,\n    ],\n    imports: [\n        CommonModule,\n        FormsModule,\n        RouterModule.forChild(ROUTES),\n        SharedComponentModule,\n    ],\n})\nexport class ControlModule {}\n","import { Component, Input } from '@angular/core';\n\nimport { SettingsService } from '@placeos/common';\nimport { OrganisationService } from '@placeos/organisation';\nimport { Space } from '@placeos/spaces';\n\n@Component({\n    selector: 'a-control-space-list-item',\n    template: `\n        <div\n            class=\"flex flex-wrap items-center sm:space-x-4 bg-base-100 hover:bg-base-200 overflow-hidden p-2 pl-4 mb-2\"\n            *ngIf=\"space\"\n            [class.with-image]=\"show_image\"\n        >\n            <div class=\"flex flex-col flex-1\">\n                <div class=\"text-xl\">{{ space.name }}</div>\n                <div class=\"flex items-center w-full text-sm\">\n                    <div class=\"flex-1\">{{ location }}</div>\n                    <div class=\"flex items-center text-lg\">\n                        <app-icon>account_circle</app-icon>\n                        {{ space.capacity || '0' }}\n                    </div>\n                </div>\n            </div>\n            <div\n                class=\"flex w-full sm:w-auto sm:flex-col items-center space-x-2 sm:space-x-0 sm:space-y-2 mt-4 sm:mt-0\"\n            >\n                <a\n                    btn\n                    matRipple\n                    control\n                    class=\"w-32 flex-1 sm:flex-none\"\n                    [href]=\"space.support_url | safe: 'url'\"\n                >\n                    Control\n                </a>\n                <a\n                    btn\n                    matRipple\n                    locate\n                    class=\"w-32 flex-1 sm:flex-none inverse\"\n                    [routerLink]=\"['/explore']\"\n                    [queryParams]=\"{ space: space.id }\"\n                >\n                    Find\n                </a>\n            </div>\n        </div>\n    `,\n    styles: [``],\n})\nexport class ControlSpaceListItemComponent {\n    /** Space to display */\n    @Input() public space: Space;\n\n    public get show_image() {\n        return this._settings.get('app.spaces.show_images');\n    }\n\n    /** Display location of the space */\n    public get location(): string {\n        if (!this.space) {\n            return 'Unable to determine location';\n        }\n        const level = this.space.level;\n        const bld = this._org.buildings.find(\n            (building) => building.id === level.parent_id\n        );\n        return `${bld ? (bld.display_name || bld.name) + ', ' : ''}${\n            level?.display_name || level?.name || '<No Level>'\n        }`;\n    }\n\n    constructor(\n        private _settings: SettingsService,\n        private _org: OrganisationService\n    ) {}\n}\n","import { Component, OnInit } from '@angular/core';\nimport { first } from 'rxjs/operators';\n\nimport { AsyncHandler } from '@placeos/common';\nimport { OrganisationService } from '@placeos/organisation';\nimport { Space, SpacesService } from '@placeos/spaces';\n\n@Component({\n    selector: 'a-control-space-list',\n    template: `\n        <div class=\"w-full flex items-center justify-center p-2\">\n            <mat-form-field overlay class=\"rounded h-12\" appearance=\"outline\">\n                <app-icon class=\"text-xl\" matPrefix>search</app-icon>\n                <input\n                    matInput\n                    [(ngModel)]=\"search_str\"\n                    placeholder=\"Search...\"\n                />\n                <mat-spinner\n                    matSuffix\n                    class=\"top-2\"\n                    *ngIf=\"loading\"\n                    [diameter]=\"32\"\n                ></mat-spinner>\n            </mat-form-field>\n        </div>\n        <div\n            class=\"flex flex-col flex-1 overflow-auto w-full\"\n            *ngIf=\"filtered_list.length; else empty_state\"\n        >\n            <a-control-space-list-item\n                *ngFor=\"let space of filtered_list\"\n                [space]=\"space\"\n            ></a-control-space-list-item>\n        </div>\n        <ng-template #empty_state>\n            <div class=\"flex flex-col items-center p-8\">\n                <app-icon>close</app-icon>\n                <p>\n                    {{\n                        search_str\n                            ? ' No matches for \"' + search_str + '\"'\n                            : 'No controllable spaces'\n                    }}\n                </p>\n            </div>\n        </ng-template>\n    `,\n    styles: [\n        `\n            :host {\n                display: flex;\n                flex-direction: column;\n                height: 100%;\n                width: 100%;\n            }\n\n            mat-form-field {\n                width: 48rem;\n                max-width: calc(100% - 2rem);\n            }\n        `,\n    ],\n})\nexport class ControlSpaceListComponent extends AsyncHandler implements OnInit {\n    /** List of controllable spaces */\n    public space_list: Space[] = [];\n    /** Filter string */\n    public search_str: string;\n    /** Whether space list is being filtered */\n    public loading: boolean;\n\n    constructor(\n        private _spaces: SpacesService,\n        private _org: OrganisationService\n    ) {\n        super();\n    }\n\n    public async ngOnInit() {\n        await this._spaces.initialised.pipe(first((_) => _)).toPromise();\n        this.space_list = this._spaces.filter((space) => !!space.support_url);\n        this.space_list.sort((a, b) => this.sortSpaces(a, b));\n    }\n\n    /** List of spaces filtered using the search string */\n    public get filtered_list(): Space[] {\n        const search = (this.search_str || '').toLowerCase();\n        return (this.space_list || []).filter((space) => {\n            const bld = this._org.buildings.find(\n                (building) => building.id === space.level.parent_id\n            );\n            const space_name = (space.name || '').toLowerCase();\n            const level_name = (\n                (space.level ? space.level.name : '') || ''\n            ).toLowerCase();\n            const bld_name = ((bld ? bld.name : '') || '').toLowerCase();\n            return (\n                space_name.indexOf(search) >= 0 ||\n                (level_name && level_name.indexOf(search) >= 0) ||\n                (bld_name && bld_name.indexOf(search) >= 0)\n            );\n        });\n    }\n\n    private sortSpaces(first: Space, second: Space) {\n        const bld_a = this._org.buildings.find(\n            (building) => building.id === first.level?.parent_id\n        );\n        const space_a_name = (first.name || '').toLowerCase();\n        const level_a_name = (\n            (first.level ? first.level.name : '') || ''\n        ).toLowerCase();\n        const bld_a_name = (bld_a?.name || '').toLowerCase();\n        const bld_b = this._org.buildings.find(\n            (building) => building.id === second.level?.parent_id\n        );\n        const space_b_name = (second.name || '').toLowerCase();\n        const level_b_name = (\n            (second.level ? second.level.name : '') || ''\n        ).toLowerCase();\n        const bld_b_name = (bld_b?.name || '').toLowerCase();\n        return (\n            bld_a_name.localeCompare(bld_b_name) ||\n            level_a_name.localeCompare(level_b_name) ||\n            space_a_name.localeCompare(space_b_name)\n        );\n    }\n}\n"],"names":["SettingsService","ControlComponent","constructor","_settings","ngOnInit","title","_","i0","ɵɵdirectiveInject","i1","_2","selectors","attrs","_c0","decls","vars","consts","template","ControlComponent_Template","rf","ctx","ɵɵelement","ɵɵelementStart","ɵɵelementEnd","CommonModule","RouterModule","ControlSpaceListComponent","ControlSpaceListItemComponent","FormsModule","SharedComponentModule","ROUTES","path","component","ControlModule","_3","forChild","declarations","imports","OrganisationService","Space","ɵɵtext","ɵɵclassProp","ctx_r0","show_image","ɵɵadvance","ɵɵtextInterpolate","space","name","location","ɵɵtextInterpolate1","capacity","ɵɵproperty","ɵɵpipeBind2","support_url","ɵɵsanitizeUrl","ɵɵpureFunction0","ɵɵpureFunction1","_c1","id","get","level","bld","_org","buildings","find","building","parent_id","display_name","i2","inputs","ControlSpaceListItemComponent_Template","ɵɵtemplate","ControlSpaceListItemComponent_div_0_Template","first","AsyncHandler","SpacesService","space_r5","ControlSpaceListComponent_div_6_a_control_space_list_item_1_Template","ctx_r1","filtered_list","ctx_r2","search_str","_spaces","space_list","_this","_asyncToGenerator","initialised","pipe","toPromise","filter","sort","a","b","sortSpaces","search","toLowerCase","space_name","level_name","bld_name","indexOf","second","bld_a","space_a_name","level_a_name","bld_a_name","bld_b","space_b_name","level_b_name","bld_b_name","localeCompare","features","ɵɵInheritDefinitionFeature","ControlSpaceListComponent_Template","ɵɵlistener","ControlSpaceListComponent_Template_input_ngModelChange_4_listener","$event","ControlSpaceListComponent_mat_spinner_5_Template","ControlSpaceListComponent_div_6_Template","ControlSpaceListComponent_ng_template_7_Template","ɵɵtemplateRefExtractor","loading","length","_r3"],"sourceRoot":"webpack:///","x_google_ignoreList":[]}