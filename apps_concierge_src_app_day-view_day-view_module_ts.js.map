{"version":3,"file":"apps_concierge_src_app_day-view_day-view_module_ts.js","mappings":"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","sources":["./apps/concierge/src/app/day-view/booking-modal.component.ts","./apps/concierge/src/app/day-view/day-view.component.ts","./apps/concierge/src/app/day-view/day-view.module.ts","./apps/concierge/src/app/day-view/dayview-event.component.ts","./apps/concierge/src/app/day-view/dayview-space.component.ts","./apps/concierge/src/app/day-view/dayview-timeline.component.ts","./apps/concierge/src/app/day-view/dayview-topbar.component.ts","./apps/concierge/src/app/day-view/event-form.component.ts","./apps/concierge/src/app/day-view/new-dayview.component.ts","./apps/concierge/src/app/day-view/room-approvals.component.ts","./apps/concierge/src/app/day-view/room-bookings.component.ts","./apps/concierge/src/app/day-view/room-timeline.component.ts"],"sourcesContent":["import { Component, EventEmitter, Inject, OnInit, Output } from '@angular/core';\nimport { MatDialogRef, MAT_DIALOG_DATA } from '@angular/material/dialog';\n\nimport {\n    DialogEvent,\n    SettingsService,\n    notifyError,\n    notifySuccess,\n} from '@placeos/common';\nimport { CalendarEvent, EventFormService, queryEvents } from '@placeos/events';\n\nexport interface BookingModalData {\n    event?: CalendarEvent;\n}\n\n@Component({\n    selector: 'booking-modal',\n    template: `\n        <header>\n            <h2>{{ form?.value.id ? 'Edit' : 'New' }} Booking</h2>\n            <div class=\"flex-1 w-0\"></div>\n            <button icon mat-dialog-close>\n                <app-icon>close</app-icon>\n            </button>\n        </header>\n        <main class=\"relative p-4\" [class.overflow-auto]=\"!(loading | async)\">\n            <event-form\n                [class.pointer-events-none]=\"loading | async\"\n                [form]=\"form\"\n            ></event-form>\n            <div\n                loading\n                class=\"absolute inset-0 flex flex-col items-center justify-center\"\n                *ngIf=\"loading | async\"\n            >\n                <mat-spinner [diameter]=\"48\" class=\"mb-4\"></mat-spinner>\n                <p>{{ loading | async }}</p>\n            </div>\n        </main>\n        <footer\n            *ngIf=\"!(loading | async)\"\n            class=\"flex justify-center items-center p-2 border-t border-base-200\"\n        >\n            <button btn matRipple class=\"w-32\" (click)=\"save()\">Save</button>\n        </footer>\n    `,\n    styles: [\n        `\n            main {\n                width: 32rem;\n                max-height: 65vh;\n                max-width: calc(100vw - 4rem);\n            }\n        `,\n    ],\n})\nexport class BookingModalComponent implements OnInit {\n    @Output() public event = new EventEmitter<DialogEvent>();\n    /** Observable for the loading state of the form */\n    public readonly loading = this._service.loading;\n\n    public get form() {\n        return this._service.form;\n    }\n\n    constructor(\n        @Inject(MAT_DIALOG_DATA) private _data: BookingModalData,\n        private _service: EventFormService,\n        private _dialog_ref: MatDialogRef<BookingModalComponent>,\n        private _settings: SettingsService\n    ) {}\n\n    public async ngOnInit() {\n        let event = this._data.event;\n        if (event?.creator !== event?.mailbox) {\n            event =\n                (\n                    await queryEvents({\n                        period_start: event.event_start,\n                        period_end: event.event_end,\n                        ical_uid: event.ical_uid,\n                    }).toPromise()\n                ).find((_) => _.ical_uid === (event as any).ical_uid) || event;\n        }\n        if (event && !event.id) {\n            (event as any).all_day =\n                this._settings.get('app.events.all_day_default') ??\n                event.all_day;\n        }\n        this._service.newForm(event);\n    }\n\n    public async save() {\n        const event = await this._service.postForm().catch((_) => {\n            notifyError(_);\n            throw _;\n        });\n        this.event.emit({ reason: 'done', metadata: event });\n        notifySuccess('Successfully created booking');\n        this._dialog_ref.close();\n    }\n}\n","import { Component, OnInit } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { ApplicationLinkInternal, SettingsService } from '@placeos/common';\n\n@Component({\n    selector: '[app-dayview]',\n    template: `\n        <sidebar class=\"h-full\"></sidebar>\n        <main\n            class=\"relative overflow-hidden flex flex-col flex-1 w-1/2 h-full bg-base-200\"\n        >\n            <dayview-topbar></dayview-topbar>\n            <dayview-timeline></dayview-timeline>\n        </main>\n    `,\n    styles: [\n        `\n            :host {\n                display: flex;\n                height: 100%;\n                width: 100%;\n            }\n        `,\n    ],\n})\nexport class DayViewComponent implements OnInit {\n    public get links(): ApplicationLinkInternal[] {\n        return this._settings.get('app.general.menu') || [];\n    }\n\n    constructor(private _settings: SettingsService, private _router: Router) {}\n\n    public ngOnInit() {\n        if (!this.links.find((_) => _.route.includes('day-view'))) {\n            this._router.navigate([`/${this.links[0].route}`]);\n        }\n    }\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule, DatePipe } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { RouterModule, Route } from '@angular/router';\n\nimport { UIModule } from '../ui/ui.module';\n\nimport { DayViewComponent } from './day-view.component';\nimport { DayviewTopbarComponent } from './dayview-topbar.component';\nimport { DayviewTimelineComponent } from './dayview-timeline.component';\nimport { DayviewSpaceComponent } from './dayview-space.component';\nimport { DayviewEventComponent } from './dayview-event.component';\n\nimport { BookingModalComponent } from './booking-modal.component';\nimport { EventFormComponent } from './event-form.component';\nimport { SharedSpacesModule } from '@placeos/spaces';\nimport { SharedUsersModule } from '@placeos/users';\nimport { SharedCateringModule } from '@placeos/catering';\nimport { RoomBookingsComponent } from './room-bookings.component';\nimport { RoomBookingsTimelineComponent } from './room-timeline.component';\nimport { RoomBookingsApprovalsComponent } from './room-approvals.component';\nimport { NewDayViewComponent } from './new-dayview.component';\nimport { MeetingFormDetailsComponent } from 'apps/workplace/src/app/book/meeting-flow/meeting-form-details.component';\nimport { EventBookModalComponent } from './event-book-modal.component';\n\nconst ROUTES: Route[] = [\n    { path: '', component: DayViewComponent },\n    { path: 'new', component: NewDayViewComponent },\n];\n\n@NgModule({\n    declarations: [\n        DayViewComponent,\n        DayviewTopbarComponent,\n        DayviewTimelineComponent,\n        DayviewSpaceComponent,\n        DayviewEventComponent,\n        NewDayViewComponent,\n\n        BookingModalComponent,\n        EventFormComponent,\n\n        RoomBookingsComponent,\n        RoomBookingsTimelineComponent,\n        RoomBookingsApprovalsComponent,\n        EventBookModalComponent,\n        MeetingFormDetailsComponent,\n    ],\n    imports: [\n        CommonModule,\n        FormsModule,\n        UIModule,\n        SharedSpacesModule,\n        SharedUsersModule,\n        SharedCateringModule,\n        RouterModule.forChild(ROUTES),\n    ],\n})\nexport class DayViewModule {}\n","import { Component, Input, OnChanges, SimpleChanges } from '@angular/core';\nimport { startOfDay, differenceInMinutes, format, addMinutes } from 'date-fns';\n\nimport { CalendarEvent } from '@placeos/events';\nimport { EventsStateService } from './events-state.service';\nimport { SettingsService } from '@placeos/common';\n\nconst DAY_IN_MINUTES = 24 * 60;\n\n@Component({\n    selector: 'dayview-event',\n    template: `\n        <div\n            *ngIf=\"(ui_options | async)?.show_overflow\"\n            [class]=\"\n                'overflow-block absolute rounded overflow-hidden w-full ' + type\n            \"\n            [style.top]=\"overflow_top * 100 + '%'\"\n            [style.height]=\"overflow_height * 100 + '%'\"\n        ></div>\n        <div\n            event\n            matRipple\n            [class]=\"\n                'absolute rounded overflow-hidden text-sm border border-base-200 shadow-sm z-10 hover:z-30 ' +\n                type\n            \"\n            *ngIf=\"event\"\n            [style.top]=\"top * 100 + '%'\"\n            [style.height]=\"height * 100 + '%'\"\n            (click)=\"view(event)\"\n        >\n            <div class=\"px-2 py-1 font-medium\">{{ event.organiser?.name }}</div>\n            <div class=\"py-1 flex items-center\" *ngIf=\"event.duration > 30\">\n                <app-icon class=\"mx-2\">title</app-icon>\n                {{ event.title }}\n            </div>\n            <div class=\"py-1 flex items-center\" *ngIf=\"event.duration > 60\">\n                <app-icon class=\"mx-2\">schedule</app-icon>\n                {{ time }}\n            </div>\n            <div class=\"py-1 flex items-center\" *ngIf=\"event.duration > 90\">\n                <app-icon class=\"mx-2\">people</app-icon>\n                {{ event.attendees.length }} Attendee{{\n                    event.attendees.length === 1 ? '' : 's'\n                }}\n            </div>\n        </div>\n        <div\n            *ngIf=\"event && (ui_options | async)?.show_cleaning\"\n            cleaning\n            class=\"absolute rounded overflow-hidden flex w-full shadow p-2 bg-base-100 z-20 hover:!h-48\"\n            [style.top]=\"top * 100 + '%'\"\n            [style.height]=\"height * 100 + '%'\"\n        >\n            <div\n                [class]=\"\n                    'icon flex items-center justify-center mr-2 text-3xl rounded h-12 w-12 text-pending ' +\n                    event.ext('cleaning_status')\n                \"\n            >\n                <app-icon>{{\n                    event.ext('cleaning_status') === 'done' ? 'done' : 'warning'\n                }}</app-icon>\n            </div>\n            <div class=\"flex-1 w-1/2\">\n                {{\n                    event.ext('cleaning_status') === 'done'\n                        ? 'Finished'\n                        : 'Scheduled to'\n                }}\n                clean at\n                {{\n                    event.ext('cleaning_time') || event.event_end * 1000\n                        | date: time_format\n                }}\n            </div>\n        </div>\n    `,\n    styles: [\n        `\n            [event] {\n                background-color: #ccc;\n                width: 12rem;\n                z-index: 100;\n                transition: box-shadow 200ms;\n            }\n\n            [event]:hover {\n                box-shadow: 0 1px 3px 1px rgba(0, 0, 0, 0.2),\n                    0 1px 1px 0 rgba(0, 0, 0, 0.14),\n                    0 2px 1px -1px rgba(0, 0, 0, 0.12) !important;\n                cursor: pointer;\n            }\n\n            .overflow-block {\n                opacity: 0.3;\n                width: 12rem;\n            }\n\n            .internal {\n                background-color: #1565c0;\n                color: #fff;\n            }\n\n            .icon {\n                background-color: #f0f0f0;\n            }\n\n            .icon.done {\n                color: #21a453;\n            }\n\n            .external {\n                background-color: #ad1457;\n                color: #fff;\n            }\n\n            .cancelled {\n                background-color: #ccc;\n            }\n        `,\n    ],\n})\nexport class DayviewEventComponent implements OnChanges {\n    /** Event to display */\n    @Input() public event: CalendarEvent;\n    /** Top position for the event */\n    public top = -999;\n    /** Height of the event on the calendar */\n    public height = 0;\n    /** Top position for the event */\n    public overflow_top = -999;\n    /** Height of the event on the calendar */\n    public overflow_height = 0;\n\n    public readonly ui_options = this._state.options;\n\n    public readonly view = (e) => this._state.setEvent(e);\n\n    public get time() {\n        const date = new Date(this.event.date);\n        return (\n            format(date, this.time_format) +\n            ' - ' +\n            format(addMinutes(date, this.event.duration), this.time_format)\n        );\n    }\n\n    public get type() {\n        return this.event.guests.length\n            ? 'external'\n            : this.event.status === 'declined'\n            ? 'cancelled'\n            : 'internal';\n    }\n\n    public get time_format() {\n        return this._settings.time_format;\n    }\n\n    constructor(\n        private _state: EventsStateService,\n        private _settings: SettingsService\n    ) {}\n\n    public ngOnChanges(changes: SimpleChanges) {\n        if (changes.event && this.event) {\n            const start = startOfDay(new Date(this.event.date));\n            const diff = differenceInMinutes(new Date(this.event.date), start);\n            this.top = diff / DAY_IN_MINUTES;\n            this.height = this.event.duration / DAY_IN_MINUTES;\n            this.overflow_top =\n                (diff - (this.event.setup_time || 0)) / DAY_IN_MINUTES;\n            this.overflow_height =\n                (this.event.duration +\n                    (this.event.setup_time || 0) +\n                    (this.event.breakdown_time || 0)) /\n                DAY_IN_MINUTES;\n        }\n    }\n}\n","import { Component, Input, OnInit } from '@angular/core';\nimport { map } from 'rxjs/operators';\n\nimport { CalendarEvent } from '@placeos/events';\nimport { Space } from '@placeos/spaces';\nimport { EventsStateService } from './events-state.service';\nimport { AsyncHandler } from '@placeos/common';\n\n@Component({\n    selector: 'dayview-space',\n    template: `\n        <ng-container *ngIf=\"space\">\n            <dayview-event\n                *ngFor=\"let event of events | async\"\n                [event]=\"event\"\n            ></dayview-event>\n        </ng-container>\n    `,\n    styles: [\n        `\n            :host {\n                position: relative;\n            }\n        `,\n    ],\n})\nexport class DayviewSpaceComponent extends AsyncHandler implements OnInit {\n    /** Space to display events for */\n    @Input() public space: Space;\n\n    public shown_event: CalendarEvent;\n    /** List of events for the selected space */\n    public readonly events = this._state.filtered.pipe(\n        map((bookings) => {\n            return bookings.filter((bkn) =>\n                bkn.resources.find((space) => this.space.email === space.email)\n            );\n        })\n    );\n\n    constructor(private _state: EventsStateService) {\n        super();\n    }\n\n    public ngOnInit(): void {\n        this.subscription('events', this._state.filtered.subscribe());\n    }\n}\n","import { Component, OnDestroy, OnInit } from '@angular/core';\nimport { querySystems } from '@placeos/ts-client';\nimport { combineLatest, of } from 'rxjs';\nimport {\n    catchError,\n    filter,\n    map,\n    shareReplay,\n    switchMap,\n} from 'rxjs/operators';\n\nimport { AsyncHandler } from '@placeos/common';\nimport { OrganisationService } from '@placeos/organisation';\nimport { Space } from '@placeos/spaces';\nimport { EventsStateService } from './events-state.service';\n\nconst HOUR_BLOCKS = new Array(24).fill(0).map((_, idx) => {\n    return (idx % 12 === 0 ? 12 : idx % 12) + (idx >= 12 ? ' PM' : ' AM');\n});\n\n@Component({\n    selector: 'dayview-timeline',\n    template: `\n        <div class=\"absolute inset-0 flex\">\n            <div class=\"time h-full w-24 overflow-hidden bg-base-100 relative\">\n                <div header class=\"relative h-16 z-50\">\n                    <div\n                        class=\"bg-base-100 absolute top-0 left-0 right-0 bottom-8\"\n                    ></div>\n                </div>\n                <div\n                    *ngFor=\"let time of blocks\"\n                    change-transform\n                    class=\"relative h-16 border-r border-base-300 z-10\"\n                    [style.transform]=\"'translateY(-' + scroll.y + 'px)'\"\n                >\n                    <div\n                        class=\"absolute text-center w-full text-xs top-0 transform -translate-y-1/2 opacity-40\"\n                    >\n                        {{ time }}\n                    </div>\n                    <div\n                        class=\"absolute h-px w-2 top-0 right-0 bg-base-300\"\n                    ></div>\n                </div>\n                <div class=\"absolute h-8 w-px top-8 right-0 bg-base-300\"></div>\n            </div>\n            <div class=\"h-full flex-1 flex flex-col w-1/2\">\n                <div\n                    header\n                    class=\"flex relative overflow-hidden border-b border-base-300 border-opacity-50 bg-base-100 h-16 w-full\"\n                >\n                    <div\n                        *ngFor=\"let space of space_list | async\"\n                        change-transform\n                        class=\"relative h-16 w-48 min-w-[12rem]\"\n                        [style.transform]=\"'translateX(-' + scroll.x + 'px)'\"\n                    >\n                        <div\n                            bar\n                            class=\"absolute h-8 w-px bottom-0 -left-px bg-base-300\"\n                        ></div>\n                        <div class=\"name m-2 text-center\">\n                            {{ space.display_name || space.name }}\n                        </div>\n                    </div>\n                </div>\n                <div\n                    #scroll_el\n                    content\n                    class=\"relative flex flex-1 overflow-auto\"\n                    (scroll)=\"onScroll($event)\"\n                >\n                    <dayview-space\n                        *ngFor=\"let space of space_list | async\"\n                        [space]=\"space\"\n                        class=\"w-48 min-w-[12rem] h-[96rem] border-r border-base-300\"\n                    ></dayview-space>\n                    <div\n                        *ngFor=\"let time of blocks; let i = index\"\n                        class=\"absolute bg-base-300 h-px min-w-full left-0\"\n                        [style.width]=\"\n                            (space_list | async)?.length * 12 + 'rem'\n                        \"\n                        [style.top]=\"i * 4 + 'rem'\"\n                    ></div>\n                </div>\n            </div>\n            <mat-progress-bar\n                *ngIf=\"loading | async\"\n                mode=\"indeterminate\"\n                class=\"absolute bottom-0 left-0 right-0\"\n            ></mat-progress-bar>\n            <view-event-details\n                *ngIf=\"event | async\"\n                [event]=\"event | async\"\n            ></view-event-details>\n        </div>\n    `,\n    styles: [\n        `\n            :host {\n                position: relative;\n                height: 100%;\n                width: 100%;\n            }\n\n            [change-transform] {\n                will-change: transform;\n            }\n        `,\n    ],\n})\nexport class DayviewTimelineComponent\n    extends AsyncHandler\n    implements OnInit, OnDestroy\n{\n    /** Time blocks to display */\n    public readonly blocks: string[] = HOUR_BLOCKS;\n    /** Current scroll position of the content */\n    public scroll: { x: number; y: number } = { x: 0, y: 0 };\n    /** Whether event data is loading */\n    public readonly loading = this._state.loading;\n    /** Event to show more details about */\n    public readonly event = this._state.event;\n\n    public readonly spaces = this._org.active_building.pipe(\n        filter((_) => !!_),\n        switchMap(({ id }) =>\n            querySystems({ zone_id: id, limit: 1000 }).pipe(\n                catchError(() => of({ data: [] }))\n            )\n        ),\n        map(({ data }) =>\n            data.map(\n                (_) =>\n                    new Space({\n                        ..._,\n                        level: this._org.levelWithID(_.zones),\n                    } as any)\n            )\n        ),\n        shareReplay(1)\n    );\n    /** List of spaces to display */\n    public readonly space_list = combineLatest([\n        this.spaces,\n        this._state.zones,\n    ]).pipe(\n        map(\n            ([spaces, zones]) =>\n                spaces.filter(\n                    (space) =>\n                        !zones?.length ||\n                        space.zones.find((z) => zones.includes(z))\n                ) || []\n        )\n    );\n\n    constructor(\n        private _org: OrganisationService,\n        private _state: EventsStateService\n    ) {\n        super();\n    }\n\n    public ngOnInit() {\n        this._state.startPolling();\n    }\n\n    public ngOnDestroy() {\n        this._state.stopPolling();\n    }\n\n    public onScroll(e) {\n        requestAnimationFrame(\n            () =>\n                (this.scroll = {\n                    x: e.srcElement.scrollLeft,\n                    y: e.srcElement.scrollTop,\n                })\n        );\n    }\n}\n","import { Component } from '@angular/core';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { first } from 'rxjs/operators';\n\nimport { AsyncHandler, Identity, SettingsService } from '@placeos/common';\nimport { OrganisationService } from '@placeos/organisation';\nimport { BookingUIOptions, EventsStateService } from './events-state.service';\n\n@Component({\n    selector: 'dayview-topbar',\n    template: `\n        <div\n            class=\"flex items-center px-4 h-20 bg-base-100 border-b border-base-200\"\n        >\n            <button\n                btn\n                matRipple\n                new\n                class=\"w-12 xl:w-auto overflow-hidden\"\n                (click)=\"newBooking()\"\n            >\n                <div class=\"flex items-center\">\n                    <app-icon\n                        class=\"mr-2\"\n                        [icon]=\"{ class: 'material-icons', content: 'add' }\"\n                    ></app-icon>\n                    <div class=\"hidden xl:block\">New Booking</div>\n                </div>\n            </button>\n            <mat-form-field appearance=\"outline\">\n                <mat-select\n                    multiple\n                    [(ngModel)]=\"zones\"\n                    (ngModelChange)=\"updateZones($event)\"\n                    placeholder=\"All Levels\"\n                >\n                    <mat-option\n                        *ngFor=\"let level of levels | async\"\n                        [value]=\"level.id\"\n                    >\n                        {{ level.display_name || level.name }}\n                    </mat-option>\n                </mat-select>\n            </mat-form-field>\n            <mat-form-field appearance=\"outline\">\n                <mat-select\n                    multiple\n                    [(ngModel)]=\"type_list\"\n                    (ngModelChange)=\"updateTypes($event)\"\n                    placeholder=\"No Events\"\n                >\n                    <mat-select-trigger>Legend</mat-select-trigger>\n                    <mat-option *ngFor=\"let type of types\" [value]=\"type.id\">\n                        {{ type.name }}\n                    </mat-option>\n                </mat-select>\n            </mat-form-field>\n            <mat-slide-toggle\n                class=\"m-2\"\n                [ngModel]=\"(ui_options | async)?.show_overflow\"\n                (ngModelChange)=\"updateUIOptions({ show_overflow: $event })\"\n                *ngIf=\"allow_setup_breakdown\"\n            >\n                <div class=\"text-xs\">Setup / Breakdown</div>\n            </mat-slide-toggle>\n            <div class=\"flex-1 w-0\"></div>\n            <!-- <searchbar class=\"mr-2\"></searchbar> -->\n            <date-options (dateChange)=\"setDate($event)\"></date-options>\n        </div>\n    `,\n    styles: [\n        `\n            button {\n                min-width: 0;\n                padding: 0 0.85rem;\n            }\n\n            mat-form-field {\n                height: 3.25em;\n                width: 8em;\n                margin-left: 1em;\n            }\n\n            mat-slide-toggle div {\n                width: 5.5em;\n                white-space: initial;\n                line-height: 1.2em;\n            }\n        `,\n    ],\n})\nexport class DayviewTopbarComponent extends AsyncHandler {\n    /** List of selected levels */\n    public zones: string[] = [];\n\n    public readonly types: Identity[] = [\n        { id: 'internal', name: 'Internal' },\n        { id: 'external', name: 'External' },\n        { id: 'cancelled', name: 'Cancelled' },\n    ];\n    /** List of selected types */\n    public type_list: string[] = this.types.map((i) => `${i.id}`);\n    /** List of levels for the active building */\n    public readonly levels = this._org.active_levels;\n    /** List of levels for the active building */\n    public readonly ui_options = this._state.options;\n    /** Set filtered date */\n    public readonly setDate = (d) => this._state.setDate(d);\n    /**  */\n    public readonly newBooking = (d?) => this._state.newBooking(d);\n    /** List of levels for the active building */\n    public readonly updateZones = (z) => {\n        this._router.navigate([], {\n            relativeTo: this._route,\n            queryParams: { zone_ids: z.join(',') },\n        });\n        this._state.setZones(z);\n    };\n    /** List of levels for the active building */\n    public readonly updateTypes = (types) =>\n        this._state.setFilters({\n            hide_type: this.types.reduce((list, item) => {\n                !types.includes(item.id) ? list.push(item) : '';\n                return list;\n            }, []),\n        });\n\n    public updateUIOptions(options: BookingUIOptions) {\n        this._state.setUIOptions(options);\n    }\n\n    public get allow_setup_breakdown() {\n        return this._settings.get('app.events.allow_setup_breakdown');\n    }\n\n    constructor(\n        private _state: EventsStateService,\n        private _org: OrganisationService,\n        private _route: ActivatedRoute,\n        private _router: Router,\n        private _settings: SettingsService\n    ) {\n        super();\n    }\n\n    public async ngOnInit() {\n        await this._org.initialised.pipe(first((_) => _)).toPromise();\n        this.subscription(\n            'route.query',\n            this._route.queryParamMap.subscribe((params) => {\n                if (params.has('zone_ids')) {\n                    const zones = params.get('zone_ids').split(',');\n                    if (zones.length) {\n                        this.zones = zones;\n                        const level = this._org.levelWithID(zones);\n                        if (!level) return;\n                        this._org.building = this._org.buildings.find(\n                            (bld) => bld.id === level.parent_id\n                        );\n                    }\n                }\n            })\n        );\n        this.subscription(\n            'levels',\n            this._org.active_levels.subscribe((levels) => {\n                this.zones = this.zones.filter((zone) =>\n                    levels.find((lvl) => lvl.id === zone)\n                );\n                if (!this.zones.length && levels.length) {\n                    this.zones.push(levels[0].id);\n                }\n                this.updateZones(this.zones);\n            })\n        );\n        this.updateTypes(this.type_list);\n    }\n}\n","import { Component, Input } from '@angular/core';\nimport { FormGroup } from '@angular/forms';\nimport { MatDialog } from '@angular/material/dialog';\nimport { SettingsService } from '@placeos/common';\nimport { CateringOrderStateService } from 'libs/catering/src/lib/catering-order-modal/catering-order-state.service';\nimport { BehaviorSubject, combineLatest } from 'rxjs';\nimport { map, tap } from 'rxjs/operators';\n\n@Component({\n    selector: 'event-form',\n    template: `\n        <form *ngIf=\"form\" [formGroup]=\"form\">\n            <div class=\"flex flex-col\">\n                <label for=\"title\">Title<span>*</span>:</label>\n                <mat-form-field appearance=\"outline\">\n                    <input\n                        matInput\n                        name=\"title\"\n                        formControlName=\"title\"\n                        placeholder=\"Meeting Title\"\n                    />\n                    <mat-error>A valid title is required</mat-error>\n                </mat-form-field>\n            </div>\n            <div class=\"flex flex-col relative\">\n                <label for=\"date\">Date<span>*</span>:</label>\n                <a-date-field name=\"date\" formControlName=\"date\"></a-date-field>\n                <mat-checkbox\n                    formControlName=\"all_day\"\n                    *ngIf=\"allow_all_day\"\n                    class=\"absolute -top-2 right-0\"\n                >\n                    {{ 'FORM.ALL_DAY' | translate }}\n                </mat-checkbox>\n            </div>\n            <div class=\"flex space-x-2\" *ngIf=\"!form.value.all_day\">\n                <div class=\"flex flex-col flex-1\">\n                    <label for=\"start-time\">Start Time<span>*</span>:</label>\n                    <a-time-field\n                        name=\"start-time\"\n                        [ngModel]=\"form.get('date').value\"\n                        (ngModelChange)=\"form.patchValue({ date: $event })\"\n                        [ngModelOptions]=\"{ standalone: true }\"\n                        [use_24hr]=\"use_24hr_time\"\n                    ></a-time-field>\n                </div>\n                <div class=\"flex flex-col flex-1\">\n                    <label for=\"duration\">Duration<span>*</span>:</label>\n                    <a-duration-field\n                        name=\"duration\"\n                        [time]=\"form.controls?.date?.value\"\n                        formControlName=\"duration\"\n                        [use_24hr]=\"use_24hr_time\"\n                    ></a-duration-field>\n                </div>\n            </div>\n            <div class=\"flex flex-col flex-1\">\n                <label for=\"organiser\">Host<span>*</span>:</label>\n                <a-user-search-field\n                    name=\"organiser\"\n                    formControlName=\"organiser\"\n                ></a-user-search-field>\n            </div>\n            <div class=\"flex flex-col flex-1\">\n                <label for=\"attendees\">Attendees<span>*</span>:</label>\n                <a-user-list-field\n                    name=\"attendees\"\n                    formControlName=\"attendees\"\n                ></a-user-list-field>\n            </div>\n            <div class=\"flex flex-col flex-1\">\n                <label for=\"space\">Space<span>*</span>:</label>\n                <space-list-field\n                    class=\"w-full\"\n                    formControlName=\"resources\"\n                ></space-list-field>\n            </div>\n            <div\n                class=\"py-2\"\n                *ngIf=\"(has_catering | async) && form.contains('catering')\"\n            >\n                <label for=\"catering\">Catering:</label>\n                <catering-list-field\n                    name=\"catering\"\n                    formControlName=\"catering\"\n                    [options]=\"{\n                        date: form.value.date,\n                        duration: form.value.duration,\n                        all_day: form.value.all_day,\n                        zone_id: form.value.resources[0]?.level?.parent_id\n                    }\"\n                ></catering-list-field>\n                <mat-form-field\n                    appearance=\"outline\"\n                    class=\"w-full mt-2\"\n                    *ngIf=\"form.value.catering?.length && has_codes | async\"\n                    (openedChange)=\"focusInput()\"\n                >\n                    <mat-select\n                        formControlName=\"catering_charge_code\"\n                        placeholder=\"Charge Code\"\n                    >\n                        <input\n                            #input\n                            class=\"sticky top-0 bg-base-100 px-4 py-3 text-base border-x-0 border-t-0 border-b focus:border-b border-base-200 w-full rounded-none z-50\"\n                            [ngModel]=\"code_filter.getValue()\"\n                            (ngModelChange)=\"code_filter.next($event)\"\n                            [ngModelOptions]=\"{ standalone: true }\"\n                            placeholder=\"Search charge codes...\"\n                        />\n                        <mat-option class=\"hidden\"></mat-option>\n                        <mat-option\n                            *ngFor=\"let code of filtered_codes | async\"\n                            [value]=\"code\"\n                        >\n                            {{ code }}\n                        </mat-option>\n                    </mat-select>\n                    <mat-error> Catering charge code is required </mat-error>\n                </mat-form-field>\n                <mat-form-field\n                    appearance=\"outline\"\n                    class=\"w-full\"\n                    [class.mt-2]=\"\n                        !(form.value.catering?.length && has_codes | async)\n                    \"\n                    *ngIf=\"form.value.catering?.length\"\n                >\n                    <textarea\n                        matInput\n                        formControlName=\"catering_notes\"\n                        placeholder=\"Extra catering details...\"\n                    ></textarea>\n                    <mat-error> Catering Order notes are required </mat-error>\n                </mat-form-field>\n            </div>\n            <div class=\"flex flex-col flex-1 mb-4\" *ngIf=\"has_assets\">\n                <label for=\"space\">Assets:</label>\n                <asset-list-field\n                    [date]=\"form.value.date\"\n                    [duration]=\"form.value.duration\"\n                    formControlName=\"assets\"\n                ></asset-list-field>\n            </div>\n            <div class=\"flex space-x-2\">\n                <div class=\"flex flex-col space-y-2 flex-1\">\n                    <label for=\"setup\">Setup Duration</label>\n                    <a-duration-field\n                        name=\"setup\"\n                        formControlName=\"setup_time\"\n                        [min]=\"0\"\n                        [custom_options]=\"[5, 10]\"\n                    ></a-duration-field>\n                </div>\n                <div class=\"flex flex-col space-y-2 flex-1\">\n                    <label for=\"breakdown\">Breakdown Duration</label>\n                    <a-duration-field\n                        name=\"breakdown\"\n                        [min]=\"0\"\n                        formControlName=\"breakdown_time\"\n                        [custom_options]=\"[5, 10]\"\n                    ></a-duration-field>\n                </div>\n            </div>\n        </form>\n    `,\n    styles: [``],\n})\nexport class EventFormComponent {\n    @Input() public form: FormGroup;\n\n    public code_filter = new BehaviorSubject('');\n\n    public readonly has_catering = this._catering.available_menu.pipe(\n        map((l) => l.length > 0)\n    );\n\n    public readonly has_codes = this._catering.charge_codes.pipe(\n        map((l) => l.length > 0),\n        tap((has_codes) => {\n            if (!has_codes) {\n                this.form.get('catering_charge_code').setValidators([]);\n                this.form.updateValueAndValidity();\n            }\n        })\n    );\n\n    public readonly filtered_codes = combineLatest([\n        this.code_filter,\n        this._catering.charge_codes,\n    ]).pipe(\n        map(([s, l]) =>\n            l.filter((_) => _.toLowerCase().includes(s.toLowerCase()))\n        )\n    );\n\n    public get allow_all_day() {\n        return !!this._settings.get('app.events.allow_all_day');\n    }\n\n    public get has_assets() {\n        return !!this._settings.get('app.events.has_assets');\n    }\n\n    public get use_24hr_time() {\n        return this._settings.get('app.use_24_hour_time');\n    }\n\n    constructor(\n        private _dialog: MatDialog,\n        private _settings: SettingsService,\n        private _catering: CateringOrderStateService\n    ) {}\n}\n","import { Component } from '@angular/core';\n\n@Component({\n    selector: '[app-new-dayview]',\n    template: `\n        <app-topbar></app-topbar>\n        <div class=\"flex flex-1 h-px\">\n            <app-sidebar></app-sidebar>\n            <main class=\"relative flex flex-col flex-1 w-1/2 h-full\">\n                <room-bookings></room-bookings>\n            </main>\n        </div>\n    `,\n    styles: [\n        `\n            :host {\n                display: flex;\n                flex-direction: column;\n                height: 100%;\n                width: 100%;\n                background-color: var(--b1);\n            }\n        `,\n    ],\n})\nexport class NewDayViewComponent {}\n","import { Component } from '@angular/core';\nimport { EventsStateService } from './events-state.service';\nimport { OrganisationService } from '@placeos/organisation';\nimport { getModule } from '@placeos/ts-client';\nimport { CalendarEvent } from '@placeos/events';\n\n@Component({\n    selector: 'room-bookings-approvals',\n    template: `\n        <div\n            class=\"flex flex-col h-full overflow-hidden border-l border-base-200\"\n            [style.width]=\"show ? '' : '0px'\"\n        >\n            <div\n                class=\"flex items-center p-2 border-b border-base-200 space-x-2\"\n            >\n                <button\n                    btn\n                    icon\n                    matRipple\n                    class=\"bg-base-200\"\n                    (click)=\"show = !show\"\n                >\n                    <app-icon>chevron_right</app-icon>\n                </button>\n                <h3 class=\"flex-1\">\n                    Pending Approval ({{ (pending | async)?.length || '0' }})\n                </h3>\n                <button btn icon matRipple>\n                    <app-icon>search</app-icon>\n                </button>\n            </div>\n            <div class=\"flex-1 overflow-auto p-2 space-y-2\">\n                <div\n                    *ngIf=\"!(pending | async)?.length\"\n                    class=\"w-full h-full flex flex-col items-center justify-center space-y-2\"\n                >\n                    <img src=\"assets/icons/no-pending.svg\" />\n                    <p>No pending requests</p>\n                </div>\n                <div\n                    *ngFor=\"let event of pending | async\"\n                    class=\"relative border border-base-200 p-2 w-full rounded\"\n                >\n                    <h3>{{ event.title }}</h3>\n                    <p class=\"opacity-30 text-xs mb-2\">\n                        {{ event.date | date: 'medium' }}\n                    </p>\n                    <div class=\"w-64 h-32 overflow-hidden mb-2 bg-base-200\">\n                        <img\n                            auth\n                            class=\"object-cover min-w-full min-h-full\"\n                            [source]=\"\n                                (event.resources[0]?.email | space | async)\n                                    ?.images[0]\n                            \"\n                            *ngIf=\"event.resources.length\"\n                        />\n                    </div>\n                    <div class=\"flex items-center space-x-2 mb-2\">\n                        <div\n                            class=\"h-8 w-8 bg-base-200 rounded-full flex items-center justify-center\"\n                        >\n                            <app-icon class=\"text-xl\">place</app-icon>\n                        </div>\n                        <div class=\"flex-1 text-xs\">\n                            {{\n                                (\n                                    event.resources.length &&\n                                    (event.resources[0]?.email | space | async)\n                                )?.display_name ||\n                                    (event.resources[0]?.email | space | async)\n                                        ?.name ||\n                                    'No Location'\n                            }}\n                        </div>\n                    </div>\n                    <div class=\"flex items-center space-x-2 mb-2\">\n                        <div\n                            class=\"h-8 w-8 bg-base-200 rounded-full flex items-center justify-center\"\n                        >\n                            <app-icon class=\"text-xl\">person</app-icon>\n                        </div>\n                        <div class=\"flex-1 text-xs\">\n                            {{ event.organiser?.name || event.host }}\n                        </div>\n                    </div>\n                    <div class=\"flex items-center space-x-2\">\n                        <button\n                            btn\n                            matRipple\n                            class=\"border-success bg-success-light text-black flex flex-1 items-center space-x-2\"\n                            [disabled]=\"status[event.id] === 'accept'\"\n                            (click)=\"approve(event)\"\n                        >\n                            <div>\n                                {{\n                                    status[event.id] === 'accept'\n                                        ? 'Approved'\n                                        : 'Approve'\n                                }}\n                            </div>\n                            <app-icon class=\"text-success\">done</app-icon>\n                        </button>\n                        <button\n                            btn\n                            matRipple\n                            class=\"border-error bg-error-light text-black flex flex-1 items-center space-x-2 \"\n                            [disabled]=\"status[event.id] === 'decline'\"\n                            (click)=\"reject(event)\"\n                        >\n                            <div>\n                                {{\n                                    status[event.id] === 'decline'\n                                        ? 'Declined'\n                                        : 'Decline'\n                                }}\n                            </div>\n                            <app-icon class=\"text-error\">close</app-icon>\n                        </button>\n                    </div>\n                </div>\n            </div>\n            <div\n                class=\"absolute bottom-0 left-0 right-0 top-14 p-2 flex flex-col items-center justify-center space-y-2\"\n                *ngIf=\"loading\"\n            >\n                <div class=\"absolute inset-0 bg-base-100 opacity-80 z-0\"></div>\n                <mat-spinner diameter=\"32\"></mat-spinner>\n                <p class=\"relative z-10\">Processing...</p>\n            </div>\n        </div>\n        <button\n            btn\n            icon\n            matRipple\n            class=\"bg-warning absolute top-2 -left-8 shadow text-warning-content\"\n            *ngIf=\"!show\"\n            (click)=\"show = !show\"\n        >\n            <app-icon>chevron_left</app-icon>\n        </button>\n    `,\n    styles: [\n        `\n            :host {\n                display: block;\n                position: relative;\n                height: 100%;\n            }\n        `,\n    ],\n})\nexport class RoomBookingsApprovalsComponent {\n    public show = true;\n    public loading = false;\n    public status: Record<string, 'accept' | 'decline' | undefined> = {};\n    public readonly pending = this._state.pending;\n\n    constructor(\n        private _state: EventsStateService,\n        private _org: OrganisationService\n    ) {}\n\n    public async approve(event: CalendarEvent) {\n        const system_id = this._org.binding('approvals');\n        if (!system_id) return;\n        const mod = getModule(system_id, 'RoomBookingApproval', 1);\n        if (!mod) return;\n        this.loading = true;\n        await mod.execute('accept_event', [event.mailbox, event.id]).catch();\n        this.loading = false;\n        this.status[event.id] = 'accept';\n    }\n\n    public async reject(event: CalendarEvent) {\n        const system_id = this._org.binding('approvals');\n        if (!system_id) return;\n        const mod = getModule(system_id, 'RoomBookingApproval', 1);\n        if (!mod) return;\n        this.loading = true;\n        await mod.execute('decline_event', [event.mailbox, event.id]).catch();\n        this.loading = false;\n        this.status[event.id] = 'decline';\n    }\n}\n","import { Component } from '@angular/core';\nimport { OrganisationService } from '@placeos/organisation';\nimport { EventsStateService } from './events-state.service';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { AsyncHandler, SettingsService } from '@placeos/common';\nimport { take } from 'rxjs/operators';\n\nconst EMPTY = [];\n@Component({\n    selector: 'room-bookings',\n    template: `\n        <div class=\"absolute inset-0 flex flex-col overflow-hidden pl-8\">\n            <div class=\"flex items-center justify-between w-full py-4 pr-8\">\n                <h2 class=\"text-2xl font-medium\">Room Bookings</h2>\n                <button btn matRipple class=\"space-x-2\" (click)=\"newBooking()\">\n                    <div>New Booking</div>\n                    <app-icon>add</app-icon>\n                </button>\n            </div>\n            <div class=\"w-full flex items-center\">\n                <mat-form-field appearance=\"outline\" class=\"h-[3.5rem]\" *ngIf=\"!use_region\">\n                    <mat-select\n                        multiple\n                        [ngModel]=\"zones | async\"\n                        (ngModelChange)=\"updateZones($event)\"\n                        placeholder=\"All Levels\"\n                    >\n                        <mat-option\n                            *ngFor=\"let level of levels | async\"\n                            [value]=\"level.id\"\n                        >\n                            {{ level.display_name || level.name }}\n                        </mat-option>\n                    </mat-select>\n                </mat-form-field>\n                <ng-container *ngIf=\"allow_setup_breakdown\">\n                    <div class=\"border-l h-full ml-8 mr-4\" *ngIf=\"!use_region\"></div>\n                    <mat-slide-toggle\n                        class=\"m-2\"\n                        [ngModel]=\"(ui_options | async)?.show_overflow\"\n                        (ngModelChange)=\"updateUIOptions({ show_overflow: $event })\"\n                    >\n                        <div class=\"text-xs\">Setup / Breakdown</div>\n                    </mat-slide-toggle>\n                </ng-container>\n                <div class=\"border-l h-full ml-8 mr-4\"></div>\n                <div class=\"flex items-center space-x-2\">\n                    <button btn matRipple class=\"inverse\" [matMenuTriggerFor]=\"menu\">\n                        <app-icon>filter_list</app-icon>\n                        <div class=\"mx-2\">Filters</div>\n                    </button>\n                    <mat-menu #menu=\"matMenu\" class=\"\">\n                        <div class=\"flex flex-col space-y-2 overflow-hidden w-48\">\n                            <mat-checkbox \n                                *ngFor=\"let type of types\" \n                                [ngModel]=\"!type_list.includes(type.id)\" \n                                (ngModelChange)=\"setFilter(type.id, !$event)\"\n                            >\n                                {{ type.name }}\n                            </mat-checkbox>\n                        </div>\n                    </mat-menu>\n                    <ng-container *ngFor=\"let type of types\">\n                        <div class=\"flex items-center border border-base-200 rounded-3xl\" *ngIf=\"!type_list.includes(type.id)\">\n                            <div class=\"h-4 w-4 m-2 rounded-full\" [style.background-color]=\"type.color\"></div>\n                            <div>{{ type.name }}</div>\n                            <button icon matRipple (click)=\"setFilter(type.id, true)\">\n                                <app-icon>close</app-icon>\n                            </button>\n                        </div>\n                    </ng-container>\n                </div>\n            </div>\n            <div class=\"flex w-full flex-1 h-px border-t mt-4 border-base-200\">\n                <room-bookings-timeline class=\"flex-1\"/>\n                <room-bookings-approvals *ngIf=\"has_approvals\"/>\n            </div>\n        </div>\n    `,\n    styles: [``],\n})\nexport class RoomBookingsComponent extends AsyncHandler {\n    public readonly zones = this._state.zones;\n    public readonly ui_options = this._state.options;\n    /** List of levels for the active building */\n    public readonly levels = this._org.active_levels;\n    /** List of levels for the active building */\n    public readonly updateZones = (z) => {\n        this._router.navigate([], {\n            relativeTo: this._route,\n            queryParams: { zone_ids: z.join(',') },\n        });\n        this._state.setZones(z);\n    };\n    public readonly updateUIOptions = (o) => this._state.setUIOptions(o);\n    /**  */\n    public readonly newBooking = (d?) => this._state.newBooking(d);\n\n    public readonly types: any[] = [\n        { id: 'internal', name: 'Internal', color: '#D81B60' },\n        { id: 'external', name: 'External', color: '#1E88E5' },\n        { id: 'cancelled', name: 'Cancelled', color: '#eeeeee' },\n    ];\n\n    public get type_list() {\n        return this._state.filters.hide_type || EMPTY;\n    }\n\n    public get has_approvals() {\n        return this._org.binding('approvals');\n    }\n\n    public get allow_setup_breakdown() {\n        return this._settings.get('app.events.allow_setup_breakdown');\n    }\n\n    public get use_region() {\n        return this._settings.get('app.use_region');\n    }\n\n    constructor(\n        private _org: OrganisationService,\n        private _state: EventsStateService,\n        private _router: Router,\n        private _route: ActivatedRoute,\n        private _settings: SettingsService\n    ) {\n        super();\n    }\n\n    public ngOnInit() {\n        this.subscription(\n            'route.query',\n            this._route.queryParamMap.subscribe((params) => {\n                if (this.use_region) return;\n                if (params.has('zone_ids')) {\n                    const zones = params.get('zone_ids').split(',');\n                    if (zones.length) {\n                        const level = this._org.levelWithID(zones);\n                        if (!level) return;\n                        this._org.building = this._org.buildings.find(\n                            (bld) => bld.id === level.parent_id\n                        );\n                    }\n                }\n            })\n        );\n        this.subscription(\n            'levels',\n            this._org.active_levels.subscribe(async (levels) => {\n                if (this.use_region) return;\n                const zones = (\n                    await this.zones.pipe(take(1)).toPromise()\n                ).filter((zone) => levels.find((lvl) => lvl.id === zone));\n                if (!zones.length && levels.length) {\n                    zones.push(levels[0].id);\n                }\n                this.updateZones(zones);\n            })\n        );\n        this.subscription(\n            'region',\n            this._org.active_region.subscribe((_) => this.updateZones([_.id]))\n        );\n    }\n\n    public setFilter(id: string, value: boolean) {\n        const filters = this._state.filters;\n        let hide_type = filters.hide_type || [];\n        hide_type = hide_type.filter((i) => i !== id);\n        if (value) hide_type.push(id as any);\n        this._state.setFilters({ hide_type });\n    }\n}\n","import { Component, ElementRef, ViewChild } from '@angular/core';\nimport {\n    differenceInMinutes,\n    format,\n    isSameDay,\n    setHours,\n    startOfDay,\n    startOfMinute,\n} from 'date-fns';\nimport { EventsStateService } from './events-state.service';\nimport { combineLatest } from 'rxjs';\nimport { map, shareReplay } from 'rxjs/operators';\nimport {\n    AsyncHandler,\n    SettingsService,\n    notifyError,\n    notifySuccess,\n    openConfirmModal,\n} from '@placeos/common';\nimport { MatDialog } from '@angular/material/dialog';\nimport {\n    CalendarEvent,\n    EventDetailsModalComponent,\n    SetupBreakdownModalComponent,\n    declineEvent,\n} from '@placeos/events';\n\n@Component({\n    selector: 'room-bookings-timeline',\n    template: `\n        <div\n            class=\"relative flex items-center justify-center p-2 space-x-2 border-b border-base-200\"\n        >\n            <date-options\n                [date]=\"date | async\"\n                (dateChange)=\"setDate($event)\"\n                [is_new]=\"true\"\n            ></date-options>\n            <div\n                class=\"absolute top-1/2 -translate-y-1/2 left-4 text-info text-sm\"\n                *ngIf=\"is_today | async\"\n            >\n                Today\n            </div>\n        </div>\n        <div\n            class=\"flex flex-col w-full flex-1 overflow-hidden\"\n            (window:resize)=\"onResize()\"\n        >\n            <div header class=\"flex items-center w-full h-16\">\n                <div\n                    times\n                    class=\"w-16 h-full flex flex-col items-center justify-end text-xs pb-2 opacity-60\"\n                >\n                    {{ date | async | date: 'z' }}\n                </div>\n                <div\n                    spaces\n                    class=\"relative flex-1 h-full overflow-hidden border-r border-base-200\"\n                >\n                    <div\n                        class=\"flex absolute inset-y-0\"\n                        [style.left]=\"-offset_x + 'px'\"\n                    >\n                        <div\n                            class=\"flex flex-col items-center justify-center h-full w-56\"\n                            *ngFor=\"let space of spaces | async\"\n                        >\n                            {{ space.display_name || space.name }}\n                        </div>\n                    </div>\n                </div>\n            </div>\n            <div content class=\"flex w-full flex-1 h-px\">\n                <div\n                    times\n                    class=\"relative w-16 h-full overflow-y-hidden overflow-x-visible border-r border-base-200\"\n                >\n                    <div\n                        class=\"absolute inset-x-0\"\n                        [style.top]=\"-offset_y + 'px'\"\n                    >\n                        <div\n                            class=\"relative block h-12\"\n                            *ngFor=\"let value of hours\"\n                        >\n                            <div\n                                class=\"absolute top-0 right-0 w-2 h-px bg-base-200\"\n                            ></div>\n                            <div\n                                class=\"absolute top-0 right-3 -translate-y-1/2 text-xs opacity-60\"\n                            >\n                                {{ formatHour(value) }}\n                            </div>\n                        </div>\n                        <div\n                            class=\"absolute bg-secondary right-0 translate-x-1/2 -translate-y-1/2 h-2 w-2 rounded-full z-30\"\n                            [style.top]=\"timeToOffset(now) + 'px'\"\n                            *ngIf=\"is_today | async\"\n                        ></div>\n                    </div>\n                </div>\n                <div spaces class=\"relative flex-1 h-full overflow-hidden w-px\">\n                    <div\n                        class=\"absolute top-0 flex h-full pointer-events-none\"\n                        [style.left]=\"-(offset_x % 224) + 'px'\"\n                    >\n                        <div\n                            *ngFor=\"let _ of w_slots\"\n                            class=\"w-56 h-full border-r border-base-200\"\n                        ></div>\n                    </div>\n                    <div\n                        class=\"absolute left-0 w-full pointer-events-none\"\n                        [style.top]=\"-(offset_y % 48) + 'px'\"\n                    >\n                        <div\n                            *ngFor=\"let _ of h_slots\"\n                            class=\"h-12 w-full border-t border-base-200\"\n                        ></div>\n                        <div\n                            *ngIf=\"is_today | async\"\n                            class=\"absolute inset-x-0 -translate-y-px h-0.5 bg-secondary z-30\"\n                            [style.top]=\"\n                                timeToOffset(now) -\n                                offset_y -\n                                (48 - (offset_y % 48)) +\n                                48 +\n                                'px'\n                            \"\n                        >\n                            <div\n                                class=\"absolute bg-secondary top-1/2 left-0 -translate-x-1/2 -translate-y-1/2 h-2 w-2 rounded-full\"\n                            ></div>\n                        </div>\n                    </div>\n                    <div\n                        #scroll_container\n                        class=\"relative w-full h-full overflow-auto z-10\"\n                        (scroll)=\"onScroll()\"\n                    >\n                        <div\n                            class=\"overflow-hidden relative\"\n                            [style.height]=\"24 * 3 + 'rem'\"\n                            [style.width]=\"\n                                (spaces | async)?.length * 14 + 'rem'\n                            \"\n                        >\n                            <ng-container\n                                *ngFor=\"\n                                    let space of spaces | async;\n                                    let i = index\n                                \"\n                            >\n                                <ng-container\n                                    *ngFor=\"\n                                        let event of (events | async)[\n                                            space.id\n                                        ] || []\n                                    \"\n                                >\n                                    <div\n                                        event\n                                        *ngIf=\"\n                                            !event.is_system_event ||\n                                            (ui_options | async)?.show_overflow\n                                        \"\n                                        class=\"absolute w-[13.625rem] hover:opacity-90\"\n                                        [style.left]=\"i * 14 + 0.125 + 'rem'\"\n                                        [style.top]=\"\n                                            timeToOffset(event.date) + 'px'\n                                        \"\n                                        [style.height]=\"\n                                            endToOffset(event.duration) + 'px'\n                                        \"\n                                        [class.pointer-events-none]=\"\n                                            event.is_system_event\n                                        \"\n                                        (click)=\"viewEvent(event, space.id)\"\n                                    >\n                                        <div\n                                            class=\"relative w-full h-full shadow bg-base-100 border border-base-200 hover:bg-base-200 rounded-lg overflow-hidden px-3 py-1 text-xs\"\n                                            [class.opacity-60]=\"\n                                                event.state === 'done'\n                                            \"\n                                            [class.!rounded-none]=\"\n                                                event.is_system_event\n                                            \"\n                                            [class.!border-secondary]=\"\n                                                event.is_system_event\n                                            \"\n                                        >\n                                            <ng-container\n                                                *ngIf=\"event.is_system_event\"\n                                            >\n                                                <div\n                                                    class=\"absolute inset-0 bg-secondary opacity-50\"\n                                                ></div>\n                                            </ng-container>\n                                            <ng-container\n                                                *ngIf=\"!event.is_system_event\"\n                                            >\n                                                <div\n                                                    class=\"absolute left-0 inset-y-0 w-1 \"\n                                                    [class.bg-secondary]=\"\n                                                        event.status !==\n                                                        'cancelled'\n                                                    \"\n                                                    [class.bg-error]=\"\n                                                        event.status ===\n                                                        'cancelled'\n                                                    \"\n                                                ></div>\n                                                <p\n                                                    class=\"truncate\"\n                                                    [class.opacity-60]=\"\n                                                        event.status ===\n                                                        'cancelled'\n                                                    \"\n                                                >\n                                                    {{\n                                                        event.all_day\n                                                            ? 'All Day'\n                                                            : (event.date\n                                                              | date\n                                                                  : time_format)\n                                                    }}\n                                                    &ndash;\n                                                    {{\n                                                        event.organiser?.name ||\n                                                            event.hjost\n                                                    }}\n                                                </p>\n                                                <p\n                                                    class=\"truncate\"\n                                                    [class.opacity-60]=\"\n                                                        event.status ===\n                                                        'cancelled'\n                                                    \"\n                                                >\n                                                    {{ event.title }}\n                                                </p>\n                                            </ng-container>\n                                        </div>\n                                    </div>\n                                </ng-container>\n                            </ng-container>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    `,\n    styles: [\n        `\n            :host {\n                display: flex;\n                flex-direction: column;\n            }\n        `,\n    ],\n})\nexport class RoomBookingsTimelineComponent extends AsyncHandler {\n    public offset_x = 0;\n    public offset_y = 0;\n    public w_slots = [];\n    public h_slots = [];\n    public hours = Array.from({ length: 24 }, (_, i) => i);\n    public readonly ui_options = this._state.options;\n    public readonly spaces = this._state.spaces;\n    public readonly date = this._state.date;\n    public readonly is_today = this.date.pipe(\n        map((d) => isSameDay(d, Date.now()))\n    );\n    public readonly events = combineLatest([\n        this._state.spaces,\n        this._state.filtered,\n    ]).pipe(\n        map(([spaces, events]) => {\n            const map = {};\n            for (const space of spaces) {\n                map[space.id] = events.filter(\n                    (event) =>\n                        event.resources.find(\n                            (item) =>\n                                item.id === space.id ||\n                                item.email === space.email\n                        ) ||\n                        event.system?.id === space.id ||\n                        event.system?.email === space.email\n                );\n            }\n            return map;\n        }),\n        shareReplay(1)\n    );\n\n    public get now() {\n        return startOfMinute(Date.now()).valueOf();\n    }\n\n    public readonly edit = (e) => this._state.newBooking(e);\n    public readonly setDate = (d) => this._state.setDate(d);\n\n    @ViewChild('scroll_container', { static: true })\n    private _scroll_container: ElementRef<HTMLDivElement>;\n\n    public get time_format() {\n        return this._settings.time_format;\n    }\n\n    constructor(\n        private _state: EventsStateService,\n        private _dialog: MatDialog,\n        private _settings: SettingsService\n    ) {\n        super();\n    }\n\n    public formatHour(hour: number) {\n        const date = setHours(Date.now(), hour);\n        return this._settings.get('app.use_24_hour_time')\n            ? format(date, 'HH:00')\n            : format(date, 'h a');\n    }\n\n    public ngOnInit() {\n        this.subscription('poll', this._state.startPolling());\n        this.interval('scroll', () => this.onScroll(), 1000);\n        const date = Date.now();\n        this.onResize();\n    }\n\n    public timeToOffset(date: number) {\n        const diff = differenceInMinutes(date, startOfDay(date));\n        return Math.max(0, diff / 60) * 48;\n    }\n\n    public endToOffset(duration: number) {\n        return Math.min(24, duration / 60) * 48;\n    }\n\n    public onResize() {\n        const w_slots = Math.floor(window.innerWidth / 224) + 1;\n        const h_slots = Math.floor(window.innerHeight / 48);\n        this.w_slots = Array.from({ length: w_slots }, (_, i) => i);\n        this.h_slots = Array.from({ length: h_slots }, (_, i) => i);\n    }\n\n    public onScroll() {\n        this.offset_x = this._scroll_container.nativeElement.scrollLeft;\n        this.offset_y = this._scroll_container.nativeElement.scrollTop;\n    }\n\n    public viewEvent(event: CalendarEvent, space_id: string) {\n        if (event.is_system_event) return;\n        const ref = this._dialog.open(EventDetailsModalComponent, {\n            data: event,\n        });\n        ref.componentInstance.hide_edit = !this._settings.get(\n            'app.events.allow_edit'\n        );\n        this.subscription(\n            'remove',\n            ref.componentInstance.remove.subscribe(() =>\n                this.remove(event, space_id)\n            )\n        );\n        this.subscription(\n            'edit',\n            ref.componentInstance.edit.subscribe(() => this.edit(event))\n        );\n        this.subscription(\n            'actions',\n            ref.componentInstance.action.subscribe(async (action) => {\n                if (!action.includes('breakdown')) return;\n                const ref = this._dialog.open(SetupBreakdownModalComponent, {\n                    data: event,\n                });\n                const data = await ref.afterClosed().toPromise();\n                if (data) this._state.replace(data);\n            })\n        );\n    }\n\n    public async remove(item: CalendarEvent, space_id: string) {\n        const time = `${format(item.date, 'dd MMM yyyy ' + this.time_format)}`;\n        const resource_name = item.space?.display_name;\n        const content = `Delete the booking for ${resource_name} at ${time}`;\n        const resp = await openConfirmModal(\n            { title: `Delete booking`, content, icon: { content: 'delete' } },\n            this._dialog\n        );\n        if (resp.reason !== 'done') return;\n        resp.loading('Requesting booking deletion...');\n        await declineEvent(item.id, {\n            calendar: item.calendar || item.mailbox || item.host,\n            system_id: space_id,\n        })\n            .toPromise()\n            .catch((e) => {\n                notifyError(`Unable to delete booking. ${e}`);\n                resp.close();\n                throw e;\n            });\n        notifySuccess('Successfully deleted booking.');\n        this._dialog.closeAll();\n    }\n}\n"],"names":["EventEmitter","MatDialogRef","MAT_DIALOG_DATA","SettingsService","notifyError","notifySuccess","EventFormService","queryEvents","i0","ɵɵelementStart","ɵɵelement","ɵɵtext","ɵɵelementEnd","ɵɵadvance","ɵɵproperty","ɵɵtextInterpolate","ɵɵpipeBind1","ctx_r0","loading","ɵɵlistener","BookingModalComponent_footer_13_Template_button_click_1_listener","ɵɵrestoreView","_r3","ctx_r2","ɵɵnextContext","ɵɵresetView","save","BookingModalComponent","form","_service","constructor","_data","_dialog_ref","_settings","event","ngOnInit","_this","_asyncToGenerator","creator","mailbox","period_start","event_start","period_end","event_end","ical_uid","toPromise","find","_","id","all_day","get","newForm","_this2","postForm","catch","emit","reason","metadata","close","ɵɵdirectiveInject","i1","i2","i3","_2","selectors","outputs","decls","vars","consts","template","BookingModalComponent_Template","rf","ctx","ɵɵtemplate","BookingModalComponent_div_11_Template","BookingModalComponent_footer_13_Template","ɵɵtextInterpolate1","value","ɵɵclassProp","Router","DayViewComponent","links","_router","route","includes","navigate","attrs","_c0","DayViewComponent_Template","CommonModule","FormsModule","RouterModule","UIModule","DayviewTopbarComponent","DayviewTimelineComponent","DayviewSpaceComponent","DayviewEventComponent","EventFormComponent","SharedSpacesModule","SharedUsersModule","SharedCateringModule","RoomBookingsComponent","RoomBookingsTimelineComponent","RoomBookingsApprovalsComponent","NewDayViewComponent","MeetingFormDetailsComponent","EventBookModalComponent","ROUTES","path","component","DayViewModule","_3","forChild","declarations","imports","SimpleChanges","startOfDay","differenceInMinutes","format","addMinutes","CalendarEvent","EventsStateService","ɵɵclassMap","type","ɵɵstyleProp","overflow_top","overflow_height","ctx_r3","title","ctx_r4","time","ɵɵtextInterpolate2","ctx_r5","attendees","length","DayviewEventComponent_div_2_Template_div_click_0_listener","_r7","ctx_r6","view","DayviewEventComponent_div_2_div_3_Template","DayviewEventComponent_div_2_div_4_Template","DayviewEventComponent_div_2_div_5_Template","ctx_r1","top","height","organiser","name","duration","ext","ɵɵpipeBind2","time_format","DAY_IN_MINUTES","date","Date","guests","status","_state","ui_options","options","e","setEvent","ngOnChanges","changes","start","diff","setup_time","breakdown_time","inputs","features","ɵɵNgOnChangesFeature","DayviewEventComponent_Template","DayviewEventComponent_div_0_Template","DayviewEventComponent_div_2_Template","DayviewEventComponent_div_3_Template","tmp_0_0","show_overflow","tmp_2_0","show_cleaning","map","Space","AsyncHandler","event_r2","ɵɵelementContainerStart","DayviewSpaceComponent_ng_container_0_dayview_event_1_Template","ɵɵelementContainerEnd","events","filtered","pipe","bookings","filter","bkn","resources","space","email","subscription","subscribe","ɵɵInheritDefinitionFeature","DayviewSpaceComponent_Template","DayviewSpaceComponent_ng_container_0_Template","querySystems","combineLatest","of","catchError","shareReplay","switchMap","OrganisationService","scroll","y","time_r7","x","space_r8","display_name","space_r9","space_list","i_r11","HOUR_BLOCKS","Array","fill","idx","_org","blocks","spaces","active_building","zone_id","limit","data","level","levelWithID","zones","z","startPolling","ngOnDestroy","stopPolling","onScroll","requestAnimationFrame","srcElement","scrollLeft","scrollTop","DayviewTimelineComponent_Template","DayviewTimelineComponent_div_4_Template","DayviewTimelineComponent_div_8_Template","DayviewTimelineComponent_Template_div_scroll_10_listener","$event","DayviewTimelineComponent_dayview_space_12_Template","DayviewTimelineComponent_div_14_Template","DayviewTimelineComponent_mat_progress_bar_15_Template","DayviewTimelineComponent_view_event_details_17_Template","ActivatedRoute","first","level_r3","type_r4","DayviewTopbarComponent_mat_slide_toggle_15_Template_mat_slide_toggle_ngModelChange_0_listener","_r6","updateUIOptions","setUIOptions","allow_setup_breakdown","_route","types","type_list","i","levels","active_levels","setDate","d","newBooking","updateZones","relativeTo","queryParams","zone_ids","join","setZones","updateTypes","setFilters","hide_type","reduce","list","item","push","initialised","queryParamMap","params","has","split","building","buildings","bld","parent_id","zone","lvl","i4","DayviewTopbarComponent_Template","DayviewTopbarComponent_Template_button_click_1_listener","DayviewTopbarComponent_Template_mat_select_ngModelChange_7_listener","DayviewTopbarComponent_mat_option_8_Template","DayviewTopbarComponent_Template_mat_select_ngModelChange_11_listener","DayviewTopbarComponent_mat_option_14_Template","DayviewTopbarComponent_mat_slide_toggle_15_Template","DayviewTopbarComponent_Template_date_options_dateChange_17_listener","ɵɵpureFunction0","FormGroup","MatDialog","CateringOrderStateService","BehaviorSubject","tap","EventFormComponent_form_0_div_19_Template_a_time_field_ngModelChange_7_listener","patchValue","use_24hr_time","controls","code_r11","EventFormComponent_form_0_div_41_mat_form_field_4_Template_mat_form_field_openedChange_0_listener","_r13","ctx_r12","focusInput","EventFormComponent_form_0_div_41_mat_form_field_4_Template_input_ngModelChange_2_listener","ctx_r14","code_filter","next","EventFormComponent_form_0_div_41_mat_form_field_4_mat_option_5_Template","ctx_r7","getValue","filtered_codes","ctx_r8","catering","has_codes","EventFormComponent_form_0_div_41_mat_form_field_4_Template","EventFormComponent_form_0_div_41_mat_form_field_6_Template","ɵɵpureFunction4","_c1","EventFormComponent_form_0_mat_checkbox_18_Template","EventFormComponent_form_0_div_19_Template","EventFormComponent_form_0_div_41_Template","EventFormComponent_form_0_div_43_Template","allow_all_day","has_catering","contains","has_assets","_c2","_dialog","_catering","available_menu","l","charge_codes","setValidators","updateValueAndValidity","s","toLowerCase","EventFormComponent_Template","EventFormComponent_form_0_Template","NewDayViewComponent_Template","getModule","event_r4","images","RoomBookingsApprovalsComponent_div_14_img_7_Template","RoomBookingsApprovalsComponent_div_14_Template_button_click_25_listener","restoredCtx","_r8","$implicit","approve","RoomBookingsApprovalsComponent_div_14_Template_button_click_30_listener","ctx_r9","reject","tmp_3_0","host","RoomBookingsApprovalsComponent_button_17_Template_button_click_0_listener","_r11","ctx_r10","show","pending","system_id","binding","mod","execute","RoomBookingsApprovalsComponent_Template","RoomBookingsApprovalsComponent_Template_button_click_2_listener","RoomBookingsApprovalsComponent_div_12_Template","RoomBookingsApprovalsComponent_div_14_Template","RoomBookingsApprovalsComponent_div_16_Template","RoomBookingsApprovalsComponent_button_17_Template","tmp_1_0","take","level_r7","RoomBookingsComponent_mat_form_field_10_Template_mat_select_ngModelChange_1_listener","_r9","RoomBookingsComponent_mat_form_field_10_mat_option_3_Template","RoomBookingsComponent_ng_container_11_div_1_Template","RoomBookingsComponent_ng_container_11_Template_mat_slide_toggle_ngModelChange_2_listener","_r12","ctx_r11","use_region","RoomBookingsComponent_mat_checkbox_22_Template_mat_checkbox_ngModelChange_0_listener","_r15","type_r13","setFilter","RoomBookingsComponent_ng_container_23_div_1_Template_button_click_4_listener","_r20","type_r16","ctx_r18","color","RoomBookingsComponent_ng_container_23_div_1_Template","EMPTY","filters","has_approvals","o","_ref","_x","apply","arguments","active_region","RoomBookingsComponent_Template","RoomBookingsComponent_Template_button_click_4_listener","RoomBookingsComponent_mat_form_field_10_Template","RoomBookingsComponent_ng_container_11_Template","RoomBookingsComponent_mat_checkbox_22_Template","RoomBookingsComponent_ng_container_23_Template","RoomBookingsComponent_room_bookings_approvals_26_Template","_r2","ElementRef","isSameDay","setHours","startOfMinute","openConfirmModal","EventDetailsModalComponent","SetupBreakdownModalComponent","declineEvent","formatHour","value_r10","timeToOffset","now","offset_y","event_r16","ctx_r19","hjost","RoomBookingsTimelineComponent_ng_container_32_ng_container_1_div_1_Template_div_click_0_listener","_r23","space_r13","ctx_r21","viewEvent","RoomBookingsTimelineComponent_ng_container_32_ng_container_1_div_1_ng_container_2_Template","RoomBookingsTimelineComponent_ng_container_32_ng_container_1_div_1_ng_container_3_Template","i_r14","ctx_r17","endToOffset","is_system_event","state","RoomBookingsTimelineComponent_ng_container_32_ng_container_1_div_1_Template","ctx_r15","RoomBookingsTimelineComponent_ng_container_32_ng_container_1_Template","valueOf","offset_x","w_slots","h_slots","hours","from","is_today","system","edit","hour","interval","onResize","Math","max","min","floor","window","innerWidth","innerHeight","_scroll_container","nativeElement","space_id","ref","open","componentInstance","hide_edit","remove","action","afterClosed","replace","resource_name","content","resp","icon","calendar","closeAll","viewQuery","RoomBookingsTimelineComponent_Query","RoomBookingsTimelineComponent_Template_date_options_dateChange_1_listener","RoomBookingsTimelineComponent_div_3_Template","RoomBookingsTimelineComponent_Template_div_resize_5_listener","ɵɵresolveWindow","RoomBookingsTimelineComponent_div_13_Template","RoomBookingsTimelineComponent_div_18_Template","RoomBookingsTimelineComponent_div_19_Template","RoomBookingsTimelineComponent_div_23_Template","RoomBookingsTimelineComponent_div_25_Template","RoomBookingsTimelineComponent_div_26_Template","RoomBookingsTimelineComponent_Template_div_scroll_28_listener","RoomBookingsTimelineComponent_ng_container_32_Template","tmp_15_0"],"sourceRoot":"webpack:///","x_google_ignoreList":[]}