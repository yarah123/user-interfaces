{"version":3,"file":"apps_workplace_src_app_book_book_module_ts.js","mappings":"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","sources":["./apps/workplace/src/app/book/book.component.ts","./apps/workplace/src/app/book/book.module.ts","./apps/workplace/src/app/book/code-flow-error.component.ts","./apps/workplace/src/app/book/code-flow-success.component.ts","./apps/workplace/src/app/book/code-flow.component.ts","./apps/workplace/src/app/book/desk-flow.component.ts","./apps/workplace/src/app/book/desk-flow/confirm.component.ts","./apps/workplace/src/app/book/desk-flow/detailed-form.component.ts","./apps/workplace/src/app/book/desk-flow/form.component.ts","./apps/workplace/src/app/book/desk-flow/map.component.ts","./apps/workplace/src/app/book/flow-success.component.ts","./apps/workplace/src/app/book/locker-flow.component.ts","./apps/workplace/src/app/book/locker-flow/locker-flow-confirm.component.ts","./apps/workplace/src/app/book/locker-flow/locker-flow-form.component.ts","./apps/workplace/src/app/book/locker-flow/locker-flow-success.component.ts","./apps/workplace/src/app/book/locker-flow/locker-form-details.component.ts","./apps/workplace/src/app/book/meeting-flow.component.ts","./apps/workplace/src/app/book/meeting-flow/meeting-flow-confirm-modal.component.ts","./apps/workplace/src/app/book/meeting-flow/meeting-flow-confirm.component.ts","./apps/workplace/src/app/book/meeting-flow/meeting-flow-form.component.ts","./apps/workplace/src/app/book/meeting-flow/meeting-flow-success.component.ts","./apps/workplace/src/app/book/meeting-flow/meeting-form-details.component.ts","./apps/workplace/src/app/book/new-desk-flow.component.ts","./apps/workplace/src/app/book/new-desk-flow/new-desk-flow-confirm.component.ts","./apps/workplace/src/app/book/new-desk-flow/new-desk-flow-form.component.ts","./apps/workplace/src/app/book/new-desk-flow/new-desk-flow-success.component.ts","./apps/workplace/src/app/book/new-desk-flow/new-desk-form-details.component.ts","./apps/workplace/src/app/book/new-parking-flow.component.ts","./apps/workplace/src/app/book/new-parking-flow/parking-flow-confirm.component.ts","./apps/workplace/src/app/book/new-parking-flow/parking-flow-form.component.ts","./apps/workplace/src/app/book/new-parking-flow/parking-flow-success.component.ts","./apps/workplace/src/app/book/new-parking-flow/parking-form-details.component.ts","./apps/workplace/src/app/book/parking-flow.component.ts","./apps/workplace/src/app/book/parking-flow/parking-flow-confirm.component.ts","./apps/workplace/src/app/book/parking-flow/parking-flow-map.component.ts","./apps/workplace/src/app/book/space-flow.component.ts","./apps/workplace/src/app/book/space-flow/confirm.component.ts","./apps/workplace/src/app/book/space-flow/detailed-form.component.ts","./apps/workplace/src/app/book/space-flow/find-item.component.ts","./apps/workplace/src/app/book/space-flow/find.component.ts","./apps/workplace/src/app/book/space-flow/form.component.ts","./apps/workplace/src/app/book/visitor-flow.component.ts","./libs/catering/src/index.ts","./libs/catering/src/lib/catering-import-menu-modal.component.ts","./libs/catering/src/lib/catering-item-modal.component.ts","./libs/catering/src/lib/catering-list-field.component.ts","./libs/catering/src/lib/catering-menu-item.component.ts","./libs/catering/src/lib/catering-menu.component.ts","./libs/catering/src/lib/catering-option-modal.component.ts","./libs/catering/src/lib/catering-order-item.component.ts","./libs/catering/src/lib/catering-order-list.component.ts","./libs/catering/src/lib/catering-order-modal.component.ts","./libs/catering/src/lib/catering-order-modal/catering-item-details.component.ts","./libs/catering/src/lib/catering-order-modal/catering-item-filters.component.ts","./libs/catering/src/lib/catering-order-modal/catering-item-list-item.component.ts","./libs/catering/src/lib/catering-order-modal/catering-item-list.component.ts","./libs/catering/src/lib/catering-order-modal/catering-order-state.service.ts","./libs/catering/src/lib/catering-order-modal/new-catering-order-modal.component.ts","./libs/catering/src/lib/catering-order-options-modal.component.ts","./libs/catering/src/lib/catering-order.component.ts","./libs/catering/src/lib/catering-orders.service.ts","./libs/catering/src/lib/catering-state.service.ts","./libs/catering/src/lib/catering.interfaces.ts","./libs/catering/src/lib/catering.module.ts","./libs/catering/src/lib/catering.ts","./libs/catering/src/lib/catering.vars.ts","./libs/catering/src/lib/charge-code-list-modal.component.ts","./libs/catering/src/lib/utilities.ts","./node_modules/qr-scanner/qr-scanner.min.js"],"sourcesContent":["import { Component } from '@angular/core';\n\n@Component({\n    selector: 'placeos-book',\n    template: `\n        <topbar *ngIf=\"!hide_nav\"></topbar>\n        <div class=\"flex-1 flex sm:flex-row flex-col-reverse h-1/2\">\n            <main\n                class=\"flex flex-col flex-1 h-1/2 sm:h-auto overflow-hidden\"\n            >\n                <router-outlet></router-outlet>\n            </main>\n        </div>\n        <footer-menu class=\"z-10\" *ngIf=\"!hide_nav\"></footer-menu>\n    `,\n    styles: [\n        `\n            :host {\n                display: flex;\n                flex-direction: column;\n                height: 100%;\n                width: 100%;\n            }\n        `,\n    ],\n})\nexport class BookComponent {\n    public get hide_nav() {\n        return localStorage.getItem('PlaceOS.hide_nav') === 'true';\n    }\n}\n","import { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\nimport { Route, RouterModule } from '@angular/router';\nimport { MatButtonToggleModule } from '@angular/material/button-toggle';\nimport { MatBottomSheetModule } from '@angular/material/bottom-sheet';\n\nimport { SharedExploreModule } from '@placeos/explore';\nimport { SharedBookingsModule } from '@placeos/bookings';\nimport { SharedCateringModule } from '@placeos/catering';\n\nimport { BookComponent } from './book.component';\nimport { BookCodeFlowComponent } from './code-flow.component';\nimport { BookDeskFlowComponent } from './desk-flow.component';\nimport { DeskFlowConfirmComponent } from './desk-flow/confirm.component';\nimport { DeskFlowFormComponent } from './desk-flow/form.component';\nimport { DeskFlowDetailedFormComponent } from './desk-flow/detailed-form.component';\nimport { DeskFlowMapComponent } from './desk-flow/map.component';\nimport { FlowSuccessComponent } from './flow-success.component';\nimport { BookSpaceFlowComponent } from './space-flow.component';\nimport { SpaceFlowConfirmComponent } from './space-flow/confirm.component';\nimport { DetailBookSpaceFormComponent } from './space-flow/detailed-form.component';\nimport { SpaceFlowFindItemComponent } from './space-flow/find-item.component';\nimport { SpaceFlowFindComponent } from './space-flow/find.component';\nimport { SpaceFlowFormComponent } from './space-flow/form.component';\nimport { SharedComponentModule } from '../components/shared.module';\nimport { BookParkingFlowComponent } from './parking-flow.component';\nimport { ParkingFlowMapComponent } from './parking-flow/parking-flow-map.component';\nimport { ParkingFlowConfirmComponent } from './parking-flow/parking-flow-confirm.component';\nimport { BookMeetingFlowComponent } from './meeting-flow.component';\nimport { MeetingFlowFormComponent } from './meeting-flow/meeting-flow-form.component';\nimport { MeetingFormDetailsComponent } from './meeting-flow/meeting-form-details.component';\nimport { MeetingFlowConfirmComponent } from './meeting-flow/meeting-flow-confirm.component';\nimport { MeetingFlowSuccessComponent } from './meeting-flow/meeting-flow-success.component';\nimport { NewDeskFlowComponent } from './new-desk-flow.component';\nimport { NewDeskFlowFormComponent } from './new-desk-flow/new-desk-flow-form.component';\nimport { NewDeskFormDetailsComponent } from './new-desk-flow/new-desk-form-details.component';\nimport { NewDeskFlowConfirmComponent } from './new-desk-flow/new-desk-flow-confirm.component';\nimport { NewDeskFlowSuccessComponent } from './new-desk-flow/new-desk-flow-success.component';\nimport { VisitorFlowComponent } from './visitor-flow.component';\nimport { NewParkingFlowComponent } from './new-parking-flow.component';\nimport { ParkingFlowFormComponent } from './new-parking-flow/parking-flow-form.component';\nimport { ParkingFlowSuccessComponent } from './new-parking-flow/parking-flow-success.component';\nimport { ParkingFormDetailsComponent } from './new-parking-flow/parking-form-details.component';\nimport { MeetingFlowConfirmModalComponent } from './meeting-flow/meeting-flow-confirm-modal.component';\nimport { NewParkingFlowConfirmComponent } from './new-parking-flow/parking-flow-confirm.component';\nimport { CodeFlowSuccessComponent } from './code-flow-success.component';\nimport { CodeFlowErrorComponent } from './code-flow-error.component';\nimport { BookLockerFlowComponent } from './locker-flow.component';\nimport { BookLockerFlowSuccessComponent } from './locker-flow/locker-flow-success.component';\nimport { BookLockerFlowFormComponent } from './locker-flow/locker-flow-form.component';\nimport { BookLockerFlowConfirmComponent } from './locker-flow/locker-flow-confirm.component';\nimport { LockerFormDetailsComponent } from './locker-flow/locker-form-details.component';\n\nconst ROUTES: Route[] = [\n    {\n        path: '',\n        component: BookComponent,\n        children: [\n            { path: 'code', component: BookCodeFlowComponent },\n            { path: 'code/success', component: CodeFlowSuccessComponent },\n            { path: 'code/error', component: CodeFlowErrorComponent },\n            { path: 'new-desk', redirectTo: 'new-desks/form' },\n            { path: 'new-desks', redirectTo: 'new-desks/form' },\n            { path: 'new-desks/:step', component: NewDeskFlowComponent },\n            { path: 'new-desk', redirectTo: 'new-desks/form' },\n            { path: 'desks', redirectTo: 'desks/form' },\n            { path: 'desks/:step', component: BookDeskFlowComponent },\n            { path: 'spaces', redirectTo: 'spaces/form' },\n            { path: 'spaces/:step', component: BookSpaceFlowComponent },\n            { path: 'meeting', redirectTo: 'meeting/form' },\n            { path: 'meeting/:step', component: BookMeetingFlowComponent },\n            { path: 'parking', redirectTo: 'parking/form' },\n            { path: 'parking/:step', component: BookParkingFlowComponent },\n            { path: 'new-parking', redirectTo: 'new-parking/form' },\n            { path: 'new-parking/:step', component: NewParkingFlowComponent },\n            { path: 'visitor', redirectTo: 'visitor/form' },\n            { path: 'visitor/:step', component: VisitorFlowComponent },\n            { path: 'locker', redirectTo: 'locker/form' },\n            { path: 'locker/:step', component: BookLockerFlowComponent },\n            { path: '*', redirectTo: 'spaces/form' },\n        ],\n    },\n    { path: '*', redirectTo: 'spaces/form' },\n];\n\n@NgModule({\n    declarations: [\n        BookComponent,\n        BookSpaceFlowComponent,\n        SpaceFlowFormComponent,\n        SpaceFlowFindComponent,\n        SpaceFlowFindItemComponent,\n        SpaceFlowConfirmComponent,\n        DetailBookSpaceFormComponent,\n        BookDeskFlowComponent,\n        DeskFlowFormComponent,\n        DeskFlowDetailedFormComponent,\n        DeskFlowMapComponent,\n        DeskFlowConfirmComponent,\n        BookCodeFlowComponent,\n        CodeFlowSuccessComponent,\n        CodeFlowErrorComponent,\n        BookParkingFlowComponent,\n        ParkingFlowMapComponent,\n        ParkingFlowConfirmComponent,\n        FlowSuccessComponent,\n        BookMeetingFlowComponent,\n        MeetingFlowFormComponent,\n        MeetingFormDetailsComponent,\n        MeetingFlowConfirmComponent,\n        MeetingFlowConfirmModalComponent,\n        MeetingFlowSuccessComponent,\n        NewDeskFlowFormComponent,\n        NewDeskFormDetailsComponent,\n        NewDeskFlowComponent,\n        NewDeskFlowConfirmComponent,\n        NewDeskFlowSuccessComponent,\n        VisitorFlowComponent,\n\n        NewParkingFlowComponent,\n        ParkingFlowFormComponent,\n        NewParkingFlowConfirmComponent,\n        ParkingFlowSuccessComponent,\n        ParkingFormDetailsComponent,\n\n        BookLockerFlowComponent,\n        BookLockerFlowFormComponent,\n        BookLockerFlowConfirmComponent,\n        BookLockerFlowSuccessComponent,\n        LockerFormDetailsComponent,\n    ],\n    imports: [\n        CommonModule,\n        SharedComponentModule,\n        FormsModule,\n        SharedCateringModule,\n        SharedExploreModule,\n        ReactiveFormsModule,\n        MatButtonToggleModule,\n        MatBottomSheetModule,\n        SharedBookingsModule,\n        RouterModule.forChild(ROUTES),\n    ],\n})\nexport class BookModule {}\n","import { Component } from '@angular/core';\nimport { ActivatedRoute } from '@angular/router';\nimport { BookingFormService } from '@placeos/bookings';\nimport { AsyncHandler } from '@placeos/common';\n\nconst VALID_TYPES = ['not_started', 'wrong_resource', 'other'];\n\n@Component({\n    selector: 'code-flow-success',\n    template: `\n        <div class=\"absolute inset-0 bg-base-100 flex flex-col z-50\">\n            <main\n                class=\"flex-1 flex flex-col items-center justify-center space-y-2 p-8\"\n            >\n                <h2 class=\"text-2xl font-medium\">\n                    {{ 'WPA.RESOURCE_CHECKED_IN_FAILED' | translate }}\n                </h2>\n                <div class=\"py-4\">\n                    <img src=\"assets/icons/not-found.svg\" class=\"h-64\" />\n                </div>\n                <p class=\"text-center max-w-[32rem]\" [ngSwitch]=\"type\">\n                    <ng-container *ngSwitchCase=\"'not_started'\">\n                        Booking has not started yet. Please try again once the\n                        booking has commenced.\n                    </ng-container>\n                    <ng-container *ngSwitchCase=\"'wrong_resource'\">\n                        You have booking with a difference resource.\n                    </ng-container>\n                    <ng-container *ngSwitchDefault>\n                        You do not have a booking. Would you like to book the\n                        set resource?\n                    </ng-container>\n                </p>\n            </main>\n            <footer\n                class=\"p-2 w-full border-t border-base-200 mt-4 flex items-center justify-center space-x-2\"\n            >\n                <a\n                    btn\n                    matRipple\n                    class=\"w-full max-w-[32rem]\"\n                    [routerLink]=\"['/book', 'code']\"\n                    [queryParams]=\"{ asset_id: asset_id }\"\n                    *ngIf=\"type === 'not_started'\"\n                >\n                    {{ 'WPA.TRY_AGAIN' | translate }}\n                </a>\n                <a\n                    btn\n                    matRipple\n                    class=\"w-full max-w-[32rem]\"\n                    [routerLink]=\"['/book', 'new-desk']\"\n                    [queryParams]=\"{ asset_id: asset_id }\"\n                    *ngIf=\"type === 'no_booking'\"\n                >\n                    {{ 'WPA.BOOK' | translate }}\n                </a>\n                <a\n                    btn\n                    matRipple\n                    class=\"w-full max-w-[32rem] inverse\"\n                    [routerLink]=\"['/']\"\n                >\n                    {{ 'COMMON.CONTINUE' | translate }}\n                </a>\n            </footer>\n        </div>\n    `,\n    styles: [``],\n})\nexport class CodeFlowErrorComponent extends AsyncHandler {\n    public type = 'other';\n    public asset = null;\n    public asset_id = '';\n\n    constructor(\n        private _route: ActivatedRoute,\n        private _state: BookingFormService\n    ) {\n        super();\n    }\n\n    public ngOnInit() {\n        this.subscription(\n            'route.query',\n            this._route.queryParamMap.subscribe((params) => {\n                this.type = params.get('type') as any;\n                this.asset_id = params.get('asset_id') as any;\n            })\n        );\n    }\n}\n","import { Component } from '@angular/core';\n\n@Component({\n    selector: 'code-flow-success',\n    template: `\n        <div class=\"absolute inset-0 bg-base-100 flex flex-col z-50\">\n            <main\n                class=\"flex-1 flex flex-col items-center justify-center space-y-2 p-8\"\n            >\n                <h2 class=\"text-2xl font-medium\">\n                    {{ 'WPA.RESOURCE_CHECKED_IN' | translate }}\n                </h2>\n                <img src=\"assets/icons/success.svg\" />\n                <p class=\"text-center max-w-[32rem]\">\n                    {{ 'WPA.CHECKED_IN' | translate }}\n                </p>\n            </main>\n            <footer\n                class=\"p-2 w-full border-t border-base-200 mt-4 flex items-center justify-center\"\n            >\n                <a\n                    btn\n                    matRipple\n                    class=\"w-full max-w-[32rem]\"\n                    [routerLink]=\"['/']\"\n                >\n                    {{ 'WPA.BOOKING_DONE_CONTINUE' | translate }}\n                </a>\n            </footer>\n        </div>\n    `,\n    styles: [``],\n})\nexport class CodeFlowSuccessComponent {}\n","import {\n    Component,\n    OnInit,\n    Output,\n    EventEmitter,\n    ViewChild,\n    ElementRef,\n    OnDestroy,\n} from '@angular/core';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport {\n    Booking,\n    BookingFormService,\n    BookingType,\n    checkinBooking,\n    queryBookings,\n} from '@placeos/bookings';\nimport { AsyncHandler, currentUser, notifyError } from '@placeos/common';\nimport {\n    CalendarEvent,\n    checkinEventGuest,\n    EventFormService,\n    queryEvents,\n} from '@placeos/events';\nimport { showSystem } from '@placeos/ts-client';\nimport { addMinutes, endOfDay, getUnixTime } from 'date-fns';\nimport QrScanner from 'qr-scanner';\n\n@Component({\n    selector: 'book-code-flow',\n    template: `\n        <div\n            class=\"flex-1 overflow-hidden flex items-center justify-center bg-neutral relative\"\n            *ngIf=\"!loading; else load_state\"\n        >\n            <video\n                class=\"min-w-full min-h-full object-cover\"\n                id=\"video\"\n                #video\n            ></video>\n            <div\n                class=\"absolute text-white text-center inset-0 flex flex-col items-center justify-center\"\n            >\n                <div\n                    class=\"flex flex-col z-10 justify-end items-center relative\"\n                    *ngIf=\"is_scanning\"\n                >\n                    <h2 class=\"text-3xl mb-1 uppercase subpixel-antialiased\">\n                        Scan QR Code\n                    </h2>\n                    <span class=\" mb-4 \">\n                        Scan the QR code outisde a PlaceOS room or space.\n                    </span>\n                </div>\n                <div\n                    class=\"flex flex-col z-10 justify-end items-center relative\"\n                    *ngIf=\"!is_scanning\"\n                >\n                    <h2 class=\"text-3xl mb-1 uppercase subpixel-antialiased\">\n                        Enter Room ID\n                    </h2>\n                    <span class=\"mb-4\">\n                        Enter the room ID number outisde a PlaceOS room or\n                        space.\n                    </span>\n                </div>\n                <div class=\"flex items-center justify-center\">\n                    <div\n                        box\n                        class=\"rounded-2xl h-64 w-64 transition-all flex items-center justify-center p-8 m-8 space-x-2\"\n                        [class.input]=\"!is_scanning\"\n                    >\n                        <span class=\"uppercase\">Booking ID</span>\n                        <input\n                            matInput\n                            class=\"border-none bg-none w-full text-3xl text-left\"\n                            [(ngModel)]=\"room_code\"\n                            name=\"booking-id\"\n                            placeholder=\"e.g. 12102910\"\n                        />\n                    </div>\n                </div>\n                <div\n                    class=\"m-4 p-2 flex items-center space-x-2 bg-base-100 bg-opacity-50 rounded\"\n                >\n                    <button\n                        matRipple\n                        [class]=\"\n                            'flex-1 text-black border-none w-40 ' +\n                            (is_scanning\n                                ? 'bg-base-100'\n                                : 'bg-transparent hover:bg-base-100 hover:dark:bg-neutral-600 bg-opacity-50')\n                        \"\n                        (click)=\"is_scanning = true\"\n                    >\n                        Scan Code\n                    </button>\n                    <button\n                        matRipple\n                        [class]=\"\n                            'flex-1 text-black border-none w-40 ' +\n                            (!is_scanning\n                                ? 'bg-base-100'\n                                : 'bg-transparent hover:bg-base-100 hover:dark:bg-neutral-600 bg-opacity-50')\n                        \"\n                        (click)=\"is_scanning = false\"\n                    >\n                        Enter Code\n                    </button>\n                </div>\n            </div>\n        </div>\n        <ng-template #load_state>\n            <div\n                class=\"absolute inset-0 flex flex-col items-center justify-center space-y-2\"\n            >\n                <mat-spinner [diameter]=\"32\"></mat-spinner>\n                <p>Checking in booking...</p>\n            </div>\n        </ng-template>\n    `,\n    styles: [\n        `\n            :host {\n                position: relative;\n                width: 100%;\n                height: 100vh;\n                display: flex;\n                flex-direction: column;\n                background: #f0f0f0;\n            }\n\n            [box] {\n                box-shadow: 0px 0px 0px 100vw rgba(0, 0, 0, 0.5);\n            }\n\n            [box] > * {\n                display: none;\n            }\n\n            [box].input {\n                width: 32rem !important;\n                max-width: calc(100% - 2rem) !important;\n                padding: 1rem !important;\n                height: 4rem !important;\n                color: black !important;\n                background: white;\n                box-shadow: 0px 0px 0px 100vw rgba(0, 0, 0, 0.8);\n            }\n\n            [box].input > * {\n                display: initial;\n            }\n\n            [box] span {\n                font-family: var(--heading-font);\n                font-weight: 500;\n                text-transform: uppercase;\n                letter-spacing: 0.05em;\n            }\n        `,\n    ],\n})\nexport class BookCodeFlowComponent\n    extends AsyncHandler\n    implements OnInit, OnDestroy\n{\n    /** Menu event */\n    @Output() public menu = new EventEmitter(false);\n    /** Boolean to toggle scan/code */\n    public is_scanning = true;\n    /** Room Code input value */\n    public room_code: string;\n    public loading = false;\n\n    private _qr_scanner;\n    /** Video element to emit camera feed */\n    @ViewChild('video')\n    private _video_el: ElementRef<HTMLVideoElement>;\n\n    constructor(\n        private _router: Router,\n        private _route: ActivatedRoute,\n        private _event_form: EventFormService,\n        private _booking_form: BookingFormService\n    ) {\n        super();\n    }\n\n    public ngOnDestroy() {\n        if (this._video_el?.nativeElement?.srcObject) {\n            (this._video_el.nativeElement.srcObject as any)\n                .getTracks()\n                .forEach((track) => track?.stop());\n        }\n        this._qr_scanner?.stop();\n    }\n\n    public ngOnInit(): void {\n        this.subscription(\n            'route.query',\n            this._route.queryParamMap.subscribe((params) => {\n                if (params.has('asset_id'))\n                    this._checkinBooking(params.get('asset_id'));\n                if (params.has('space_id'))\n                    this._checkinEvent(\n                        params.get('space_id'),\n                        params.get('email')\n                    );\n            })\n        );\n    }\n\n    public ngAfterViewInit() {\n        if (!navigator.mediaDevices?.getUserMedia || this.loading) return;\n        navigator.mediaDevices\n            .getUserMedia({ video: true })\n            .then((stream) => (this._video_el.nativeElement.srcObject = stream))\n            .catch((e) => console.error('Unable to fetch media devices!', e));\n        this._qr_scanner = new QrScanner(this._video_el.nativeElement, (r) =>\n            this.handleQrCode(r)\n        );\n        this._qr_scanner.start();\n    }\n\n    private handleQrCode(result: string) {\n        const url = result;\n        const hashindex = url.indexOf('/#/');\n        // could just whole page redirect to url\n        if (hashindex > 0) {\n            const regex = /[?&]([^=#]+)=([^&#]*)/g;\n            const params = {};\n            let match;\n            while ((match = regex.exec(url))) {\n                params[match[1]] = match[2];\n            }\n            this._router.navigate([url.split('/#')[1].split('?')[0]], params);\n        }\n    }\n\n    private async _checkinBooking(\n        asset_id: string,\n        type: BookingType = 'desk'\n    ) {\n        this.loading = true;\n        let bookings = await queryBookings({\n            period_start: getUnixTime(Date.now()),\n            period_end: getUnixTime(addMinutes(Date.now(), 5)),\n            type,\n            email: currentUser().email,\n        })\n            .toPromise()\n            .catch((_) => [] as Booking[]);\n        const item = bookings.find((_) => _.asset_id === asset_id);\n        if (item) {\n            await checkinBooking(item.id, true)\n                .toPromise()\n                .catch((_) => {\n                    notifyError(\n                        `Unable to checkin booking with resource \"${asset_id}\"`\n                    );\n                    this.loading = false;\n                    throw _;\n                });\n            this._router.navigate(['/book', 'code', 'success']);\n        } else {\n            bookings = await queryBookings({\n                period_start: getUnixTime(Date.now()),\n                period_end: getUnixTime(endOfDay(Date.now())),\n                type,\n            })\n                .toPromise()\n                .catch((_) => [] as Booking[]);\n            let item = bookings.find((_) => _.asset_id === asset_id);\n            if (item) {\n                this._router.navigate(['/book', 'code', 'error'], {\n                    queryParams: { type: 'not_started', asset_id },\n                });\n                return;\n            }\n            bookings = await queryBookings({\n                period_start: getUnixTime(Date.now()),\n                period_end: getUnixTime(addMinutes(Date.now(), 5)),\n                type,\n            })\n                .toPromise()\n                .catch((_) => [] as Booking[]);\n            item = bookings.find((_) => _.asset_id === asset_id);\n            if (item) {\n                this._router.navigate(['/book', 'code', 'error'], {\n                    queryParams: { type: 'wrong_resource', asset_id },\n                });\n                return;\n            }\n            this._router.navigate(['/book', 'code', 'error'], {\n                queryParams: { type: 'no_booking', asset_id },\n            });\n            this._booking_form.newForm(new Booking({ asset_id, type }));\n            this._booking_form.setOptions({ type });\n        }\n        this.loading = false;\n    }\n\n    private async _checkinEvent(space_id: string, email?: string) {\n        if (!email) email = currentUser().email;\n        this.loading = true;\n        const bookings = await queryEvents({\n            period_start: getUnixTime(Date.now()),\n            period_end: getUnixTime(Date.now() + 5 * 60 * 1000),\n        })\n            .toPromise()\n            .catch((_) => []);\n        const item = bookings.find((_) =>\n            _.resources.find((s) => s.id === space_id || s.email === space_id)\n        );\n        if (item) {\n            await checkinEventGuest(item.id, email, true)\n                .toPromise()\n                .catch((_) => {\n                    notifyError(\n                        `Unable to checkin event with resource \"${space_id}\"`\n                    );\n                    this.loading = false;\n                    throw _;\n                });\n            this._router.navigate(['/book', 'code', 'success']);\n            this.loading = false;\n        } else {\n            const space = await showSystem(space_id).toPromise();\n            if (space) {\n                this._event_form.newForm(new CalendarEvent({ system: space }));\n            }\n            this._router.navigate(['/book', 'meeting']);\n        }\n        this.loading = false;\n    }\n}\n","import { Component, OnInit } from '@angular/core';\nimport { ActivatedRoute } from '@angular/router';\nimport { BookingFormService } from '@placeos/bookings';\nimport { AsyncHandler } from '@placeos/common';\nimport { OrganisationService } from '@placeos/organisation';\nimport { first } from 'rxjs/operators';\n\n@Component({\n    selector: 'placeos-book-desk-flow',\n    template: `\n        <div class=\"bg-base-100 h-full w-full\">\n            <ng-container [ngSwitch]=\"view\">\n                <ng-container *ngSwitchCase=\"'map'\">\n                    <desk-flow-map></desk-flow-map>\n                </ng-container>\n                <ng-container *ngSwitchCase=\"'confirm'\">\n                    <desk-flow-confirm></desk-flow-confirm>\n                </ng-container>\n                <ng-container *ngSwitchCase=\"'success'\">\n                    <flow-success\n                        type=\"desk\"\n                        route=\"desks\"\n                        [calendar]=\"last_success?.user_email\"\n                        [extra]=\"\n                            last_success?.extension_data?.secondary_resource\n                                ? 'Locker E-093 has been allocated for this booking.'\n                                : ''\n                        \"\n                    ></flow-success>\n                </ng-container>\n                <ng-container *ngSwitchDefault>\n                    <desk-flow-form></desk-flow-form>\n                </ng-container>\n            </ng-container>\n        </div>\n    `,\n    styles: [\n        `\n            :host {\n                position: relative;\n                height: 100%;\n                width: 100%;\n            }\n        `,\n    ],\n})\nexport class BookDeskFlowComponent extends AsyncHandler implements OnInit {\n    public get view() {\n        return this._state.view;\n    }\n    public get last_success() {\n        return this._state.last_success;\n    }\n\n    constructor(\n        private _state: BookingFormService,\n        private _route: ActivatedRoute,\n        private _org: OrganisationService\n    ) {\n        super();\n    }\n\n    public async ngOnInit() {\n        await this._org.initialised.pipe(first((_) => _)).toPromise();\n        this._state.loadForm();\n        if (!this._state.form) this._state.newForm();\n        this._state.form.patchValue({ booking_type: 'desk' });\n        this.subscription(\n            'route.params',\n            this._route.paramMap.subscribe((param) => {\n                if (param.has('step'))\n                    this._state.setView(param.get('step') as any);\n            })\n        );\n        this.subscription(\n            'route.query',\n            this._route.queryParamMap.subscribe((param) => {\n                if (param.has('success'))\n                    this._state.setView(param.get('success') as any);\n            })\n        );\n    }\n}\n","import { Component } from '@angular/core';\n\n@Component({\n    selector: 'desk-flow-confirm',\n    template: `\n        <div topbar class=\"\">\n            <a\n                btn\n                matRipple\n                class=\"clear h-[2.75rem] text-white\"\n                [routerLink]=\"['/book', 'desks', 'map']\"\n            >\n                <div class=\"flex items-center justify-center h-full\">\n                    <app-icon class=\"text-xl\">arrow_back</app-icon>\n                    <span class=\"ml-2 mx-4\">Back</span>\n                </div>\n            </a>\n        </div>\n    `,\n    styles: [\n        `\n            :host {\n                height: 100%;\n                width: 100%;\n                display: flex;\n                flex-direction: column;\n            }\n\n            [topbar] {\n                background-color: #00539f;\n            }\n        `,\n    ],\n})\nexport class DeskFlowConfirmComponent {}\n","import { Component, Input } from '@angular/core';\nimport { FormGroup } from '@angular/forms';\nimport { BookingFormService } from '@placeos/bookings';\nimport { SettingsService } from '@placeos/common';\nimport { OrganisationService } from '@placeos/organisation';\nimport { addDays, endOfDay, format } from 'date-fns';\n\n@Component({\n    selector: 'detailed-book-desks-form',\n    template: `\n        <form *ngIf=\"form\" [formGroup]=\"form\">\n            <div\n                class=\"w-[640px] max-w-[calc(100%-2rem)] mx-auto mb-4\"\n                *ngIf=\"allow_groups\"\n            >\n                <mat-button-toggle-group\n                    class=\"w-full\"\n                    [ngModel]=\"(options | async)?.group ? 'group' : 'single'\"\n                    (ngModelChange)=\"\n                        setOptions({\n                            group: $event === 'group'\n                        })\n                    \"\n                    [ngModelOptions]=\"{ standalone: true }\"\n                >\n                    <mat-button-toggle class=\"w-1/2\" value=\"single\">\n                        Single\n                    </mat-button-toggle>\n                    <mat-button-toggle class=\"w-1/2\" value=\"group\">\n                        Group\n                    </mat-button-toggle>\n                </mat-button-toggle-group>\n            </div>\n            <div\n                class=\"flex flex-col sm:flex-row space-x-0 sm:space-x-2 w-[640px] max-w-[calc(100%-2rem)] mx-auto\"\n            >\n                <div class=\"flex flex-col flex-1 w-full sm:w-1/4\">\n                    <label>Date</label>\n                    <a-date-field [to]=\"book_until\" formControlName=\"date\">\n                        Date and time must be in the future\n                    </a-date-field>\n                </div>\n                <div\n                    class=\"flex flex-col flex-1 w-full sm:w-1/4\"\n                    *ngIf=\"(buildings | async)?.length > 1\"\n                >\n                    <label>Building</label>\n                    <mat-form-field appearance=\"outline\">\n                        <mat-select\n                            placeholder=\"Select building\"\n                            [(ngModel)]=\"building\"\n                            (ngModelChange)=\"\n                                setOptions({\n                                    zone_id: $event?.id\n                                })\n                            \"\n                            [ngModelOptions]=\"{ standalone: true }\"\n                        >\n                            <mat-option\n                                *ngFor=\"let bld of buildings | async\"\n                                [value]=\"bld\"\n                            >\n                                {{ bld.display_name || bld.name }}\n                            </mat-option>\n                        </mat-select>\n                    </mat-form-field>\n                </div>\n                <div\n                    class=\"flex flex-col flex-1 w-full sm:w-1/4\"\n                    *ngIf=\"(levels | async)?.length > 1\"\n                >\n                    <label>Level</label>\n                    <mat-form-field appearance=\"outline\">\n                        <mat-select\n                            placeholder=\"Any Level\"\n                            ngModel\n                            [disabled]=\"!building\"\n                            (ngModelChange)=\"\n                                setOptions({\n                                    zone_id: $event || building.id\n                                })\n                            \"\n                            [ngModelOptions]=\"{ standalone: true }\"\n                        >\n                            <mat-option\n                                *ngFor=\"let lvl of levels | async\"\n                                [value]=\"lvl.id\"\n                            >\n                                {{ lvl.display_name || lvl.name }}\n                            </mat-option>\n                        </mat-select>\n                    </mat-form-field>\n                </div>\n            </div>\n            <div\n                class=\"flex flex-col sm:flex-row space-x-0 sm:space-x-2 w-[640px] max-w-[calc(100%-2rem)] mx-auto\"\n                *ngIf=\"allow_time_changes\"\n            >\n                <div class=\"flex flex-col flex-1 w-full sm:w-1/3\">\n                    <label>Start Time</label>\n                    <a-time-field\n                        [ngModel]=\"form.value.date\"\n                        (ngModelChange)=\"form.patchValue({ date: $event })\"\n                        [ngModelOptions]=\"{ standalone: true }\"\n                    ></a-time-field>\n                </div>\n                <div class=\"flex flex-col flex-1 w-full sm:w-1/3 relative\">\n                    <label>End Time</label>\n                    <a-duration-field\n                        formControlName=\"duration\"\n                        [time]=\"form.get('date')?.value\"\n                        [max]=\"10 * 60\"\n                        [min]=\"60\"\n                        [step]=\"60\"\n                        [disabled]=\"form.value.all_day\"\n                    >\n                    </a-duration-field>\n                    <mat-checkbox\n                        formControlName=\"all_day\"\n                        *ngIf=\"allow_all_day\"\n                        class=\"absolute top-0 right-0\"\n                    >\n                        All Day\n                    </mat-checkbox>\n                </div>\n            </div>\n            <div\n                class=\"flex flex-col w-[640px] max-w-[calc(100%-2rem)] mx-auto\"\n                *ngIf=\"can_book_for_others\"\n            >\n                <label>Host</label>\n                <a-user-search-field\n                    formControlName=\"user\"\n                ></a-user-search-field>\n            </div>\n            <div\n                class=\"flex flex-col flex-1 w-[640px] max-w-[calc(100%-2rem)] mx-auto\"\n                *ngIf=\"needs_reason\"\n            >\n                <label>Details</label>\n                <mat-form-field class=\"w-full\" appearance=\"outline\">\n                    <input\n                        matInput\n                        formControlName=\"description\"\n                        placeholder=\"Reason for booking...\"\n                    />\n                </mat-form-field>\n            </div>\n            <div\n                class=\"flex flex-col flex-1 w-[640px] max-w-[calc(100%-2rem)] mx-auto\"\n                *ngIf=\"(options | async)?.group\"\n            >\n                <label>Group Members</label>\n                <a-user-list-field\n                    [simple]=\"true\"\n                    [ngModel]=\"(options | async)?.members || []\"\n                    (ngModelChange)=\"setOptions({ members: $event })\"\n                    [ngModelOptions]=\"{ standalone: true }\"\n                ></a-user-list-field>\n            </div>\n            <div\n                class=\"flex flex-col sm:flex-row space-x-0 sm:space-x-2 w-[640px] max-w-[calc(100%-2rem)] mx-auto\"\n                *ngIf=\"can_recurr\"\n            >\n                <div class=\"flex flex-col flex-1 w-full sm:w-1/3\">\n                    <label>Recurrence Period</label>\n                    <mat-form-field appearance=\"outline\">\n                        <mat-select\n                            [ngModel]=\"(options | async)?.recurrence_pattern\"\n                            (ngModelChange)=\"setOptions({ pattern: $event })\"\n                            [ngModelOptions]=\"{ standalone: true }\"\n                            placeholder=\"None\"\n                        >\n                            <mat-option value=\"none\">None</mat-option>\n                            <mat-option\n                                *ngFor=\"let opt of recurrence_options\"\n                                [value]=\"opt\"\n                            >\n                                <span class=\"capitalize\">{{ opt }}</span>\n                            </mat-option>\n                        </mat-select>\n                    </mat-form-field>\n                </div>\n                <div class=\"flex flex-col flex-1 w-full sm:w-1/3\">\n                    <label>Recurrence End</label>\n                    <a-date-field\n                        [disabled]=\"\n                            !(options | async)?.pattern ||\n                            (options | async)?.pattern === 'none'\n                        \"\n                        [ngModel]=\"\n                            (options | async)?.recurr_end || form?.value?.date\n                        \"\n                        (ngModelChange)=\"\n                            setOptions({\n                                recurr_end: $event\n                            })\n                        \"\n                        [ngModelOptions]=\"{ standalone: true }\"\n                        [to]=\"book_until\"\n                    >\n                        Date and time must be in the future\n                    </a-date-field>\n                </div>\n            </div>\n            <div\n                class=\"flex flex-col flex-1 w-[640px] max-w-[calc(100%-2rem)] mx-auto\"\n                *ngIf=\"(features | async)?.length\"\n            >\n                <label>Desk Features</label>\n                <mat-form-field class=\"w-full\" appearance=\"outline\">\n                    <mat-select\n                        multiple\n                        [ngModel]=\"(options | async)?.features || []\"\n                        (ngModelChange)=\"\n                            setOptions({\n                                features: $event || []\n                            })\n                        \"\n                        [ngModelOptions]=\"{ standalone: true }\"\n                        placeholder=\"Any Feature\"\n                    >\n                        <mat-option\n                            *ngFor=\"let opt of features | async\"\n                            class=\"capitalize\"\n                            [value]=\"opt\"\n                        >\n                            {{ opt }}\n                        </mat-option>\n                    </mat-select>\n                </mat-form-field>\n            </div>\n            <div\n                class=\"flex flex-col flex-1 w-[640px] max-w-[calc(100%-2rem)] mx-auto mb-4\"\n                *ngIf=\"can_book_lockers\"\n            >\n                <mat-checkbox\n                    [ngModel]=\"!!form.value.secondary_resource\"\n                    (ngModelChange)=\"\n                        form.patchValue({\n                            secondary_resource: $event ? 'locker' : ''\n                        })\n                    \"\n                    [ngModelOptions]=\"{ standalone: true }\"\n                >\n                    Require locker\n                </mat-checkbox>\n            </div>\n        </form>\n    `,\n    styles: [``],\n})\nexport class DeskFlowDetailedFormComponent {\n    @Input() public form: FormGroup;\n    /** List of available buildings to select */\n    public readonly buildings = this._org.building_list;\n    /** List of available levels for the selected building */\n    public readonly levels = this._org.active_levels;\n    /** List of set options for desk booking */\n    public readonly options = this._state.options;\n    /** List of set options for desk booking */\n    public readonly features = this._state.features;\n\n    public readonly recurrence_options = ['daily', 'weekly', 'monthly'];\n\n    public get building() {\n        return this._org.building;\n    }\n    public set building(bld) {\n        this._org.building = bld;\n    }\n\n    public readonly setOptions = (o) => this._state.setOptions(o);\n\n    public get can_book_lockers() {\n        return this._settings.get('app.desks.can_book_lockers');\n    }\n\n    public get can_book_for_others() {\n        return this._settings.get('app.desks.can_book_for_others');\n    }\n\n    public get can_recurr() {\n        return this._settings.get('app.desks.recurrence_allowed');\n    }\n\n    public get allow_groups() {\n        return this._settings.get('app.desks.allow_groups');\n    }\n\n    public get needs_reason() {\n        return this._settings.get('app.desks.needs_reason') === true;\n    }\n\n    public get allow_time_changes() {\n        return !!this._settings.get('app.desks.allow_time_changes');\n    }\n\n    public get allow_all_day() {\n        return (\n            this.allow_time_changes &&\n            !!this._settings.get('app.desks.allow_all_day')\n        );\n    }\n\n    public get book_until() {\n        return endOfDay(\n            addDays(\n                Date.now(),\n                this._settings.get('app.desks.available_period') || 90\n            )\n        );\n    }\n\n    constructor(\n        private _state: BookingFormService,\n        private _org: OrganisationService,\n        private _settings: SettingsService\n    ) {}\n}\n","import { Component, OnInit } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { BookingFormService, findNearbyFeature } from '@placeos/bookings';\nimport {\n    currentUser,\n    getInvalidFields,\n    notifyError,\n    randomInt,\n    SettingsService,\n} from '@placeos/common';\nimport { OrganisationService } from '@placeos/organisation';\nimport { addDays, setHours, addMinutes, roundToNearestMinutes } from 'date-fns';\nimport { first, take } from 'rxjs/operators';\n\n@Component({\n    selector: 'desk-flow-form',\n    template: `\n        <section form class=\"flex-1 min-h-[50%]\">\n            <h2\n                class=\"text-xl uppercase font-medium mb-2 mt-4 w-[640px] max-w-[calc(100%-2rem)] mx-auto\"\n            >\n                {{ is_edit ? 'Edit' : 'Detailed' }} Desk Booking\n            </h2>\n            <detailed-book-desks-form [form]=\"form\"></detailed-book-desks-form>\n            <div class=\"mb-4 border-b border-base-200 w-full\"></div>\n            <div\n                class=\"flex flex-col sm:flex-row items-center justify-center space-x-0 space-y-2 sm:space-y-0 sm:space-x-2 w-[640px] max-w-[calc(100%-2rem)] mx-auto mb-4\"\n            >\n                <button\n                    class=\"sm:flex-1 w-full sm:w-auto h-[2.75rem] inverse\"\n                    btn\n                    matRipple\n                    clear\n                    (click)=\"clearForm()\"\n                >\n                    <div class=\"flex items-center justify-center\">\n                        <app-icon class=\"text-xl\">clear</app-icon>\n                        <span class=\"ml-2 mx-4\">{{\n                            is_edit ? 'Cancel Edit' : 'Clear Form'\n                        }}</span>\n                    </div>\n                </button>\n                <button\n                    class=\"sm:flex-1 w-full sm:w-auto h-[2.75rem]\"\n                    find\n                    btn\n                    matRipple\n                    *ngIf=\"!auto_allocation; else alloc_button\"\n                    (click)=\"findDesk()\"\n                >\n                    <div class=\"flex items-center justify-center\">\n                        <app-icon class=\"text-xl\">search</app-icon>\n                        <span class=\"ml-2 mx-4\">{{\n                            is_edit ? 'Update Desk' : 'Find Desk'\n                        }}</span>\n                    </div>\n                </button>\n            </div>\n        </section>\n        <ng-template #alloc_button>\n            <button\n                class=\"sm:flex-1 w-full sm:w-auto h-[2.75rem]\"\n                find\n                btn\n                matRipple\n                (click)=\"allocateDesk()\"\n            >\n                {{ is_edit ? 'Update Desk' : 'Book Desk' }}\n            </button>\n        </ng-template>\n    `,\n    styles: [\n        `\n            :host {\n                height: 100%;\n                width: 100%;\n                display: flex;\n                flex-direction: column;\n                overflow: auto;\n            }\n\n            [quick] {\n                background-color: #007ac8;\n            }\n        `,\n    ],\n})\nexport class DeskFlowFormComponent implements OnInit {\n    public time = 0;\n    public level = '';\n\n    public readonly quick_times = [\n        { name: 'Now', value: 0 },\n        {\n            name: 'Tomorrow',\n            value: setHours(addDays(new Date(), 1), 9).valueOf(),\n        },\n    ];\n\n    public levels = [];\n\n    public get is_edit() {\n        return !!this.form?.get('id')?.value;\n    }\n\n    public get auto_allocation() {\n        return !!this._settings.get('app.desks.auto_allocation');\n    }\n\n    public get form() {\n        return this._state.form;\n    }\n\n    public readonly clearForm = () => {\n        this.time = 0;\n        this.level = this._org.building.id;\n        this._state.clearForm();\n    };\n\n    constructor(\n        private _state: BookingFormService,\n        private _router: Router,\n        private _org: OrganisationService,\n        private _settings: SettingsService\n    ) {}\n\n    public async ngOnInit() {\n        await this._org.initialised.pipe(first((_) => _));\n        await this._org.active_levels.pipe(first((_) => _?.length > 0));\n        this.level = this._org.building?.id;\n        this.levels = [\n            { id: this._org.building?.id, name: 'Any Level' },\n            ...this._org.levelsForBuilding(this._org.building),\n        ];\n    }\n\n    public quickBook() {\n        this.form.patchValue({\n            date: (this.time < 24 * 60\n                ? addMinutes(\n                      roundToNearestMinutes(new Date(), { nearestTo: 5 }),\n                      this.time\n                  )\n                : setHours(addDays(new Date(), 1), 8)\n            ).valueOf(),\n            title: 'Ad-hoc Desk Booking',\n        });\n        this.findDesk();\n    }\n\n    public findDesk() {\n        this.form.markAllAsTouched();\n        this.form.patchValue({ asset_id: ' ' });\n        if (!this.form.valid) return;\n        this.form.patchValue({ asset_id: '' });\n        this._router.navigate(['/book', 'desks', 'map']);\n    }\n\n    public async allocateDesk() {\n        this.form.markAllAsTouched();\n        this.form.patchValue({ asset_id: ' ' });\n        if (!this.form.valid)\n            return notifyError(\n                `Some fields are invalid. [${getInvalidFields(this.form).join(\n                    ', '\n                )}]`\n            );\n        // Find nearby desk for user's department\n        const settings = this._settings.get('app.departments') || {\n            '*': {\n                level: this._org.levelsForBuilding()[0]?.id,\n                centered_at: { x: 0.5, y: 0.5 },\n            },\n        };\n        const group = currentUser().groups.find((_) => _ in settings) ?? '*';\n        if (!settings[group]) {\n            this._router.navigate(['/book', 'desks', 'map']);\n            return;\n        }\n        const { level, centered_at } = settings[group];\n        const lvl = this._org.levelWithID([level]);\n        if (!lvl) {\n            this._router.navigate(['/book', 'desks', 'map']);\n            return;\n        }\n        const desk_list = await this._state.available_resources\n            .pipe(take(1))\n            .toPromise();\n        const desk_id = level.map_id\n            ? await findNearbyFeature(\n                  lvl.map_id,\n                  centered_at,\n                  desk_list.map((_) => _?.map_id || _?.id || '')\n              )\n            : desk_list[randomInt(desk_list.length)].id;\n        const desk = desk_list.find(\n            (_) => _.map_id === desk_id || _.id === desk_id\n        );\n        if (!desk) {\n            this._router.navigate(['/book', 'desks', 'map']);\n            return;\n        }\n        this._state.form.patchValue({\n            asset_id: desk?.id,\n            asset_name: desk.name || desk.id,\n            map_id: desk?.map_id || desk?.id,\n            description: desk.name || desk.id,\n            booking_type: 'desk',\n            zones: desk.zone ? [desk.zone?.parent_id, desk.zone?.id] : [],\n        });\n        await this._state.confirmPost().catch((_) => console.error(_));\n    }\n}\n","import { Component, OnInit } from '@angular/core';\nimport { BookingFormService } from '@placeos/bookings';\nimport {\n    AsyncHandler,\n    formatRecurrence,\n    SettingsService,\n} from '@placeos/common';\nimport { ExploreStateService } from '@placeos/explore';\nimport { Desk } from '@placeos/organisation';\nimport { format } from 'date-fns';\nimport { BehaviorSubject, combineLatest, of } from 'rxjs';\nimport { debounceTime, map, startWith } from 'rxjs/operators';\n\n@Component({\n    selector: 'desk-flow-map',\n    template: `\n        <div topbar class=\"\">\n            <a\n                class=\"clear h-[2.75rem] text-white\"\n                btn\n                matRipple\n                [routerLink]=\"['/book', 'desks', 'form']\"\n            >\n                <div class=\"flex items-center justify-center h-full\">\n                    <app-icon class=\"text-xl\">arrow_back</app-icon>\n                    <span class=\"ml-2 mx-4\">Back</span>\n                </div>\n            </a>\n        </div>\n        <div class=\"flex flex-col flex-1 h-1/2 w-full \">\n            <h2 class=\"text-2xl px-4 pt-4 text-center\">Available Desks</h2>\n            <an-action-field\n                class=\"my-4 mx-auto w-[640px] max-w-[calc(100vw-2rem)]\"\n                [matMenuTriggerFor]=\"menu\"\n            >\n                {{ (option_details | async) || 'No Filters' }}\n            </an-action-field>\n            <mat-menu #menu=\"matMenu\">\n                <div\n                    (click)=\"$event.stopPropagation(); ($event.preventDefault)\"\n                    class=\"pt-4 max-h-[65vh] overflow-auto\"\n                >\n                    <detailed-book-desks-form\n                        [form]=\"form\"\n                    ></detailed-book-desks-form>\n                </div>\n            </mat-menu>\n            <div listing class=\"flex flex-1 h-1/2 relative space-x-2\">\n                <ul\n                    class=\"list-style-none w-full sm:w-[20rem] max-w-[48rem] mx-auto bg-base-200 pb-32 overflow-auto h-full rounded-tr-lg space-y-2\"\n                    [class.!w-full]=\"hide_map\"\n                    [class.rounded-tl-lg]=\"hide_map\"\n                >\n                    <div\n                        class=\"py-2 px-4 sticky top-0 inset-x-0 bg-base-200 border-b border-base-200 z-10\"\n                    >\n                        {{ (desks | async)?.length || '0' }} matches available\n                    </div>\n                    <li\n                        matRipple\n                        *ngFor=\"let desk of desks | async\"\n                        [attr.desk-id]=\"desk.id\"\n                        class=\"flex items-center p-2 mx-2 bg-base-100 rounded shadow cursor-pointer space-x-2 min-h-[5rem] border\"\n                        [class.border-primary]=\"active_desk?.id === desk.id\"\n                        (click)=\"setActiveDesk(desk)\"\n                    >\n                        <app-icon class=\"text-2xl\">place</app-icon>\n                        <div class=\"flex flex-col w-1/2 flex-1\">\n                            <div name class=\"\">{{ desk.name || desk.id }}</div>\n                            <div level class=\"text-xs\">\n                                {{\n                                    desk.zone?.display_name ||\n                                        desk.zone?.name ||\n                                        '&lt;No Level&gt;'\n                                }}\n                            </div>\n                            <div features class=\"w-full flex flex-wrap\">\n                                <div\n                                    *ngFor=\"let feat of desk.features || []\"\n                                    class=\"text-xs bg-primary text-white rounded-xl px-2 py-1 mt-1 mr-2\"\n                                >\n                                    {{ feat }}\n                                </div>\n                            </div>\n                        </div>\n                    </li>\n                </ul>\n                <div\n                    class=\"hidden sm:block flex-1 bg-base-200 rounded-tl-lg border-l border-t border-base-200 relative overflow-hidden h-full\"\n                    *ngIf=\"!hide_map\"\n                >\n                    <interactive-map\n                        [src]=\"url | async\"\n                        [zoom]=\"(positions | async)?.zoom\"\n                        [center]=\"(positions | async)?.center\"\n                        [styles]=\"styles | async\"\n                        [features]=\"features | async\"\n                        [actions]=\"actions | async\"\n                        [labels]=\"labels | async\"\n                        [focus]=\"active_desk?.map_id || active_desk?.id\"\n                    ></interactive-map>\n                    <div\n                        class=\"absolute top-2 left-2 bg-base-100 rounded-3xl h-10 px-3 flex items-center border border-base-200\"\n                        *ngIf=\"level | async\"\n                    >\n                        {{\n                            (level | async)?.display_name ||\n                                (level | async)?.name\n                        }}\n                    </div>\n                </div>\n                <div\n                    *ngIf=\"loading | async\"\n                    class=\"absolute inset-0 bg-base-100 bg-opacity-60 flex flex-col items-center justify-center space-y-2 !m-0 z-20\"\n                >\n                    <mat-spinner [diameter]=\"32\"></mat-spinner>\n                    <p>{{ loading | async }}</p>\n                </div>\n                <div\n                    selection\n                    class=\"absolute bottom-2 left-1/2 transform -translate-x-1/2 p-2 bg-base-100 shadow rounded w-[24rem] max-w-[calc(100vw-1rem)] space-y-2 !m-0 border border-base-200\"\n                    *ngIf=\"active_desk\"\n                >\n                    <div class=\"\">\n                        <div name class=\"\">{{ active_desk.name }}</div>\n                        <div level class=\"text-xs\">\n                            {{\n                                active_desk.zone?.display_name ||\n                                    active_desk.zone.name ||\n                                    '&lt;No Level&gt;'\n                            }}\n                        </div>\n                    </div>\n                    <div class=\"flex items-center space-x-2\">\n                        <button\n                            matRipple\n                            class=\"inverse flex-1\"\n                            (click)=\"setActiveDesk(null)\"\n                        >\n                            Clear\n                        </button>\n                        <button\n                            matRipple\n                            class=\"flex-1\"\n                            (click)=\"makeBooking()\"\n                        >\n                            Book\n                        </button>\n                    </div>\n                </div>\n            </div>\n        </div>\n    `,\n    styles: [\n        `\n            :host {\n                height: 100%;\n                width: 100%;\n                display: flex;\n                flex-direction: column;\n            }\n\n            [topbar] {\n                background-color: #00539f;\n            }\n        `,\n    ],\n})\nexport class DeskFlowMapComponent extends AsyncHandler implements OnInit {\n    /** Observable for the active map */\n    public readonly url = this._explore.map_url;\n    /** Observable for the active map */\n    public readonly styles = this._explore.map_styles;\n    /** Observable for the active map */\n    public readonly positions = this._explore.map_positions;\n    /** Observable for the active map */\n    public readonly features = this._explore.map_features;\n    /** Observable for the active map */\n    public readonly actions = this._explore.map_actions;\n    /** Observable for the labels map */\n    public readonly labels = this._explore.map_labels;\n    public readonly level = this._explore.level;\n\n    public readonly desks = this._state.available_resources;\n\n    public readonly loading = this._state.loading;\n\n    public readonly form = this._state.form;\n\n    public readonly option_details = combineLatest([\n        this._state.options,\n        this.form.valueChanges.pipe(startWith({})),\n    ]).pipe(\n        map(([options]) => {\n            const form = this._state.form;\n            const recurrence = formatRecurrence({\n                pattern: options.pattern as any,\n                end: options.recurr_end,\n                start: form.value.date,\n                interval: 1,\n                days_of_week: [],\n            });\n            const details = `${format(form.value.date, 'dd MMM yyyy')}${\n                options.pattern && options.pattern !== 'none'\n                    ? ', ' + recurrence\n                    : ''\n            }${options.group ? ', ' + options.group : ''}, ${\n                options.features?.length || 'Any'\n            } Feature${(options.features?.length || 0) < 2 ? '' : 's'}`;\n            if (options.zone_id) this._explore.setLevel(options.zone_id);\n            return details;\n        })\n    );\n\n    private _active_desk = new BehaviorSubject<Desk>(null);\n\n    public readonly makeBooking = () => this._state.confirmPost();\n\n    public get active_desk(): Desk {\n        return this._active_desk.getValue();\n    }\n\n    public get hide_map() {\n        return !!this._settings.get('app.desks.hide_map');\n    }\n\n    constructor(\n        private _state: BookingFormService,\n        private _settings: SettingsService,\n        private _explore: ExploreStateService\n    ) {\n        super();\n    }\n\n    public ngOnInit() {\n        this.subscription(\n            'assets-statue',\n            combineLatest([\n                this._state.resources,\n                this._state.available_resources,\n                this._active_desk,\n            ])\n                .pipe(debounceTime(200))\n                .subscribe(([assets, available]) => {\n                    const status = {};\n                    const actions = [];\n                    for (const desk of assets) {\n                        const active =\n                            desk.bookable &&\n                            available.find((d) => d.id === desk.id);\n                        status[`#${desk.map_id || desk.id}`] = {\n                            fill: desk.bookable\n                                ? available.find((d) => d.id === desk.id)\n                                    ? '#43a047'\n                                    : '#e53935'\n                                : '#999',\n                            opacity: 0.6,\n                        };\n                        if (active)\n                            actions.push({\n                                id: desk.map_id || desk.id,\n                                action: 'click',\n                                callback: () => this.setActiveDesk(desk as any),\n                            });\n                    }\n                    this._explore.setStyles('desks', status);\n                    this._explore.setActions('desks', actions);\n                    this._explore.setFeatures(\n                        'desks',\n                        this.active_desk\n                            ? [\n                                  {\n                                      location:\n                                          this.active_desk.map_id ||\n                                          this.active_desk.id,\n                                      content: `\n                    <span class=\"flex h-4 w-4 rounded-full absolute top-1/4 left-1/4 transform -translate-x-1/2 -translate-y-1/2 border-[3px] border-whiteå00 shadow\" >\n                        <span class=\"animate-ping absolute inline-flex h-full w-full rounded-full bg-primary opacity-75\"></span>\n                        <span class=\"relative inline-flex rounded-full h-full w-full bg-primary\"></span>\n                    </span>`,\n                                  },\n                              ]\n                            : []\n                    );\n                })\n        );\n    }\n\n    public setActiveDesk(desk: Desk) {\n        this._explore.setLevel(desk?.zone?.id);\n        this._active_desk.next(desk);\n        this._state.form.patchValue({\n            asset_id: desk?.id,\n            asset_name: desk.name,\n            map_id: desk?.map_id || desk?.id,\n            description: desk.name,\n            booking_type: 'desk',\n            zones: desk.zone ? [desk.zone?.parent_id, desk.zone?.id] : [],\n        });\n    }\n}\n","import { Component, Input } from '@angular/core';\nimport { currentUser } from '@placeos/common';\n\n@Component({\n    selector: 'flow-success',\n    template: `\n        <div\n            name=\"success\"\n            class=\"fixed inset-0 flex flex-col bg-indigo-900 items-center justify-center z-50\"\n        >\n            <div class=\"text-7xl rounded-full bg-base-100 text-success mb-4\">\n                <app-icon>done</app-icon>\n            </div>\n            <div class=\"text-center text-lg text-white mb-4 leading-10\">\n                Thank you, your {{ type }} booking was successful!<br />\n                {{ extra }} <br *ngIf=\"extra\" />\n                An event has been added to {{ title }} calendar\n            </div>\n            <div class=\"flex items-center space-x-2\">\n                <a\n                    btn\n                    matRipple\n                    class=\"w-32 border border-white\"\n                    [routerLink]=\"['/book', route]\"\n                    [queryParams]=\"{}\"\n                >\n                    New Booking\n                </a>\n                <a\n                    btn\n                    matRipple\n                    class=\"w-32 border border-white\"\n                    [routerLink]=\"['/schedule']\"\n                    [queryParams]=\"{ email: calendar }\"\n                >\n                    Your Bookings\n                </a>\n            </div>\n        </div>\n    `,\n    styles: [``],\n})\nexport class FlowSuccessComponent {\n    @Input() public calendar: string;\n    @Input() public extra = '';\n    @Input() public route = 'spaces';\n    @Input() public type = 'space';\n\n    public get is_host(): boolean {\n        return this.calendar === currentUser()?.email;\n    }\n\n    public get title() {\n        return this.is_host ? 'your' : \"the host'\";\n    }\n}\n","import { Component, OnInit } from '@angular/core';\nimport { ActivatedRoute } from '@angular/router';\nimport { AsyncHandler } from '@placeos/common';\nimport { EventFormService } from '@placeos/events';\n\n@Component({\n    selector: 'placeos-book-locker-flow',\n    template: `\n        <div class=\"bg-base-100 h-full w-full z-50\" [ngSwitch]=\"view\">\n            <locker-flow-success *ngSwitchCase=\"'success'\">\n            </locker-flow-success>\n            <locker-flow-confirm *ngSwitchCase=\"'confirm'\">\n            </locker-flow-confirm>\n            <locker-flow-form *ngSwitchDefault></locker-flow-form>\n        </div>\n    `,\n    styles: [\n        `\n            :host {\n                height: 100%;\n                width: 100%;\n            }\n        `,\n    ],\n})\nexport class BookLockerFlowComponent extends AsyncHandler implements OnInit {\n    public get view() {\n        return this._state.view;\n    }\n    public get last_success() {\n        return this._state.last_success;\n    }\n\n    constructor(\n        private _state: EventFormService,\n        private _route: ActivatedRoute\n    ) {\n        super();\n    }\n\n    public ngOnInit() {\n        this._state.loadForm();\n        this._state.listenForStatusChanges();\n        this.subscription(\n            'route.params',\n            this._route.paramMap.subscribe((param) => {\n                if (param.has('step'))\n                    this._state.setView(param.get('step') as any);\n            })\n        );\n        this.subscription(\n            'route.query',\n            this._route.queryParamMap.subscribe((param) => {\n                if (param.has('success')) this._state.setView('success');\n            })\n        );\n    }\n}\n","import { Component, Input, Optional } from '@angular/core';\nimport { MatBottomSheetRef } from '@angular/material/bottom-sheet';\nimport { BookingAsset, BookingFormService } from '@placeos/bookings';\nimport { AsyncHandler, SettingsService, notifyError } from '@placeos/common';\nimport { OrganisationService } from '@placeos/organisation';\nimport { take } from 'rxjs/operators';\n\n@Component({\n    selector: 'locker-flow-confirm',\n    styles: [\n        `\n            section > app-icon {\n                font-size: 1.5rem;\n                margin-top: 0.3rem;\n            }\n\n            h3 {\n                font-size: 1.25rem;\n                font-weight: medium;\n                margin: 0.5rem 0;\n            }\n        `,\n    ],\n    template: `\n        <button\n            icon\n            name=\"close-locker-confirm\"\n            matRipple\n            *ngIf=\"show_close\"\n            (click)=\"dismiss()\"\n        >\n            <app-icon>close</app-icon>\n        </button>\n        <header class=\"flex items-center justify-between px-2\">\n            <h2 class=\"text-2xl font-medium mb-2\" i18n>\n                Confirm Locker Booking\n            </h2>\n            <mat-spinner diameter=\"32\" *ngIf=\"loading | async\"></mat-spinner>\n        </header>\n        <section period class=\"flex space-x-1 py-4 px-2\">\n            <app-icon class=\"text-success\">done</app-icon>\n            <div details class=\"leading-6\">\n                <h3>{{ booking.title || '~Untitled~' }}</h3>\n                <div class=\"flex items-center space-x-2\">\n                    <app-icon>calendar_today</app-icon>\n                    <div date>{{ booking.date | date: 'fullDate' }}</div>\n                </div>\n                <div class=\"flex items-center space-x-2\">\n                    <app-icon>schedule</app-icon>\n                    <div time>\n                        {{\n                            booking.all_day\n                                ? 'All Day'\n                                : (booking.date | date: time_format) +\n                                  ' - ' +\n                                  (booking.date + booking.duration * 60 * 1000\n                                      | date: time_format + ' (z)')\n                        }}\n                    </div>\n                </div>\n            </div>\n        </section>\n        <section\n            locker\n            class=\"flex space-x-1 py-4 px-2 border-t\"\n            *ngIf=\"booking_asset?.id\"\n        >\n            <app-icon class=\"text-success\">done</app-icon>\n            <div details class=\"leading-6\">\n                <h3 name>\n                    {{ booking_asset?.name || booking_asset?.id || '' }}\n                </h3>\n                <div class=\"flex items-center space-x-2\">\n                    <app-icon>place</app-icon>\n                    <div>{{ location }}</div>\n                </div>\n                <ng-container *ngFor=\"let feat of booking_asset.features\">\n                    <div features class=\"flex items-center space-x-2\">\n                        <app-icon>arrow_upward</app-icon>\n                        <div>{{ feat }}</div>\n                    </div>\n                </ng-container>\n            </div>\n        </section>\n        <section\n            assets\n            class=\"flex space-x-1 py-4 px-2 border-t\"\n            *ngIf=\"assets?.length\"\n        >\n            <app-icon class=\"text-success\">done</app-icon>\n            <div details class=\"leading-6\">\n                <h3 i18n>{{ assets_count }} Asset(s)</h3>\n                <div class=\"flex space-x-2\" *ngFor=\"let asset of assets\">\n                    <div class=\"h-5 w-5 bg-base-200 rounded-full\">\n                        {{ asset.amount }}\n                    </div>\n                    <span>{{ asset.name }}</span>\n                </div>\n            </div>\n        </section>\n        <footer class=\"p-2 w-full border-t border-base-200 mt-4\">\n            <button\n                name=\"confirm-locker\"\n                btn\n                matRipple\n                class=\"w-full\"\n                *ngIf=\"!(loading | async)\"\n                (click)=\"postForm()\"\n                i18n\n            >\n                Confirm\n            </button>\n        </footer>\n    `,\n})\nexport class BookLockerFlowConfirmComponent extends AsyncHandler {\n    @Input() public show_close: boolean = false;\n\n    public readonly loading = this._state.loading;\n\n    public readonly postForm = async () => {\n        try {\n            if ((await this._state.options.pipe(take(1)).toPromise())?.group) {\n                await this._state.postFormForGroup();\n            } else {\n                await this._state.postForm();\n            }\n            this.dismiss(true);\n        } catch (e) {\n            notifyError(e);\n        }\n    };\n    public readonly dismiss = (e?) => this._sheet_ref?.dismiss(e);\n\n    public get time_format() {\n        return this._settings.time_format;\n    }\n\n    public get booking() {\n        return this._state.form.value as any;\n    }\n\n    public get assets() {\n        return this.booking.assets || null;\n    }\n\n    public get assets_count() {\n        return this.assets?.length\n            ? this.assets.reduce((a, b) => a + b.amount, 0)\n            : 0;\n    }\n\n    public get booking_asset() {\n        return this.booking.booking_asset as BookingAsset;\n    }\n\n    public get location() {\n        const building = this._org.buildings.find(\n            (b) => b.id === this.booking_asset?.zone?.parent_id\n        );\n        const level = this._org.levels.find(\n            (l) => l.id === this.booking_asset?.zone?.id\n        );\n        return `${level?.display_name || level?.name}${building ? ',' : ''} ${\n            building?.address || building?.display_name || building?.name || ''\n        }`;\n    }\n\n    constructor(\n        private _state: BookingFormService,\n        private _org: OrganisationService,\n        @Optional() private _sheet_ref: MatBottomSheetRef,\n        private _settings: SettingsService\n    ) {\n        super();\n    }\n}\n","import { Component, OnInit } from '@angular/core';\nimport {\n    MatBottomSheet,\n    MatBottomSheetRef,\n} from '@angular/material/bottom-sheet';\nimport { Router } from '@angular/router';\nimport { BookingFormService } from '@placeos/bookings';\nimport {\n    getInvalidFields,\n    notifyError,\n    SettingsService,\n} from '@placeos/common';\nimport { OrganisationService } from '@placeos/organisation';\nimport { isBefore, startOfMinute } from 'date-fns';\nimport { first } from 'rxjs/operators';\nimport { BookLockerFlowConfirmComponent } from './locker-flow-confirm.component';\n\n@Component({\n    selector: 'locker-flow-form',\n    styles: [],\n    template: `\n        <div class=\"h-full w-full bg-base-200 overflow-auto\">\n            <div\n                class=\"max-w-full w-[48rem] mx-auto sm:my-4 bg-base-100 border border-base-200\"\n            >\n                <h2\n                    class=\"w-full p-4 sm:py-4 sm:px-16 text-2xl font-medium border-b border-base-200\"\n                    i18n\n                >\n                    Book Locker\n                </h2>\n                <new-locker-form-details\n                    [form]=\"form\"\n                ></new-locker-form-details>\n                <div class=\"sm:mb-2 border-b border-base-200 w-full\"></div>\n                <section\n                    class=\"flex flex-col sm:flex-row items-center sm:space-x-2 p-2 sm:px-16 sm:mb-2\"\n                >\n                    <button\n                        btn\n                        name=\"open-locker-confirm\"\n                        matRipple\n                        confirm\n                        class=\"w-full sm:w-auto\"\n                        (click)=\"viewConfirm()\"\n                        i18n\n                    >\n                        Confirm Locker\n                    </button>\n                </section>\n            </div>\n        </div>\n    `,\n})\nexport class BookLockerFlowFormComponent implements OnInit {\n    public sheet_ref: MatBottomSheetRef<any>;\n    public level = '';\n    public levels = [];\n\n    public get form() {\n        return this._state.form;\n    }\n\n    public readonly clearForm = () => {\n        this.level = this._org.building.id;\n        this._state.clearForm();\n    };\n\n    public readonly viewConfirm = () => {\n        if (!this.form.valid)\n            return notifyError(\n                `Some fields are invalid. [${getInvalidFields(this.form).join(\n                    ', '\n                )}]`\n            );\n        this.sheet_ref = this._bottom_sheet.open(\n            BookLockerFlowConfirmComponent\n        );\n        this.sheet_ref.instance.show_close = true;\n        this.sheet_ref.afterDismissed().subscribe((value) => {\n            if (value) {\n                this._router.navigate(['/book', 'locker', 'success']);\n                this._state.setView('success');\n            }\n        });\n    };\n\n    constructor(\n        private _state: BookingFormService,\n        private _router: Router,\n        private _org: OrganisationService,\n        private _bottom_sheet: MatBottomSheet,\n        private _settings: SettingsService\n    ) {}\n\n    public async ngOnInit() {\n        await this._org.initialised.pipe(first((_) => _));\n        await this._org.active_levels.pipe(first((_) => _?.length > 0));\n        this._state.setOptions({ type: 'locker' });\n        this.level = this._org.building?.id;\n        this.levels = [\n            { id: this._org.building?.id, name: 'Any Level' },\n            ...this._org.levelsForBuilding(this._org.building),\n        ];\n        if (isBefore(this.form.value.date, Date.now())) {\n            this.form.patchValue({ date: startOfMinute(Date.now()).valueOf() });\n        }\n    }\n}\n","import { Component } from '@angular/core';\nimport { BookingFormService } from '@placeos/bookings';\nimport { SettingsService } from '@placeos/common';\nimport {\n    generateCalendarFileLink,\n    generateGoogleCalendarLink,\n    generateMicrosoftCalendarLink,\n} from 'libs/common/src/lib/calendar-links';\n\n@Component({\n    selector: 'locker-flow-success',\n    styles: [],\n    template: `\n        <div\n            class=\"absolute inset-0 bg-base-100 flex flex-col z-50 overflow-auto\"\n        >\n            <main\n                class=\"flex-1 flex flex-col items-center justify-center space-y-2 p-8\"\n            >\n                <h2 class=\"text-2xl font-medium text-center\" i18n>\n                    {{ last_event.asset_name || last_event.asset_id\n                    }}{{ location }} Booked!\n                </h2>\n                <img src=\"assets/icons/locker-success.svg\" />\n                <p class=\"text-center\" i18n>\n                    Your\n                    <span group *ngIf=\"last_event?.attendees?.length\">\n                        group of\n                        {{ last_event?.attendees?.length + 1 }}\n                    </span>\n                    locker{{ last_event?.attendees?.length ? 's' : '' }} has\n                    been successfully booked\n                    <span\n                        assets\n                        *ngIf=\"last_event?.extension_data?.assets?.length\"\n                    >\n                        including\n                        {{ last_event?.extension_data?.assets?.length }}\n                        asset(s)\n                    </span>\n                    for the\n                    {{ last_event.date | date: 'mediumDate' }} at\n                    {{ last_event.date | date: time_format }}-{{\n                        last_event.date + last_event.duration * 60 * 1000\n                            | date: time_format\n                    }}.\n                </p>\n                <div\n                    class=\"flex flex-col items-center space-y-4 p-4 relative\"\n                    *ngIf=\"show_links\"\n                >\n                    <a\n                        btn\n                        matRipple\n                        name=\"locker-outlook-link\"\n                        class=\"flex items-center p-2 space-x-2 pr-4 w-64 rounded inverse\"\n                        [href]=\"outlook_link | sanitize: 'url'\"\n                        target=\"_blank\"\n                        rel=\"noopener noreferer\"\n                    >\n                        <img src=\"assets/icons/outlook.svg\" class=\"w-6\" />\n                        <span i18n>Add to Outlook</span>\n                    </a>\n                    <a\n                        btn\n                        matRipple\n                        name=\"locker-google-link\"\n                        class=\"flex items-center p-2 space-x-2 pr-4 w-64 rounded inverse\"\n                        [href]=\"google_link | sanitize: 'url'\"\n                        target=\"_blank\"\n                        rel=\"noopener noreferer\"\n                    >\n                        <img src=\"assets/icons/gcal.svg\" class=\"w-6\" />\n                        <span i18n>Add to Google Calendar</span>\n                    </a>\n                    <a\n                        btn\n                        matRipple\n                        name=\"locker-ical-link\"\n                        class=\"flex items-center p-2 space-x-2 pr-4 w-64 rounded inverse\"\n                        [href]=\"ical_link | safe: 'url'\"\n                        target=\"_blank\"\n                        rel=\"noopener noreferer\"\n                    >\n                        <app-icon class=\"text-xl\">download</app-icon>\n                        <span i18n>Download iCal File</span>\n                    </a>\n                </div>\n            </main>\n            <footer\n                class=\"sticky bottom-0 bg-base-100 p-2 w-full border-t border-base-200 mt-4 flex items-center justify-center\"\n            >\n                <a\n                    btn\n                    name=\"locker-confirm-continue\"\n                    matRipple\n                    class=\"w-full max-w-[32rem] mx-auto\"\n                    [routerLink]=\"['/']\"\n                    i18n\n                >\n                    Great, thanks!\n                </a>\n            </footer>\n        </div>\n    `,\n})\nexport class BookLockerFlowSuccessComponent {\n    public outlook_link = '';\n    public google_link = '';\n    public ical_link = '';\n    public get location() {\n        const locker = this.last_event?.extension_data?.booking_asset;\n        if (!locker) return '';\n        return locker.zone\n            ? `, ${\n                  locker.zone.display_name || locker.zone.name || locker.zone.id\n              }`\n            : '';\n    }\n\n    public get last_event() {\n        return this._state.last_success;\n    }\n\n    public get show_links() {\n        return this._settings.get('app.lockers.show_calendar_links');\n    }\n\n    public get time_format() {\n        return this._settings.time_format;\n    }\n\n    public readonly viewCalendarLinks = () =>\n        this._state.openBookingLinkModal();\n\n    constructor(\n        private _state: BookingFormService,\n        private _settings: SettingsService\n    ) {}\n\n    public ngOnInit() {\n        this.outlook_link = generateMicrosoftCalendarLink(\n            this.last_event as any\n        );\n        this.google_link = generateGoogleCalendarLink(this.last_event as any);\n        this.ical_link = generateCalendarFileLink(this.last_event as any);\n    }\n}\n","import {\n    Component,\n    EventEmitter,\n    Input,\n    Output,\n    SimpleChanges,\n} from '@angular/core';\nimport { FormGroup } from '@angular/forms';\nimport { BookingFormService, Locker } from '@placeos/bookings';\nimport { AsyncHandler, SettingsService } from '@placeos/common';\nimport { OrganisationService } from '@placeos/organisation';\n\n@Component({\n    selector: 'new-locker-form-details',\n    styles: [],\n    template: `\n        <div\n            class=\"p-0 sm:py-4 sm:px-16 divide-y divide-base-200 space-y-2\"\n            *ngIf=\"form\"\n            [formGroup]=\"form\"\n        >\n            <section class=\"p-2\" [class.!border-none]=\"allow_groups\">\n                <h3 class=\"space-x-2 flex items-center mb-4\">\n                    <div\n                        class=\"bg-base-200 rounded-full h-6 w-6 flex items-center justify-center\"\n                    >\n                        1\n                    </div>\n                    <div class=\"text-xl\" i18n>Details</div>\n                </h3>\n                <div class=\"flex items-center flex-wrap sm:space-x-2\">\n                    <div class=\"flex-1 min-w-[256px]\">\n                        <label for=\"date\" i18n>Building<span>*</span></label>\n                        <mat-form-field appearance=\"outline\" class=\"w-full\">\n                            <mat-select\n                                [(ngModel)]=\"building\"\n                                [ngModelOptions]=\"{ standalone: true }\"\n                                placeholder=\"Select Building\"\n                            >\n                                <mat-option\n                                    *ngFor=\"let b of buildings | async\"\n                                    [value]=\"b\"\n                                >\n                                    {{ b.display_name || b.name }}\n                                </mat-option>\n                            </mat-select>\n                        </mat-form-field>\n                    </div>\n                    <div class=\"flex-1 min-w-[256px]\">\n                        <label for=\"date\" i18n>Date<span>*</span></label>\n                        <a-date-field name=\"date\" formControlName=\"date\" i18n>\n                            Date and time must be in the future\n                        </a-date-field>\n                    </div>\n                </div>\n                <div class=\"flex items-center space-x-2\">\n                    <div class=\"flex-1 w-1/3\">\n                        <label for=\"start-time\" i18n>\n                            Start Time<span>*</span>\n                        </label>\n                        <a-time-field\n                            name=\"start-time\"\n                            [ngModel]=\"form.value.date\"\n                            (ngModelChange)=\"form.patchValue({ date: $event })\"\n                            [ngModelOptions]=\"{ standalone: true }\"\n                            [use_24hr]=\"use_24hr\"\n                            [disabled]=\"form.value.duration > 24 * 60 - 1\"\n                        ></a-time-field>\n                    </div>\n                    <div class=\"flex-1 w-1/3 relative\">\n                        <label for=\"end-time\" i18n>\n                            End Time<span>*</span>\n                        </label>\n                        <a-duration-field\n                            name=\"end-time\"\n                            formControlName=\"duration\"\n                            [time]=\"form.get('date')?.value\"\n                            [max]=\"10 * 60\"\n                            [min]=\"60\"\n                            [step]=\"60\"\n                            [use_24hr]=\"use_24hr\"\n                            [custom_options]=\"custom_durations\"\n                        >\n                        </a-duration-field>\n                    </div>\n                </div>\n            </section>\n            <section class=\"p-2\" *ngIf=\"form.contains('resources')\">\n                <h3 class=\"space-x-2 flex items-center mb-4\">\n                    <div\n                        class=\"bg-base-200 rounded-full h-6 w-6 flex items-center justify-center\"\n                    >\n                        {{ (options | async)?.group ? 3 : 2 }}\n                    </div>\n                    <div class=\"text-xl\" i18n>Locker</div>\n                </h3>\n                <locker-list-field\n                    formControlName=\"resources\"\n                ></locker-list-field>\n            </section>\n        </div>\n    `,\n})\nexport class LockerFormDetailsComponent extends AsyncHandler {\n    @Input() public form: FormGroup;\n    @Output() public find = new EventEmitter<void>();\n    /** List of available buildings to select */\n    public readonly buildings = this._org.building_list;\n    /** List of available levels for the selected building */\n    public readonly levels = this._org.active_levels;\n    /** List of set options for locker booking */\n    public readonly options = this._state.options;\n    /** List of set options for locker booking */\n    public readonly features = this._state.features;\n\n    /** Selected locker for booking */\n    public selected_locker: Locker;\n    public from_id = false;\n    public custom_durations = [];\n\n    public readonly recurrence_options = ['daily', 'weekly', 'monthly'];\n\n    public get building() {\n        return this._org.building;\n    }\n    public set building(bld) {\n        this._org.building = bld;\n    }\n\n    public get use_24hr() {\n        return this._settings.get('app.use_24_hour_time');\n    }\n\n    public readonly setOptions = (o) => this._state.setOptions(o);\n\n    public readonly setFeature = (f, e) => this._state.setFeature(f, e);\n\n    constructor(\n        private _state: BookingFormService,\n        private _org: OrganisationService,\n        private _settings: SettingsService\n    ) {\n        super();\n    }\n\n    public ngOnChanges(changes: SimpleChanges) {\n        if (changes.form && this.form) {\n            this.subscription(\n                'change',\n                this.form\n                    .get('resources')\n                    ?.valueChanges?.subscribe((list) =>\n                        list?.length ? this.setBookingAsset(list[0]) : ''\n                    )\n            );\n            this.subscription(\n                'date',\n                this.form\n                    .get('date')\n                    ?.valueChanges?.subscribe((d) =>\n                        this._setCustomDateOptions()\n                    )\n            );\n            this._setCustomDateOptions();\n        }\n    }\n\n    private _setCustomDateOptions() {\n        for (const i of [1, 2, 3, 4, 5, 6, 7]) {\n            this.custom_durations.push(i * 24 * 60);\n        }\n    }\n\n    private setBookingAsset(locker: Locker) {\n        this._state.form.patchValue({ asset_id: undefined });\n        if (!locker) return;\n        this.selected_locker = locker;\n        this._state.form.patchValue({\n            asset_id: locker?.id,\n            asset_name: locker.name,\n            map_id: locker?.bank_id || locker?.id,\n            description: locker.name,\n            booking_type: 'locker',\n            zones: [this.building.id],\n            booking_asset: locker,\n        });\n    }\n}\n","import { Component, OnInit } from '@angular/core';\nimport { ActivatedRoute } from '@angular/router';\nimport { AsyncHandler } from '@placeos/common';\nimport { EventFormService } from '@placeos/events';\n\n@Component({\n    selector: 'placeos-book-meeting-flow',\n    template: `\n        <div class=\"bg-base-100 h-full w-full z-50\" [ngSwitch]=\"view\">\n            <meeting-flow-success *ngSwitchCase=\"'success'\">\n            </meeting-flow-success>\n            <meeting-flow-confirm *ngSwitchCase=\"'confirm'\">\n            </meeting-flow-confirm>\n            <meeting-flow-form *ngSwitchDefault></meeting-flow-form>\n        </div>\n    `,\n    styles: [\n        `\n            :host {\n                height: 100%;\n                width: 100%;\n            }\n        `,\n    ],\n})\nexport class BookMeetingFlowComponent extends AsyncHandler implements OnInit {\n    public get view() {\n        return this._state.view;\n    }\n    public get last_success() {\n        return this._state.last_success;\n    }\n\n    constructor(\n        private _state: EventFormService,\n        private _route: ActivatedRoute\n    ) {\n        super();\n    }\n\n    public ngOnInit() {\n        this._state.loadForm();\n        this._state.listenForStatusChanges();\n        this.subscription(\n            'route.params',\n            this._route.paramMap.subscribe((param) => {\n                if (param.has('step'))\n                    this._state.setView(param.get('step') as any);\n            })\n        );\n        this.subscription(\n            'route.query',\n            this._route.queryParamMap.subscribe((param) => {\n                if (param.has('success')) this._state.setView('success');\n            })\n        );\n    }\n}\n","import { Component, Input, Optional } from '@angular/core';\nimport { MatDialog, MatDialogRef } from '@angular/material/dialog';\nimport { validateAssetRequestsForResource } from '@placeos/assets';\nimport { CateringItem, CateringOrder } from '@placeos/catering';\nimport {\n    AsyncHandler,\n    SettingsService,\n    notifyError,\n    openConfirmModal,\n} from '@placeos/common';\nimport { EventFormService, formatRecurrence } from '@placeos/events';\nimport { OrganisationService } from '@placeos/organisation';\nimport { Space } from '@placeos/spaces';\nimport { addMinutes, endOfDay, startOfDay } from 'date-fns';\nimport { AssetRequest } from 'libs/assets/src/lib/asset-request.class';\nimport { SpacePipe } from 'libs/spaces/src/lib/space.pipe';\nimport { BehaviorSubject, combineLatest } from 'rxjs';\nimport { map } from 'rxjs/operators';\n\n@Component({\n    selector: 'meeting-flow-confirm-modal',\n    template: `\n        <div\n            header\n            class=\"p-4 flex items-center justify-center border-b border-base-200 relative\"\n        >\n            <button\n                icon\n                name=\"close-meeting-confirm\"\n                matRipple\n                mat-dialog-close\n                *ngIf=\"show_close\"\n                class=\"absolute left-2 top-1/2 -translate-y-1/2\"\n            >\n                <app-icon>close</app-icon>\n            </button>\n            <h2 class=\"text-xl font-medium\" i18n>Confirm Meeting booking</h2>\n            <mat-spinner\n                diameter=\"32\"\n                class=\"absolute right-2 top-1/2 -translate-y-1/2\"\n                [class.opacity-0]=\"!(loading | async)\"\n            ></mat-spinner>\n        </div>\n        <main\n            class=\"flex-1 min-w-[48rem] divide-y divide-base-200 p-4 space-y-4 max-h-[65vh] overflow-auto\"\n        >\n            <div class=\"flex divide-x divide-base-200\">\n                <div class=\"pr-4 py-4 pl-16 relative space-y-2 flex-1\">\n                    <div\n                        class=\"absolute top-4 left-4 flex items-center justify-center rounded-full border border-success text-success text-2xl\"\n                    >\n                        <app-icon>done</app-icon>\n                    </div>\n                    <h3 class=\"text-xl !mt-0\">\n                        {{ event.title || 'Meeting Details' }}\n                    </h3>\n                    <div class=\"flex items-center space-x-2\">\n                        <app-icon>today</app-icon>\n                        <div date>{{ event.date | date: 'fullDate' }}</div>\n                    </div>\n                    <div\n                        class=\"flex items-center space-x-2\"\n                        *ngIf=\"event.recurrence?.pattern\"\n                    >\n                        <app-icon>update</app-icon>\n                        <div date>{{ formatted_recurrence }}</div>\n                    </div>\n                    <div class=\"flex items-center space-x-2\">\n                        <app-icon>schedule</app-icon>\n                        <div time>\n                            {{\n                                is_multiday\n                                    ? (event.date | date: 'MMM d') +\n                                      (event.all_day\n                                          ? ''\n                                          : (event.date\n                                            | date: ', ' + time_format)) +\n                                      ' - ' +\n                                      (event.date_end | date: 'MMM d') +\n                                      (event.all_day\n                                          ? ''\n                                          : (event.date_end\n                                            | date: ', ' + time_format))\n                                    : event.all_day\n                                    ? 'All Day'\n                                    : (event.date | date: time_format) +\n                                      ' - ' +\n                                      (event.date + event.duration * 60 * 1000\n                                          | date: time_format + ' (z)')\n                            }}\n                        </div>\n                    </div>\n                </div>\n                <div\n                    class=\"pr-4 py-4 pl-16 relative space-y-2 flex-1\"\n                    *ngIf=\"event.resources.length\"\n                >\n                    <div\n                        class=\"absolute top-4 left-4 flex items-center justify-center rounded-full border border-success text-success text-2xl\"\n                    >\n                        <app-icon>done</app-icon>\n                    </div>\n                    <h3 class=\"text-xl !mt-0\" i18n>Booked Room</h3>\n                    <ng-container *ngFor=\"let s of event.resources\">\n                        <div class=\"flex items-center space-x-2\">\n                            <app-icon>layers</app-icon>\n                            <div>\n                                {{ level?.display_name || level?.name }},\n                                {{ s.display_name || s.name }}\n                            </div>\n                        </div>\n                    </ng-container>\n                    <div class=\"flex items-center space-x-2\">\n                        <app-icon>place</app-icon>\n                        <div>{{ location }}</div>\n                    </div>\n                </div>\n            </div>\n            <div\n                class=\"pr-4 py-4 pl-16 relative space-y-2\"\n                *ngIf=\"event.attendees.length\"\n            >\n                <div\n                    class=\"absolute top-4 left-4 flex items-center justify-center rounded-full border border-success text-success text-2xl\"\n                >\n                    <app-icon>done</app-icon>\n                </div>\n                <h3 class=\"text-xl !mt-0\" i18n>\n                    {{ event.attendees.length }} { event.attendees.length,\n                    plural, =1 { Attendee } other { Attendees } }\n                </h3>\n                <div attendee-list>\n                    <mat-chip-list #chipList aria-label=\"User selection\">\n                        <mat-chip *ngFor=\"let user of event.attendees\">\n                            <div class=\"flex items-center\">\n                                <app-icon class=\"mr-2\">business</app-icon>\n                                {{ user.name || user.email }}\n                            </div>\n                        </mat-chip>\n                    </mat-chip-list>\n                </div>\n            </div>\n            <div\n                class=\"flex divide-x divide-base-200\"\n                *ngIf=\"event.catering?.length || event.assets?.length\"\n            >\n                <div\n                    class=\"pr-4 py-4 pl-16 relative space-y-2 flex-1\"\n                    *ngIf=\"event.catering?.length\"\n                >\n                    <div\n                        class=\"absolute top-4 left-4 flex items-center justify-center rounded-full border border-success text-success text-2xl\"\n                    >\n                        <app-icon>done</app-icon>\n                    </div>\n                    <h3 class=\"text-xl !mt-0\" i18n>Catering</h3>\n                    <div class=\"flex flex-col space-y-2\">\n                        <div\n                            order\n                            *ngFor=\"let order of catering_orders\"\n                            class=\"border bg-base-100 rounded-xl overflow-hidden\"\n                            [class.border-error]=\"end_time < order.deliver_at\"\n                            [class.border-base-300]=\"\n                                end_time >= order.deliver_at\n                            \"\n                        >\n                            <div class=\"flex items-center space-x-2 p-3\">\n                                <div class=\"flex-1 flex items-center space-x-2\">\n                                    <div class=\"text-sm\">\n                                        Order at\n                                        {{\n                                            order.deliver_at\n                                                | date: 'MMM d, ' + time_format\n                                        }}\n                                    </div>\n                                    <div\n                                        class=\"flex items-center justify-center h-6 w-6 rounded-full bg-error text-error-content\"\n                                        [matTooltip]=\"err_tooltip\"\n                                        *ngIf=\"end_time < order.deliver_at\"\n                                    >\n                                        <app-icon>priority_high</app-icon>\n                                    </div>\n                                    <div class=\"flex-1\"></div>\n                                    <div\n                                        class=\"text-xs bg-success text-success-content px-2 py-1 rounded\"\n                                    >\n                                        {{ order.item_count }} item(s)\n                                    </div>\n                                    <div\n                                        class=\"text-xs bg-info text-info-content px-2 py-1 rounded\"\n                                    >\n                                        Total:\n                                        {{\n                                            order.total_cost / 100\n                                                | currency: currency_code\n                                        }}\n                                    </div>\n                                </div>\n                            </div>\n                            <div\n                                class=\"flex flex-col bg-base-200 divide-y divide-base-100\"\n                            >\n                                <div\n                                    class=\"flex items-center px-3 py-1 space-x-2 hover:opacity-90\"\n                                    *ngFor=\"let item of order.items\"\n                                >\n                                    <div class=\"flex items-center flex-1\">\n                                        <span class=\"text-sm\">{{\n                                            item.name || 'Item'\n                                        }}</span>\n                                        <span\n                                            class=\"text-xs opacity-60 ml-4 font-normal\"\n                                            *ngIf=\"item.option_list?.length\"\n                                            [matTooltip]=\"optionList(item)\"\n                                        >\n                                            {{\n                                                item.option_list?.length || '0'\n                                            }}\n                                            option(s)\n                                        </span>\n                                    </div>\n                                    <div\n                                        class=\"rounded bg-success text-success-content text-xs px-2 py-1\"\n                                    >\n                                        x{{ item.quantity }}\n                                    </div>\n                                    <div\n                                        class=\"rounded bg-info text-info-content text-xs px-2 py-1\"\n                                    >\n                                        {{\n                                            item.unit_price_with_options / 100\n                                                | currency: currency_code\n                                        }}\n                                        ea\n                                    </div>\n                                    <div\n                                        class=\"rounded bg-info text-info-content text-xs px-2 py-1\"\n                                    >\n                                        {{\n                                            item.total_cost / 100\n                                                | currency: currency_code\n                                        }}\n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n                <div\n                    class=\"pr-4 py-4 pl-16 relative space-y-2 flex-1\"\n                    *ngIf=\"assets?.length\"\n                >\n                    <div\n                        class=\"absolute top-4 left-4 flex items-center justify-center rounded-full border border-success text-success text-2xl\"\n                        [class.!border-error]=\"has_conflict\"\n                        [class.!text-error]=\"has_conflict\"\n                    >\n                        <app-icon>{{\n                            has_conflict ? 'close' : 'done'\n                        }}</app-icon>\n                    </div>\n                    <h3 class=\"text-xl !mt-0\" i18n>Assets</h3>\n                    <div\n                        request\n                        *ngFor=\"let request of assets\"\n                        class=\"border bg-base-100 rounded-xl overflow-hidden\"\n                        [class.border-error]=\"end_time < request.deliver_at\"\n                        [class.border-base-300]=\"end_time >= request.deliver_at\"\n                    >\n                        <div class=\"flex items-center space-x-2 p-3\">\n                            <div class=\"flex-1 flex items-center space-x-2\">\n                                <div class=\"text-sm\">\n                                    Requested for\n                                    {{\n                                        request.deliver_at_time\n                                            | date: 'MMM d, ' + time_format\n                                    }}\n                                </div>\n                                <div\n                                    class=\"flex items-center justify-center h-6 w-6 rounded-full bg-error text-error-content\"\n                                    [matTooltip]=\"err_tooltip(request)\"\n                                    *ngIf=\"\n                                        end_time < request.deliver_at ||\n                                        request.conflict\n                                    \"\n                                >\n                                    <app-icon>priority_high</app-icon>\n                                </div>\n                                <div class=\"flex-1\"></div>\n                                <div\n                                    class=\"text-xs bg-success text-success-content px-2 py-1 rounded\"\n                                >\n                                    {{ request.item_count }} item(s)\n                                </div>\n                            </div>\n                        </div>\n                        <div\n                            class=\"flex flex-col bg-base-200 divide-y divide-base-100\"\n                        >\n                            <div\n                                class=\"flex items-center px-3 py-1 space-x-2 hover:opacity-90\"\n                                *ngFor=\"let item of request.items\"\n                            >\n                                <div class=\"flex items-center flex-1\">\n                                    <span class=\"text-sm\">{{\n                                        item.name || 'Item'\n                                    }}</span>\n                                </div>\n                                <div\n                                    class=\"rounded bg-success text-success-content text-xs px-2 py-1\"\n                                >\n                                    x{{ item.quantity }}\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n            <div class=\"pr-4 py-4 pl-16 relative space-y-2\" *ngIf=\"event.body\">\n                <div\n                    class=\"absolute top-4 left-4 flex items-center justify-center rounded-full border border-success text-success text-2xl\"\n                >\n                    <app-icon>done</app-icon>\n                </div>\n                <h3 class=\"text-xl !mt-0\" i18n>Notes</h3>\n                <div [innerHTML]=\"event.body | sanitize\"></div>\n            </div>\n        </main>\n        <footer\n            class=\"p-2 border-t border-base-200 flex items-center justify-end\"\n            *ngIf=\"!(loading | async)\"\n        >\n            <button\n                btn\n                name=\"confirm-meeting\"\n                matRipple\n                class=\"w-32\"\n                (click)=\"postForm()\"\n                i18n\n            >\n                Confirm\n            </button>\n            <!-- <button\n                btn\n                matRipple\n                class=\"inverse w-32\"\n                *ngIf=\"loading | async\"\n                (click)=\"cancelPost()\"\n                i18n\n            >\n                Undo\n            </button> -->\n        </footer>\n    `,\n    styles: [``],\n    providers: [SpacePipe],\n})\nexport class MeetingFlowConfirmModalComponent extends AsyncHandler {\n    @Input() public show_close: boolean = false;\n\n    private _loading = new BehaviorSubject(false);\n\n    public readonly loading = combineLatest([\n        this._event_form.loading,\n        this._loading,\n    ]).pipe(map(([a, b]) => a || b));\n    public readonly catering_orders;\n    public readonly assets;\n    public err_tooltip(request: AssetRequest) {\n        return request.conflict\n            ? 'Some of the items are not available for the selected date and time.'\n            : 'Delivery time is outside of the event time.\\nThis order will be ignored.';\n    }\n\n    public get has_conflict() {\n        return this.assets?.some((_) => _.conflict);\n    }\n\n    public readonly postForm = async () => {\n        if (!this.space) {\n            const result = await openConfirmModal(\n                {\n                    title: 'Make Booking without a Room',\n                    content:\n                        'You are creating a booking without a room, are you sure?',\n                    icon: { content: 'event_available' },\n                },\n                this._dialog\n            );\n            if (result.reason !== 'done') return;\n            result.close();\n        }\n        const resp = await this._event_form.postForm().catch((_) => {\n            notifyError(_);\n            return false;\n        });\n        if (resp) this.dismiss(true);\n    };\n    public readonly cancelPost = () => this._event_form.cancelPostForm();\n    public readonly dismiss = (e?) => this._dialog_ref?.close(e);\n\n    private _space = this.event.resources[0];\n\n    public get is_multiday() {\n        return this.event.duration > 24 * 60;\n    }\n\n    public get time_format() {\n        return this._settings.time_format;\n    }\n\n    public get end_time() {\n        return this.event.all_day\n            ? endOfDay(this.event.date_end).valueOf()\n            : this.event.date_end;\n    }\n\n    public get event() {\n        return this._event_form.form.getRawValue() as any;\n    }\n\n    public get space(): Space {\n        return this.event.resources[0];\n    }\n\n    public get level() {\n        return this._org.levelWithID(this.space.zones);\n    }\n\n    public get location() {\n        const building = this._org.buildings.find((_) =>\n            this.space.zones.includes(_.id)\n        );\n        return building?.address || building?.display_name || building?.name;\n    }\n\n    public get code() {\n        return this._org.currency_code;\n    }\n\n    public get formatted_recurrence() {\n        return formatRecurrence({\n            ...this.event.recurrence,\n            start: this.event.date || this.event.recurrence.start,\n        });\n    }\n\n    constructor(\n        private _event_form: EventFormService,\n        private _org: OrganisationService,\n        private _space_pipe: SpacePipe,\n        @Optional()\n        private _dialog_ref: MatDialogRef<MeetingFlowConfirmModalComponent>,\n        private _dialog: MatDialog,\n        private _settings: SettingsService\n    ) {\n        super();\n    }\n\n    public async ngOnInit() {\n        const date = this.event.all_day\n            ? startOfDay(this.event.date).valueOf()\n            : this.event.date;\n        (this as any).catering_orders = this.event.catering?.map(\n            (order) =>\n                new CateringOrder({\n                    ...order,\n                    event: {\n                        ...this.event,\n                        date: date,\n                        date_end: addMinutes(\n                            date,\n                            this.event.duration\n                        ).valueOf(),\n                    },\n                })\n        );\n        (this as any).assets = this.event.assets?.map(\n            (_) => new AssetRequest({ ..._, event: this.event })\n        );\n        this._space =\n            (await this._space_pipe.transform(\n                this.event.resources[0]?.email\n            )) || this._space;\n        const changed_spaces =\n            !this._event_form.event ||\n            this.event.resources[0]?.id !== this._event_form.event?.space?.id;\n        const changed_times =\n            !this._event_form.event ||\n            this.event.date !== this._event_form.event.date ||\n            this.event.date_end !== this._event_form.event.date_end;\n        const event = this._event_form.form.value;\n        console.log('Changes:', changed_spaces, changed_times);\n        this._loading.next(true);\n        await validateAssetRequestsForResource(\n            this._event_form.event || {},\n            {\n                date: this.event.date,\n                duration: this.event.duration,\n                host: this.event.host,\n                all_day: this.event.all_day,\n                location_name:\n                    this._space?.display_name || this._space?.name || '',\n                location_id: this._space?.id || '',\n                zones: this._space?.level?.parent_id\n                    ? [this._space?.level?.parent_id]\n                    : [this._org.building?.id],\n                reset_state: changed_times,\n            },\n            event.assets,\n            changed_spaces || changed_times\n        ).catch((e) => notifyError(e));\n        this.timeout(\n            'update_assets',\n            () => {\n                (this as any).assets = event.assets?.map(\n                    (_) => new AssetRequest({ ..._, event })\n                );\n                this._event_form.form.patchValue({ assets: event.assets });\n            },\n            100\n        );\n        this.timeout('assets', () => console.log('Assets', event.assets));\n        this._loading.next(false);\n    }\n\n    public optionList(item: CateringItem) {\n        return item.option_list?.map((_) => _.name).join('\\n');\n    }\n}\n","import { Component, Input, Optional } from '@angular/core';\nimport { MatBottomSheetRef } from '@angular/material/bottom-sheet';\nimport { MatDialog } from '@angular/material/dialog';\nimport { CateringItem } from '@placeos/catering';\nimport {\n    AsyncHandler,\n    SettingsService,\n    notifyError,\n    openConfirmModal,\n} from '@placeos/common';\nimport {\n    CalendarEvent,\n    EventFormService,\n    formatRecurrence,\n} from '@placeos/events';\nimport { OrganisationService } from '@placeos/organisation';\nimport { SpacePipe } from 'libs/spaces/src/lib/space.pipe';\n\n@Component({\n    selector: 'meeting-flow-confirm',\n    template: `\n        <button\n            icon\n            matRipple\n            name=\"close-meeting-confirm\"\n            *ngIf=\"show_close\"\n            (click)=\"dismiss()\"\n        >\n            <app-icon>close</app-icon>\n        </button>\n        <header class=\"flex items-center justify-between px-2\">\n            <h2 i18n>Confirm Meeting booking</h2>\n            <mat-spinner diameter=\"32\" *ngIf=\"loading | async\"></mat-spinner>\n        </header>\n        <section period class=\"flex space-x-1 px-2\">\n            <app-icon class=\"text-success mt-1\">done</app-icon>\n            <div details class=\"leading-6\">\n                <h3>{{ event.title || 'Meeting Details' }}</h3>\n                <div class=\"flex items-center space-x-2\">\n                    <app-icon>today</app-icon>\n                    <div date>{{ event.date | date: 'fullDate' }}</div>\n                </div>\n                <div\n                    class=\"flex items-center space-x-2\"\n                    *ngIf=\"event.recurrence?.pattern\"\n                >\n                    <app-icon>update</app-icon>\n                    <div date>{{ formatted_recurrence }}</div>\n                </div>\n                <div class=\"flex items-center space-x-2\">\n                    <app-icon>schedule</app-icon>\n                    <div time>\n                        {{\n                            is_multiday\n                                ? (event.date | date: 'MMM d') +\n                                  (event.all_day\n                                      ? ''\n                                      : (event.date\n                                        | date: ', ' + time_format)) +\n                                  ' - ' +\n                                  (event.date_end | date: 'MMM d') +\n                                  (event.all_day\n                                      ? ''\n                                      : (event.date_end\n                                        | date: ', ' + time_format))\n                                : event.all_day\n                                ? 'All Day'\n                                : (event.date | date: time_format) +\n                                  ' - ' +\n                                  (event.date + event.duration * 60 * 1000\n                                      | date: time_format + ' (z)')\n                        }}\n                    </div>\n                </div>\n            </div>\n        </section>\n        <section\n            attendees\n            class=\"flex space-x-1 px-2\"\n            *ngIf=\"event.attendees.length\"\n        >\n            <app-icon class=\"text-success mt-1\">done</app-icon>\n            <div details class=\"leading-6\">\n                <h3 i18n>\n                    {{ event.attendees.length }} { event.attendees.length,\n                    plural, =1 { attendee } other { attendees } }\n                </h3>\n                <div attendee-list>\n                    <mat-chip-list #chipList aria-label=\"User selection\">\n                        <mat-chip *ngFor=\"let user of event.attendees\">\n                            <div class=\"flex items-center\">\n                                <app-icon class=\"mr-2\">business</app-icon>\n                                {{ user.name || user.email }}\n                            </div>\n                        </mat-chip>\n                    </mat-chip-list>\n                </div>\n            </div>\n        </section>\n        <section spaces class=\"flex space-x-1 px-2\" *ngIf=\"space?.id\">\n            <app-icon class=\"text-success mt-1\">done</app-icon>\n            <div details class=\"leading-6\">\n                <h3 i18n>Booked Room</h3>\n                <ng-container *ngFor=\"let s of event.resources\">\n                    <div class=\"flex items-center space-x-2\">\n                        <app-icon>meeting_room</app-icon>\n                        <div>\n                            {{ level?.display_name || level?.name }},\n                            {{ s.display_name || s.name }}\n                        </div>\n                    </div>\n                </ng-container>\n                <div class=\"flex items-center space-x-2\">\n                    <app-icon>place</app-icon>\n                    <div>{{ location }}</div>\n                </div>\n            </div>\n        </section>\n        <footer class=\"p-2 w-full border-t border-base-200 mt-4\">\n            <button\n                btn\n                name=\"confirm-meeting\"\n                matRipple\n                class=\"w-full\"\n                *ngIf=\"!(loading | async)\"\n                (click)=\"postForm()\"\n                i18n\n            >\n                Confirm\n            </button>\n            <!-- <button\n                btn\n                matRipple\n                class=\"inverse w-full\"\n                *ngIf=\"loading | async\"\n                (click)=\"cancelPost()\"\n                i18n\n            >\n                Undo\n            </button> -->\n        </footer>\n    `,\n    styles: [\n        `\n            section > app-icon {\n                font-size: 1.5rem;\n            }\n\n            h2 {\n                font-size: 1.5rem;\n                font-weight: medium;\n                margin-bottom: 0.5rem;\n            }\n\n            h3 {\n                font-size: 1.25rem;\n                font-weight: medium;\n                margin: 0.5rem 0;\n            }\n        `,\n    ],\n    providers: [SpacePipe],\n})\nexport class MeetingFlowConfirmComponent extends AsyncHandler {\n    @Input() public show_close: boolean = false;\n\n    public readonly loading = this._event_form.loading;\n\n    public readonly postForm = async () => {\n        if (!this.space) {\n            const result = await openConfirmModal(\n                {\n                    title: 'Make Booking without a Room',\n                    content:\n                        'You are creating a booking without a room, are you sure?',\n                    icon: { content: 'event_available' },\n                },\n                this._dialog\n            );\n            if (result.reason !== 'done') return;\n        }\n        await this._event_form.postForm().catch((_) => {\n            notifyError(_);\n            throw _;\n        });\n        this.dismiss(true);\n    };\n    public readonly cancelPost = () => this._event_form.cancelPostForm();\n    public readonly dismiss = (e?) => this._sheet_ref?.dismiss(e);\n\n    private _space = this.event.resources[0];\n\n    public get is_multiday() {\n        return this.event.duration > 24 * 60;\n    }\n\n    public get time_format() {\n        return this._settings.time_format;\n    }\n\n    public get formatted_recurrence() {\n        return formatRecurrence({\n            ...this.event.recurrence,\n            start: this.event.date || this.event.recurrence.start,\n        });\n    }\n\n    public get event(): CalendarEvent {\n        return this._event_form.form.getRawValue() as any;\n    }\n\n    public get space() {\n        return this._space;\n    }\n\n    public get level() {\n        return this._org.levelWithID(this.space.zones);\n    }\n\n    public get location() {\n        const building = this._org.buildings.find((_) =>\n            this.space.zones.includes(_.id)\n        );\n        return building?.address || building?.display_name || building?.name;\n    }\n\n    constructor(\n        @Optional() private _sheet_ref: MatBottomSheetRef,\n        private _event_form: EventFormService,\n        private _org: OrganisationService,\n        private _space_pipe: SpacePipe,\n        private _dialog: MatDialog,\n        private _settings: SettingsService\n    ) {\n        super();\n    }\n\n    public async ngOnInit() {\n        this._space =\n            (await this._space_pipe.transform(this.event.resources[0].email)) ||\n            this._space;\n    }\n\n    public optionList(item: CateringItem) {\n        return item.option_list?.map((_) => _.name).join('\\n');\n    }\n}\n","import { Component, ElementRef, TemplateRef, ViewChild } from '@angular/core';\nimport {\n    MatBottomSheet,\n    MatBottomSheetRef,\n} from '@angular/material/bottom-sheet';\nimport { MatDialog, MatDialogRef } from '@angular/material/dialog';\nimport { Router } from '@angular/router';\nimport {\n    ANIMATION_SHOW_CONTRACT_EXPAND,\n    AsyncHandler,\n    currentUser,\n    getInvalidFields,\n    notifyError,\n    notifyWarn,\n    openConfirmModal,\n    SettingsService,\n    UserIdleTimeService,\n} from '@placeos/common';\nimport { EventFormService } from '@placeos/events';\nimport { OrganisationService } from '@placeos/organisation';\nimport { Space } from '@placeos/spaces';\nimport { FindAvailabilityModalComponent } from '@placeos/users';\nimport { CateringOrderStateService } from 'libs/catering/src/lib/catering-order-modal/catering-order-state.service';\nimport { BehaviorSubject, combineLatest, forkJoin, of, timer } from 'rxjs';\nimport {\n    debounceTime,\n    first,\n    map,\n    startWith,\n    switchMap,\n    take,\n    tap,\n} from 'rxjs/operators';\nimport { MeetingFlowConfirmModalComponent } from './meeting-flow-confirm-modal.component';\nimport { MeetingFlowConfirmComponent } from './meeting-flow-confirm.component';\nimport { AssetStateService } from 'libs/assets/src/lib/asset-state.service';\n\n@Component({\n    selector: 'meeting-flow-form',\n    template: `\n        <div class=\"h-full w-full bg-base-200 overflow-auto\">\n            <div\n                class=\"max-w-full w-[48rem] mx-auto sm:my-4 bg-base-100 border border-base-300\"\n            >\n                <h2\n                    class=\"w-full p-4 sm:py-4 sm:px-16 text-2xl font-medium border-b border-base-300\"\n                >\n                    {{ !!form.value.id ? 'Edit' : 'Book' }}\n                    {{ 'WPA.BOOK_MEETING_HEADING' | translate }}\n                </h2>\n                <form\n                    class=\"p-0 sm:py-4 sm:px-16 divide-y divide-base-200 space-y-2\"\n                    [formGroup]=\"form\"\n                    *ngIf=\"form\"\n                >\n                    <section class=\"p-2\">\n                        <h3 class=\"space-x-2 flex items-center\">\n                            <div\n                                class=\"bg-base-200 rounded-full h-6 w-6 flex items-center justify-center\"\n                            >\n                                1\n                            </div>\n                            <div class=\"text-xl\">\n                                {{ 'WPA.DETAILS' | translate }}\n                            </div>\n                            <div class=\"flex-1 w-px\"></div>\n                            <button\n                                icon\n                                name=\"toggle-details-meeting\"\n                                matRipple\n                                (click)=\"\n                                    hide_block.details = !hide_block.details\n                                \"\n                            >\n                                <app-icon>{{\n                                    hide_block.details\n                                        ? 'expand_more'\n                                        : 'expand_less'\n                                }}</app-icon>\n                            </button>\n                        </h3>\n                        <div\n                            class=\"overflow-hidden\"\n                            [@show]=\"hide_block.details ? 'hide' : 'show'\"\n                        >\n                            <meeting-form-details\n                                class=\"mt-4\"\n                                [form]=\"form\"\n                            ></meeting-form-details>\n                        </div>\n                    </section>\n                    <section class=\"p-2\" *ngIf=\"!hide_attendees\">\n                        <h3 class=\"space-x-2 flex items-center\">\n                            <div\n                                class=\"bg-base-200 rounded-full h-6 w-6 flex items-center justify-center\"\n                            >\n                                2\n                            </div>\n                            <div class=\"text-xl\">\n                                {{ 'FORM.ATTENDEES' | translate }}\n                            </div>\n                            <div class=\"flex-1 w-px\"></div>\n                            <button\n                                matRipple\n                                name=\"find-attendee-availability\"\n                                class=\"bg-none underline text-xs text-info\"\n                                (click)=\"findAvailableTime()\"\n                            >\n                                {{ 'WPA.AVAILABILITY' | translate }}\n                            </button>\n                            <button\n                                icon\n                                name=\"toggle-attendees-meeting\"\n                                matRipple\n                                (click)=\"\n                                    hide_block.attendees = !hide_block.attendees\n                                \"\n                            >\n                                <app-icon>{{\n                                    hide_block.attendees\n                                        ? 'expand_more'\n                                        : 'expand_less'\n                                }}</app-icon>\n                            </button>\n                        </h3>\n                        <div\n                            class=\"overflow-hidden\"\n                            [@show]=\"hide_block.attendees ? 'hide' : 'show'\"\n                        >\n                            <a-user-list-field\n                                class=\"mt-4\"\n                                formControlName=\"attendees\"\n                                [time]=\"form.value.date\"\n                                [guests]=\"allow_externals\"\n                            ></a-user-list-field>\n                        </div>\n                    </section>\n                    <section class=\"p-2\">\n                        <h3 class=\"space-x-2 flex items-center\">\n                            <div\n                                class=\"bg-base-200 rounded-full h-6 w-6 flex items-center justify-center\"\n                            >\n                                3\n                            </div>\n                            <div class=\"text-xl\">\n                                {{ 'WPA.ROOM' | translate }}\n                            </div>\n                            <div class=\"flex-1 w-px\"></div>\n                            <button\n                                icon\n                                name=\"toggle-spaces-meeting\"\n                                matRipple\n                                (click)=\"\n                                    hide_block.resources = !hide_block.resources\n                                \"\n                            >\n                                <app-icon>{{\n                                    hide_block.resources\n                                        ? 'expand_more'\n                                        : 'expand_less'\n                                }}</app-icon>\n                            </button>\n                        </h3>\n                        <div\n                            class=\"overflow-hidden flex flex-col items-center\"\n                            [@show]=\"hide_block.resources ? 'hide' : 'show'\"\n                        >\n                            <div\n                                *ngIf=\"\n                                    !strict_capacity_check &&\n                                    total_capacity &&\n                                    total_capacity <=\n                                        form.value.attendees?.length\n                                \"\n                                class=\"bg-warning text-warning-content rounded shadow p-2 text-xs mx-auto my-2 inline-flex\"\n                            >\n                                The selected room has less capacity than the\n                                number of meeting attendees.\n                            </div>\n                            <space-list-field\n                                class=\"w-full\"\n                                formControlName=\"resources\"\n                                [multiday]=\"allow_multiday\"\n                            ></space-list-field>\n                        </div>\n                    </section>\n                    <section class=\"p-2\" *ngIf=\"has_catering | async\">\n                        <h3 class=\"space-x-2 flex items-center\">\n                            <div\n                                class=\"bg-base-200 rounded-full h-6 w-6 flex items-center justify-center\"\n                            >\n                                4\n                            </div>\n                            <div class=\"text-xl\">\n                                {{ 'WPA.CATERING' | translate }}\n                            </div>\n                            <div class=\"flex-1 w-px\"></div>\n                            <button\n                                icon\n                                name=\"toggle-catering-meeting\"\n                                matRipple\n                                (click)=\"\n                                    hide_block.catering = !hide_block.catering\n                                \"\n                            >\n                                <app-icon>{{\n                                    hide_block.catering\n                                        ? 'expand_more'\n                                        : 'expand_less'\n                                }}</app-icon>\n                            </button>\n                        </h3>\n                        <div\n                            class=\"overflow-hidden\"\n                            [@show]=\"hide_block.catering ? 'hide' : 'show'\"\n                        >\n                            <catering-list-field\n                                formControlName=\"catering\"\n                                [options]=\"{\n                                    date: form.getRawValue().date,\n                                    duration: form.value.duration,\n                                    all_day: form.value.all_day,\n                                    zone_id: form.value?.resources?.length\n                                        ? form.value?.resources[0]?.level\n                                              ?.parent_id\n                                        : ''\n                                }\"\n                            ></catering-list-field>\n                            <mat-form-field\n                                appearance=\"outline\"\n                                class=\"w-full mt-2\"\n                                *ngIf=\"\n                                    form.value.catering?.length && has_codes\n                                        | async\n                                \"\n                                (openedChange)=\"focusInput()\"\n                            >\n                                <mat-select\n                                    formControlName=\"catering_charge_code\"\n                                    placeholder=\"Charge Code\"\n                                >\n                                    <input\n                                        #input\n                                        class=\"sticky top-0 bg-base-100 px-4 py-3 text-base border-x-0 border-t-0 border-b focus:border-b border-base-200 w-full rounded-none z-50\"\n                                        [ngModel]=\"code_filter.getValue()\"\n                                        (ngModelChange)=\"\n                                            code_filter.next($event)\n                                        \"\n                                        [ngModelOptions]=\"{ standalone: true }\"\n                                        placeholder=\"Search charge codes...\"\n                                    />\n                                    <mat-option class=\"hidden\"></mat-option>\n                                    <mat-option\n                                        *ngFor=\"\n                                            let code of filtered_codes | async\n                                        \"\n                                        [value]=\"code\"\n                                    >\n                                        {{ code }}\n                                    </mat-option>\n                                </mat-select>\n                                <mat-error>\n                                    Catering charge code is required\n                                </mat-error>\n                            </mat-form-field>\n                            <mat-form-field\n                                appearance=\"outline\"\n                                class=\"w-full\"\n                                [class.mt-2]=\"\n                                    !(\n                                        form.value.catering?.length && has_codes\n                                        | async\n                                    )\n                                \"\n                                *ngIf=\"form.value.catering?.length\"\n                            >\n                                <textarea\n                                    matInput\n                                    formControlName=\"catering_notes\"\n                                    placeholder=\"Extra catering details...\"\n                                ></textarea>\n                                <mat-error>\n                                    Catering Order notes are required\n                                </mat-error>\n                            </mat-form-field>\n                        </div>\n                    </section>\n                    <section class=\"p-2\" *ngIf=\"has_assets\">\n                        <h3 class=\"space-x-2 flex items-center\">\n                            <div\n                                class=\"bg-base-200 rounded-full h-6 w-6 flex items-center justify-center\"\n                            >\n                                {{ !(has_catering | async) ? '4' : '5' }}\n                            </div>\n                            <div class=\"text-xl\">\n                                {{ 'WPA.ASSETS' | translate }}\n                            </div>\n                            <div class=\"flex-1 w-px\"></div>\n                            <button\n                                icon\n                                name=\"toggle-assets-meeting\"\n                                matRipple\n                                (click)=\"hide_block.assets = !hide_block.assets\"\n                            >\n                                <app-icon>{{\n                                    hide_block.assets\n                                        ? 'expand_more'\n                                        : 'expand_less'\n                                }}</app-icon>\n                            </button>\n                        </h3>\n                        <div\n                            class=\"overflow-hidden\"\n                            [@show]=\"hide_block.assets ? 'hide' : 'show'\"\n                        >\n                            <asset-list-field\n                                [options]=\"{\n                                    date: form.getRawValue().date,\n                                    duration: form.value.duration,\n                                    all_day: form.value.all_day,\n                                    zone_id: form.value?.resources?.length\n                                        ? form.value?.resources[0]?.level\n                                              ?.parent_id\n                                        : ''\n                                }\"\n                                [rejected_ids]=\"invalid_assets\"\n                                formControlName=\"assets\"\n                            ></asset-list-field>\n                        </div>\n                    </section>\n                    <section class=\"p-2\" *ngIf=\"!hide_notes\">\n                        <h3 class=\"space-x-2 flex items-center mb-4\">\n                            <div\n                                class=\"bg-base-200 rounded-full h-6 w-6 flex items-center justify-center\"\n                            >\n                                {{\n                                    !(has_catering | async) || !has_assets\n                                        ? !(has_catering | async) && !has_assets\n                                            ? '4'\n                                            : '5'\n                                        : '6'\n                                }}\n                            </div>\n                            <div class=\"text-xl\">\n                                {{ 'FORM.NOTES' | translate }}\n                            </div>\n                        </h3>\n                        <div class=\"w-full flex flex-col\">\n                            <label for=\"notes\">\n                                {{ 'WPA.NOTES_INFO' | translate }}\n                            </label>\n                            <rich-text-input\n                                name=\"notes\"\n                                formControlName=\"body\"\n                                placeholder=\"Notes...\"\n                            ></rich-text-input>\n                        </div>\n                    </section>\n                    <section\n                        class=\"flex flex-col sm:flex-row items-center sm:space-x-2 p-2\"\n                    >\n                        <button\n                            btn\n                            name=\"open-meeting-confirm\"\n                            matRipple\n                            confirm\n                            class=\"mb-2 sm:mb-0 w-full sm:w-auto\"\n                            (click)=\"viewConfirm()\"\n                        >\n                            {{ 'WPA.CONFIRM_MEETING' | translate }}\n                        </button>\n                        <button\n                            btn\n                            name=\"clear-form-meeting\"\n                            matRipple\n                            clear-form\n                            class=\"inverse w-full sm:w-auto\"\n                            (click)=\"clearForm()\"\n                        >\n                            { !!form.value.id, select, true { Reset } false {\n                            Clear } } {{ 'WPA.CLEAR_FORM' | translate }}\n                        </button>\n                    </section>\n                </form>\n            </div>\n        </div>\n    `,\n    styles: [],\n    animations: [ANIMATION_SHOW_CONTRACT_EXPAND],\n})\nexport class MeetingFlowFormComponent extends AsyncHandler {\n    public sheet_ref: MatBottomSheetRef<any>;\n    public dialog_ref: MatDialogRef<any>;\n    public hide_block: Record<string, boolean> = {};\n    public code_filter = new BehaviorSubject('');\n    public invalid_assets: string[] = [];\n\n    public readonly has_catering = this._catering.available_menu.pipe(\n        map((l) => l.length > 0)\n    );\n\n    public readonly has_codes = this._catering.charge_codes.pipe(\n        map((l) => l.length > 0),\n        tap((has_codes) => {\n            if (!has_codes) {\n                this.form.get('catering_charge_code').setValidators([]);\n                this.form.updateValueAndValidity();\n            }\n        })\n    );\n\n    public readonly filtered_codes = combineLatest([\n        this.code_filter,\n        this._catering.charge_codes,\n    ]).pipe(\n        map(([s, l]) =>\n            l.filter((_) => _.toLowerCase().includes(s.toLowerCase()))\n        )\n    );\n\n    public get form() {\n        return this._state.form;\n    }\n\n    public get event() {\n        return this._state.event;\n    }\n\n    public get has_assets() {\n        return !!this._settings.get('app.events.has_assets');\n    }\n\n    public get hide_notes() {\n        return !!this._settings.get('app.events.hide_notes');\n    }\n\n    public get hide_attendees() {\n        return !!this._settings.get('app.events.hide_attendees');\n    }\n\n    public get allow_externals() {\n        return this._settings.get('app.events.allow_externals');\n    }\n\n    public get strict_capacity_check() {\n        return this._settings.get('app.events.strict_capacity_check');\n    }\n\n    public get total_capacity() {\n        return (\n            this.form.value.resources?.reduce((c, i) => c + i.capacity, 0) || 0\n        );\n    }\n\n    public get allow_multiday() {\n        return (\n            this._settings.get('app.events.allow_multiday') ||\n            this._state.is_multiday\n        );\n    }\n\n    public get attendee_count() {\n        const user = currentUser();\n        let count = this.form.value.attendees?.length || 0;\n        if (\n            !this.form.value.attendees.find(\n                (_) => _.email.toLowerCase() === user.email.toLowerCase()\n            )\n        ) {\n            count += 1;\n        }\n        return count;\n    }\n\n    private _space_list = new BehaviorSubject<Space[]>([]);\n\n    private _assets_available = this._space_list.pipe(\n        debounceTime(300),\n        switchMap((space_list) => {\n            if (!space_list?.length) return of(false);\n            const value = this.form.getRawValue();\n            this._assets.setOptions({\n                date: value.date,\n                duration: value.duration,\n                resources: space_list,\n                zone_id: this._org.levelWithID(space_list[0].zones)?.parent_id,\n                tags: [],\n                categories: [],\n            } as any);\n            return combineLatest([\n                this._assets.filtered_assets,\n                this._assets.disabled_rooms,\n            ]).pipe(\n                map(([items, disabled_rooms]) => {\n                    const assets_available = space_list.every(\n                        (s) =>\n                            items.filter(\n                                (_) =>\n                                    !(_ as any).hide_for_zones?.find((z) =>\n                                        s.zones.includes(z)\n                                    )\n                            ).length > 0\n                    );\n                    if (\n                        assets_available &&\n                        !disabled_rooms.find((_) =>\n                            space_list.find((i) => i.id === _)\n                        )\n                    )\n                        return true;\n                    const event = this._state.event;\n                    const { id, assets, date, date_end } =\n                        this.form.getRawValue();\n                    const time_changed =\n                        !id ||\n                        (assets?.length &&\n                            (date !== event.date ||\n                                date_end !== event.date_end));\n                    if (time_changed) {\n                        this.form.patchValue({ assets: [] });\n                        notifyWarn(\n                            `Assets are unavailable for some of the selected spaces.`\n                        );\n                    }\n                    return false;\n                })\n            );\n        })\n    );\n\n    private _catering_available = this._space_list.pipe(\n        debounceTime(300),\n        switchMap((space_list) => {\n            if (!space_list?.length) return of(false);\n            const value = this.form.getRawValue();\n            this._catering.setFilters({\n                search: '',\n                date: value.date,\n                duration: value.duration,\n                resources: space_list,\n                zone_id: this._org.levelWithID(space_list[0].zones)?.parent_id,\n                tags: [],\n                categories: [],\n            });\n            return combineLatest([\n                this._catering.filtered_menu,\n                this._catering.availability,\n            ]).pipe(\n                map(([menu, disabled_rooms]) => {\n                    const can_cater = space_list.every(\n                        (s) =>\n                            menu.filter(\n                                (_) =>\n                                    !_.hide_for_zones.find((z) =>\n                                        s.zones.includes(z)\n                                    )\n                            ).length > 0\n                    );\n                    if (\n                        can_cater &&\n                        !disabled_rooms.find((_) =>\n                            space_list.find((i) => i.id === _)\n                        )\n                    )\n                        return true;\n                    const event = this._state.event;\n                    const { id, catering, date, date_end } =\n                        this.form.getRawValue();\n                    const time_changed =\n                        !id ||\n                        (catering?.length &&\n                            (date !== event.date ||\n                                date_end !== event.date_end));\n                    if (time_changed) {\n                        this.form.patchValue({ catering: [] });\n                        notifyWarn(\n                            `Catering is unavailable for some of the selected spaces.`\n                        );\n                    }\n                    return false;\n                })\n            );\n        })\n    );\n\n    public readonly clearForm = () => this._state.resetForm();\n\n    public readonly viewConfirm = () => {\n        if (!this.form.value.host)\n            this.form.patchValue({ host: currentUser()?.email });\n        if (\n            this.strict_capacity_check &&\n            this.attendee_count > this.total_capacity\n        ) {\n            return notifyError(\n                'Attendee count is greater than the capacity of the selected rooms'\n            );\n        }\n        this.form.markAllAsTouched();\n        if (!this.form.valid)\n            return notifyError(\n                `Some fields are invalid. [${getInvalidFields(this.form).join(\n                    ', '\n                )}]`\n            );\n        if (\n            this._settings.get('app.events.no_standalone') &&\n            !this.form.value.resources.length\n        )\n            return notifyError('You need to select a room to make a booking');\n        if (this._settings.get('app.events.booking_unavailable'))\n            return this._state.openEventLinkModal();\n        if (window.innerWidth >= 768) {\n            this.dialog_ref = this._dialog.open(\n                MeetingFlowConfirmModalComponent\n            );\n            this.dialog_ref.componentInstance.show_close = true;\n            this.dialog_ref.afterClosed().subscribe((value) => {\n                if (value) {\n                    this.unsubWith('idle');\n                    this._router.navigate(['/book', 'meeting', 'success']);\n                    this._state.setView('success');\n                }\n            });\n        } else {\n            this.sheet_ref = this._bottom_sheet.open(\n                MeetingFlowConfirmComponent\n            );\n            this.sheet_ref.instance.show_close = true;\n            this.sheet_ref.afterDismissed().subscribe((value) => {\n                if (value) {\n                    this.unsubWith('idle');\n                    this._router.navigate(['/book', 'meeting', 'success']);\n                    this._state.setView('success');\n                }\n            });\n        }\n    };\n\n    @ViewChild('confirm_ref') private _confirm_ref: TemplateRef<any>;\n    @ViewChild('input') private _input_el: ElementRef<HTMLInputElement>;\n\n    constructor(\n        private _state: EventFormService,\n        private _catering: CateringOrderStateService,\n        private _assets: AssetStateService,\n        private _settings: SettingsService,\n        private _router: Router,\n        private _dialog: MatDialog,\n        private _bottom_sheet: MatBottomSheet,\n        private _org: OrganisationService,\n        private _idle: UserIdleTimeService\n    ) {\n        super();\n    }\n\n    private _updateValidAssets() {\n        this.invalid_assets = [];\n        if (!this.event?.id) return;\n        const requested_assets = this.form.value.assets || [];\n        const linked_bookings = this.event?.linked_bookings || [];\n        this.invalid_assets = requested_assets\n            .filter(\n                (_) =>\n                    !_._changed &&\n                    !linked_bookings.find(\n                        (bkn) => bkn.extension_data?.request_id === _.id\n                    )\n            )\n            .map((_) => _.id);\n    }\n\n    public async ngOnInit() {\n        await this._org.initialised.pipe(first((_) => _)).toPromise();\n        this.subscription(\n            'asset_changes',\n            this.form.controls.assets.valueChanges.subscribe(() =>\n                this._updateValidAssets()\n            )\n        );\n        for (const key of ['resources', 'date', 'duration', 'date_end']) {\n            this.subscription(\n                `${key}_changes`,\n                this.form.controls[key].valueChanges.subscribe(() =>\n                    this.timeout('check_resources', () =>\n                        this._space_list.next(this.form.value.resources || [])\n                    )\n                )\n            );\n        }\n        this._catering.setOptions({ zone: '' });\n        this._space_list.next(this.form.value.resources || []);\n        this.subscription(\n            'assets_available',\n            this._assets_available.subscribe((a) => {\n                if (!a) this.form.controls.assets.disable();\n                else this.form.controls.assets.enable();\n            })\n        );\n        this.subscription(\n            'catering_available',\n            this._catering_available.subscribe((a) => {\n                if (!a) this.form.controls.catering.disable();\n                else this.form.controls.catering.enable();\n            })\n        );\n        this.subscription(\n            'idle-listen',\n            this._idle\n                .idleFor(\n                    (this._settings.get('app.idle_timeout') || 5) * 60 * 1000\n                )\n                .subscribe(async () => {\n                    this.unsub('idle');\n                    await openConfirmModal(\n                        {\n                            title: 'Idle Timeout',\n                            content: 'Your form data is out of date',\n                            icon: { content: 'update' },\n                            confirm_text: 'Refresh',\n                        },\n                        this._dialog\n                    );\n                    this._state.newForm();\n                    location.reload();\n                })\n        );\n        this.timeout(\n            'init_valid_assets',\n            () => this._updateValidAssets(),\n            1000\n        );\n    }\n\n    public focusInput() {\n        this.timeout(\n            'input-focus',\n            () => {\n                this._input_el.nativeElement.value = '';\n                this._input_el?.nativeElement?.focus();\n            },\n            300\n        );\n    }\n\n    public findAvailableTime() {\n        const { attendees, organiser, date, duration } = this.form.value;\n        const ref = this._dialog.open(FindAvailabilityModalComponent, {\n            data: {\n                users: attendees,\n                host: organiser || currentUser(),\n                date,\n                duration,\n            },\n        });\n        ref.afterClosed().subscribe((d) => {\n            if (!d) return;\n            this.form.patchValue({\n                date: ref.componentInstance.date,\n                attendees: ref.componentInstance.users.getValue(),\n                duration: ref.componentInstance.duration,\n            });\n        });\n    }\n}\n","import { Component } from '@angular/core';\nimport { SettingsService } from '@placeos/common';\nimport { EventFormService } from '@placeos/events';\nimport { OrganisationService } from '@placeos/organisation';\n\n@Component({\n    selector: 'meeting-flow-success',\n    template: `\n        <div\n            class=\"absolute inset-0 bg-base-100 flex flex-col z-50 overflow-auto\"\n        >\n            <main\n                class=\"flex-1 flex flex-col items-center justify-center space-y-2 p-8\"\n            >\n                <h2 class=\"text-2xl font-medium\">\n                    {{ 'WPA.BOOKING_CONFIRMED' | translate }}\n                </h2>\n                <img src=\"assets/icons/success.svg\" />\n                <p class=\"text-center max-w-[32rem]\" i18n>\n                    Your\n                    <span *ngIf=\"space\">\n                        room booking for\n                        {{ level?.display_name || level?.name\n                        }}<span *ngIf=\"level\">,</span>\n                        {{ space?.display_name || space?.name }}\n                    </span>\n                    <span *ngIf=\"!space\">meeting</span> has been successfully\n                    booked for {{ last_event.date | date: 'mediumDate'\n                    }}<span *ngIf=\"!last_event?.all_day\">\n                        at {{ last_event.date | date: time_format }}-{{\n                            last_event.date + last_event.duration * 60 * 1000\n                                | date: time_format\n                        }}</span\n                    >.\n                </p>\n                <p *ngIf=\"true\">\n                    Please allow up to 5 minutes for you booking to be approved.\n                </p>\n            </main>\n            <footer\n                class=\"sticky bottom-0 bg-base-100 p-2 w-full border-t border-base-200 mt-4 flex items-center justify-center\"\n            >\n                <a\n                    btn\n                    name=\"meeting-created-continue\"\n                    matRipple\n                    class=\"w-full max-w-[32rem]\"\n                    [routerLink]=\"['/']\"\n                >\n                    {{ 'WPA.BOOKING_DONE_CONTINUE' | translate }}\n                </a>\n            </footer>\n        </div>\n    `,\n    styles: [``],\n})\nexport class MeetingFlowSuccessComponent {\n    public get last_event() {\n        return this._event_form.last_success;\n    }\n\n    public get space() {\n        return this.last_event.space;\n    }\n\n    public get level() {\n        return this._org.levelWithID(this.space?.zones);\n    }\n\n    public get time_format() {\n        return this._settings.time_format;\n    }\n\n    constructor(\n        private _event_form: EventFormService,\n        private _org: OrganisationService,\n        private _settings: SettingsService\n    ) {}\n}\n","import { Component, Input } from '@angular/core';\nimport { FormGroup } from '@angular/forms';\nimport { SettingsService } from '@placeos/common';\nimport { EventFormService } from '@placeos/events';\nimport {\n    addDays,\n    addMinutes,\n    differenceInMinutes,\n    endOfDay,\n    format,\n    formatDuration,\n    set,\n    startOfDay,\n} from 'date-fns';\n\n@Component({\n    selector: 'meeting-form-details',\n    template: `\n        <div *ngIf=\"form\" [formGroup]=\"form\">\n            <div class=\"flex items-center flex-wrap sm:space-x-2\">\n                <div class=\"flex-1 min-w-[256px]\">\n                    <label for=\"title\">{{ 'FORM.TITLE' | translate }}</label>\n                    <mat-form-field appearance=\"outline\" class=\"w-full\">\n                        <input\n                            matInput\n                            name=\"title\"\n                            formControlName=\"title\"\n                            placeholder=\"e.g. Team Meeting\"\n                        />\n                        <mat-error>{{\n                            'FORM.TITLE_ERROR' | translate\n                        }}</mat-error>\n                    </mat-form-field>\n                </div>\n                <div\n                    class=\"flex-1 min-w-[256px] relative\"\n                    *ngIf=\"!allow_multiday\"\n                >\n                    <label for=\"date\">\n                        {{ 'FORM.DATE' | translate }}<span>*</span>\n                    </label>\n                    <a-date-field\n                        name=\"date\"\n                        formControlName=\"date\"\n                        [to]=\"end_date\"\n                    >\n                        {{ 'FORM.DATE_ERROR' | translate }}\n                    </a-date-field>\n                    <mat-checkbox\n                        formControlName=\"all_day\"\n                        *ngIf=\"allow_all_day\"\n                        class=\"absolute -top-2 right-2\"\n                    >\n                        {{ 'FORM.ALL_DAY' | translate }}\n                    </mat-checkbox>\n                </div>\n            </div>\n            <div\n                class=\"flex items-center flex-wrap sm:space-x-2\"\n                *ngIf=\"allow_multiday\"\n            >\n                <div class=\"flex-1 min-w-[256px] relative\">\n                    <label for=\"date\">\n                        {{ 'FORM.DATE' | translate }}<span>*</span>\n                    </label>\n                    <a-date-field\n                        name=\"date\"\n                        formControlName=\"date\"\n                        [to]=\"end_date\"\n                    >\n                        {{ 'FORM.DATE_ERROR' | translate }}\n                    </a-date-field>\n                    <mat-checkbox\n                        formControlName=\"all_day\"\n                        *ngIf=\"allow_all_day\"\n                        class=\"absolute -top-2 right-2\"\n                    >\n                        {{ 'FORM.ALL_DAY' | translate }}\n                    </mat-checkbox>\n                </div>\n                <div class=\"flex-1 min-w-[256px] relative\">\n                    <label for=\"date\">\n                        {{ 'FORM.END_DATE' | translate }}<span>*</span>\n                    </label>\n                    <a-date-field\n                        name=\"date\"\n                        formControlName=\"date_end\"\n                        [from]=\"start_date\"\n                        [to]=\"end_date\"\n                    >\n                        {{ 'FORM.DATE_ERROR' | translate }}\n                    </a-date-field>\n                </div>\n            </div>\n            <div\n                class=\"flex items-center space-x-2\"\n                *ngIf=\"!form.value.all_day\"\n            >\n                <div class=\"flex-1 w-1/3\">\n                    <label for=\"start-time\">\n                        {{ 'FORM.START_TIME' | translate }}\n                        <span>*</span>\n                    </label>\n                    <a-time-field\n                        name=\"start-time\"\n                        [ngModel]=\"form.getRawValue().date\"\n                        (ngModelChange)=\"form.patchValue({ date: $event })\"\n                        [ngModelOptions]=\"{ standalone: true }\"\n                        [use_24hr]=\"use_24hr\"\n                    ></a-time-field>\n                </div>\n                <div class=\"flex-1 w-1/3\" *ngIf=\"allow_multiday\">\n                    <label for=\"end-time\">\n                        {{ 'FORM.END_TIME' | translate }}<span>*</span>\n                    </label>\n                    <a-time-field\n                        name=\"end-time\"\n                        [ngModel]=\"form.value.date_end\"\n                        (ngModelChange)=\"form.patchValue({ date_end: $event })\"\n                        [ngModelOptions]=\"{ standalone: true }\"\n                        [from]=\"form?.getRawValue()?.date + 30 * 60 * 1000\"\n                        [use_24hr]=\"use_24hr\"\n                        [extra_info_fn]=\"duration_info\"\n                    ></a-time-field>\n                </div>\n                <div class=\"flex-1 w-1/3\" *ngIf=\"!allow_multiday\">\n                    <label for=\"end-time\">\n                        {{ 'FORM.END_TIME' | translate }}<span>*</span>\n                    </label>\n                    <a-duration-field\n                        name=\"end-time\"\n                        formControlName=\"duration\"\n                        [time]=\"form?.getRawValue()?.date\"\n                        [max]=\"max_duration\"\n                        [use_24hr]=\"use_24hr\"\n                    ></a-duration-field>\n                </div>\n            </div>\n            <div *ngIf=\"can_book_for_others\" class=\"w-full flex flex-col\">\n                <label for=\"host\">\n                    {{ 'FORM.HOST' | translate }}<span>*</span>\n                </label>\n                <host-select-field\n                    name=\"host\"\n                    formControlName=\"organiser\"\n                ></host-select-field>\n            </div>\n            <div *ngIf=\"allow_recurrence\" class=\"w-full flex flex-col\">\n                <label for=\"recurrence\">\n                    {{ 'FORM.RECURRENCE' | translate }}<span>*</span>\n                </label>\n                <recurrence-field\n                    name=\"recurrence\"\n                    [date]=\"form.getRawValue().date\"\n                    formControlName=\"recurrence\"\n                ></recurrence-field>\n                <mat-checkbox\n                    *ngIf=\"form.value.id\"\n                    formControlName=\"update_master\"\n                >\n                    Update all future events\n                </mat-checkbox>\n            </div>\n        </div>\n    `,\n    styles: [],\n})\nexport class MeetingFormDetailsComponent {\n    @Input() public form: FormGroup;\n\n    public readonly force_time = set(Date.now(), {\n        hours: 6,\n        minutes: 0,\n    }).valueOf();\n\n    public get max_duration() {\n        return this._settings.get('app.events.max_duration') || 480;\n    }\n\n    public get can_book_for_others() {\n        return this._settings.get('app.events.can_book_for_others');\n    }\n\n    public get allow_all_day() {\n        return this._settings.get('app.events.allow_all_day');\n    }\n\n    public get allow_recurrence() {\n        return (\n            this._settings.get('app.events.allow_recurrence') &&\n            this.form.value.duration <= 24 * 60\n        );\n    }\n\n    public get allow_multiday() {\n        return (\n            this._settings.get('app.events.allow_multiday') ||\n            this._event_form.is_multiday\n        );\n    }\n\n    public get start_date() {\n        const date = this.form.getRawValue().date;\n        const date_end = this.form.getRawValue().date_end;\n        const is_next_day =\n            format(date, 'yyyy-MM-dd') !== format(date_end, 'yyyy-MM-dd');\n        return is_next_day\n            ? startOfDay(date).valueOf()\n            : addMinutes(date, 30).valueOf();\n    }\n\n    public get end_date() {\n        return endOfDay(\n            addDays(\n                Date.now(),\n                this._settings.get('app.events.allowed_future_days') || 180\n            )\n        ).valueOf();\n    }\n\n    public get use_24hr() {\n        return this._settings.get('app.use_24_hour_time');\n    }\n\n    public readonly duration_info = (time: number) => {\n        const date = this.form.getRawValue().date;\n        if (format(date, 'yyyy-MM-dd') !== format(time, 'yyyy-MM-dd'))\n            return '';\n        const diff = differenceInMinutes(time, date);\n        return ` (${formatDuration({\n            hours: Math.floor(diff / 60),\n            minutes: diff % 60,\n        })})`;\n    };\n\n    constructor(\n        private _settings: SettingsService,\n        private _event_form: EventFormService\n    ) {}\n}\n","import { Component, OnInit } from '@angular/core';\nimport { ActivatedRoute } from '@angular/router';\nimport { BookingFormService } from '@placeos/bookings';\nimport { AsyncHandler, notifyInfo } from '@placeos/common';\nimport { Desk, OrganisationService } from '@placeos/organisation';\nimport { first, take } from 'rxjs/operators';\n\n@Component({\n    selector: 'placeos-new-book-desk-flow',\n    template: `\n        <div class=\"bg-base-100 h-full w-full z-50\">\n            <ng-container [ngSwitch]=\"view\">\n                <ng-container *ngSwitchCase=\"'success'\">\n                    <new-desk-flow-success></new-desk-flow-success>\n                </ng-container>\n                <ng-container *ngSwitchDefault>\n                    <new-desk-flow-form></new-desk-flow-form>\n                </ng-container>\n            </ng-container>\n        </div>\n    `,\n    styles: [\n        `\n            :host {\n                height: 100%;\n                width: 100%;\n            }\n        `,\n    ],\n})\nexport class NewDeskFlowComponent extends AsyncHandler implements OnInit {\n    public get view() {\n        return this._state.view;\n    }\n    public get last_success() {\n        return this._state.last_success;\n    }\n\n    constructor(\n        private _state: BookingFormService,\n        private _route: ActivatedRoute,\n        private _org: OrganisationService\n    ) {\n        super();\n    }\n\n    public async ngOnInit() {\n        await this._org.initialised.pipe(first((_) => _)).toPromise();\n        this._state.loadForm();\n        this._state.setOptions({ type: 'desk' });\n        this._state.form.patchValue({ booking_type: 'desk' });\n        this.subscription(\n            'route.params',\n            this._route.paramMap.subscribe((param) => {\n                if (param.has('step'))\n                    this._state.setView(param.get('step') as any);\n            })\n        );\n        this.subscription(\n            'route.query',\n            this._route.queryParamMap.subscribe(async (params) => {\n                if (params.has('success')) {\n                    this._state.setView(params.get('success') as any);\n                }\n                if (params.has('asset_id')) {\n                    const id = params.get('asset_id');\n                    const resources = await this._state.resources\n                        .pipe(take(1))\n                        .toPromise();\n                    let asset = resources.find((_) => _.id === id);\n                    if (!asset) {\n                        return notifyInfo(\n                            'Unable to find desk with given asset ID.'\n                        );\n                    }\n                    this._state.form.patchValue({\n                        resources: [\n                            new Desk({\n                                id: asset.id,\n                                name: asset.name || asset.id,\n                            }),\n                        ],\n                    });\n                }\n            })\n        );\n    }\n}\n","import { Component, Input, Optional } from '@angular/core';\nimport { MatBottomSheetRef } from '@angular/material/bottom-sheet';\nimport { BookingFormService } from '@placeos/bookings';\nimport { AsyncHandler, SettingsService, notifyError } from '@placeos/common';\nimport { Desk, OrganisationService } from '@placeos/organisation';\nimport { addMinutes, endOfDay } from 'date-fns';\nimport { map, take } from 'rxjs/operators';\n\n@Component({\n    selector: 'new-desk-flow-confirm',\n    styles: [\n        `\n            section > app-icon {\n                font-size: 1.5rem;\n                margin-top: 0.3rem;\n            }\n\n            h3 {\n                font-size: 1.25rem;\n                font-weight: medium;\n                margin: 0.5rem 0;\n            }\n        `,\n    ],\n    template: `\n        <button\n            icon\n            name=\"close-desk-confirm\"\n            matRipple\n            class=\"absolute right-2 top-2 bg-base-200\"\n            *ngIf=\"show_close\"\n            (click)=\"dismiss()\"\n        >\n            <app-icon>close</app-icon>\n        </button>\n        <header class=\"flex items-center justify-between px-4 pt-4\">\n            <h2 class=\"text-2xl font-medium mb-2\" i18n>Confirm Desk Booking</h2>\n            <mat-spinner diameter=\"32\" *ngIf=\"loading | async\"></mat-spinner>\n        </header>\n        <section period class=\"flex space-x-1 py-4 px-2\">\n            <app-icon class=\"text-success\">done</app-icon>\n            <div details class=\"leading-6\">\n                <h3>{{ booking.title || '~Untitled~' }}</h3>\n                <div class=\"flex items-center space-x-2\">\n                    <app-icon>calendar_today</app-icon>\n                    <div date>{{ booking.date | date: 'fullDate' }}</div>\n                </div>\n                <div class=\"flex items-center space-x-2\">\n                    <app-icon>schedule</app-icon>\n                    <div time>\n                        {{\n                            booking.all_day\n                                ? 'All Day'\n                                : (booking.date | date: time_format) +\n                                  ' - ' +\n                                  (booking.date + booking.duration * 60 * 1000\n                                      | date: time_format + ' (z)')\n                        }}\n                    </div>\n                </div>\n            </div>\n        </section>\n        <section\n            desk\n            class=\"flex space-x-1 py-4 px-2 border-t border-neutral\"\n            *ngIf=\"booking_asset?.id\"\n        >\n            <app-icon class=\"text-success\">done</app-icon>\n            <div details class=\"leading-6\">\n                <h3 name>\n                    {{ booking_asset?.name || booking_asset?.id || '' }}\n                </h3>\n                <div class=\"flex items-center space-x-2\">\n                    <app-icon>person</app-icon>\n                    <span i18n>{{\n                        (is_group | async) ? 'Multiple Desks' : 'Single desk'\n                    }}</span>\n                </div>\n                <div class=\"flex items-center space-x-2\">\n                    <app-icon>place</app-icon>\n                    <div>{{ location }}</div>\n                </div>\n                <ng-container *ngFor=\"let feat of booking_asset.features\">\n                    <div features class=\"flex items-center space-x-2\">\n                        <app-icon>arrow_upward</app-icon>\n                        <div>{{ feat }}</div>\n                    </div>\n                </ng-container>\n            </div>\n        </section>\n        <section\n            assets\n            class=\"flex space-x-1 py-4 px-2 border-t max-h-[50vh] overflow-auto\"\n        >\n            <app-icon class=\"text-success\">done</app-icon>\n            <div details class=\"flex-1 leading-6 w-1/2 pr-2\">\n                <h3 i18n>Asset Requests</h3>\n                <div\n                    request\n                    *ngFor=\"let request of assets\"\n                    class=\"border bg-base-100 rounded-xl overflow-hidden\"\n                    [class.border-error]=\"end_time < request.deliver_at\"\n                    [class.border-base-300]=\"end_time >= request.deliver_at\"\n                >\n                    <div class=\"flex items-center space-x-2 p-3\">\n                        <div class=\"flex-1 flex items-center space-x-2\">\n                            <div class=\"text-sm\">\n                                Requested for\n                                {{\n                                    request.deliver_at_time\n                                        | date: 'MMM d, ' + time_format\n                                }}\n                            </div>\n                            <div\n                                class=\"flex items-center justify-center h-6 w-6 rounded-full bg-error text-error-content\"\n                                [matTooltip]=\"err_tooltip\"\n                                *ngIf=\"end_time < request.deliver_at\"\n                            >\n                                <app-icon>priority_high</app-icon>\n                            </div>\n                            <div class=\"flex-1\"></div>\n                            <div\n                                class=\"text-xs bg-success text-success-content px-2 py-1 rounded\"\n                            >\n                                {{ request.item_count }} item(s)\n                            </div>\n                        </div>\n                    </div>\n                    <div\n                        class=\"flex flex-col bg-base-200 divide-y divide-base-100\"\n                    >\n                        <div\n                            class=\"flex items-center px-3 py-1 space-x-2 hover:opacity-90\"\n                            *ngFor=\"let item of request.items\"\n                        >\n                            <div class=\"flex items-center flex-1\">\n                                <span class=\"text-sm\">{{\n                                    item.name || 'Item'\n                                }}</span>\n                            </div>\n                            <div\n                                class=\"rounded bg-success text-success-content text-xs px-2 py-1\"\n                            >\n                                x{{ item.quantity }}\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </section>\n        <section\n            locker\n            class=\"flex space-x-1 py-4 px-2 border-t\"\n            *ngIf=\"needs_locker\"\n        >\n            <app-icon class=\"text-success\">done</app-icon>\n            <div details class=\"leading-6\">\n                <h3 i18n>Requested Locker</h3>\n                <div class=\"flex space-x-2\">\n                    <span>Locker E-043</span>\n                </div>\n            </div>\n        </section>\n        <footer class=\"p-2 w-full border-t border-base-200 mt-4\">\n            <button\n                name=\"confirm-desk\"\n                btn\n                matRipple\n                class=\"w-full\"\n                *ngIf=\"!(loading | async)\"\n                (click)=\"postForm()\"\n                i18n\n            >\n                Confirm\n            </button>\n        </footer>\n    `,\n})\nexport class NewDeskFlowConfirmComponent extends AsyncHandler {\n    @Input() public show_close: boolean = false;\n\n    public readonly loading = this._state.loading;\n    public readonly is_group = this._state.options.pipe(map((_) => _.group));\n\n    public readonly postForm = async () => {\n        try {\n            if ((await this._state.options.pipe(take(1)).toPromise())?.group) {\n                await this._state.postFormForGroup();\n            } else {\n                await this._state.postForm();\n            }\n            this.dismiss(true);\n        } catch (e) {\n            console.log('Booking Error:', e);\n            notifyError(\n                typeof e === 'string'\n                    ? e\n                    : `Desk unavailable at the selected time`\n            );\n        }\n    };\n    public readonly dismiss = (e?) => this._sheet_ref?.dismiss(e);\n\n    public get end_time() {\n        const end = addMinutes(\n            this.booking.date,\n            this.booking.duration\n        ).valueOf();\n        return this.booking.all_day ? endOfDay(end).valueOf() : end;\n    }\n\n    public get booking() {\n        return this._state.form.value as any;\n    }\n\n    public get time_format() {\n        return this._settings.time_format;\n    }\n\n    public get assets() {\n        return this.booking.assets || null;\n    }\n\n    public get needs_locker() {\n        return !!this.booking.secondary_resource;\n    }\n\n    public get assets_count() {\n        return this.assets?.length\n            ? this.assets.reduce((a, b) => a + b.amount, 0)\n            : 0;\n    }\n\n    public get booking_asset() {\n        return this.booking.booking_asset as Desk;\n    }\n\n    public get location() {\n        const building = this._org.buildings.find(\n            (b) => b.id === this.booking_asset?.zone?.parent_id\n        );\n        const level = this._org.levels.find(\n            (l) => l.id === this.booking_asset?.zone?.id\n        );\n        return `${level?.display_name || level?.name}${building ? ',' : ''} ${\n            building?.address || building?.display_name || building?.name || ''\n        }`;\n    }\n\n    constructor(\n        private _state: BookingFormService,\n        private _org: OrganisationService,\n        @Optional() private _sheet_ref: MatBottomSheetRef,\n        private _settings: SettingsService\n    ) {\n        super();\n    }\n}\n","import { Component, OnInit } from '@angular/core';\nimport {\n    MatBottomSheet,\n    MatBottomSheetRef,\n} from '@angular/material/bottom-sheet';\nimport { Router } from '@angular/router';\nimport { BookingFormService } from '@placeos/bookings';\nimport {\n    getInvalidFields,\n    notifyError,\n    SettingsService,\n} from '@placeos/common';\nimport { Desk, OrganisationService } from '@placeos/organisation';\nimport { isBefore, startOfMinute } from 'date-fns';\nimport { first } from 'rxjs/operators';\nimport { NewDeskFlowConfirmComponent } from './new-desk-flow-confirm.component';\n\n@Component({\n    selector: 'new-desk-flow-form',\n    styles: [],\n    template: `\n        <div class=\"h-full w-full bg-base-200 overflow-auto\">\n            <div\n                class=\"max-w-full w-[48rem] mx-auto sm:my-4 bg-base-100 border border-base-200\"\n            >\n                <h2\n                    class=\"w-full p-4 sm:py-4 sm:px-16 text-2xl font-medium border-b border-base-200\"\n                    i18n\n                >\n                    Book Desk\n                </h2>\n                <new-desk-form-details [form]=\"form\"></new-desk-form-details>\n                <div class=\"sm:mb-2 border-b border-base-200 w-full\"></div>\n                <section\n                    class=\"flex flex-col sm:flex-row items-center sm:space-x-2 p-2 sm:px-16 sm:mb-2\"\n                >\n                    <button\n                        btn\n                        name=\"open-desk-confirm\"\n                        matRipple\n                        confirm\n                        class=\"w-full sm:w-auto\"\n                        (click)=\"viewConfirm()\"\n                        i18n\n                    >\n                        Confirm Desk\n                    </button>\n                </section>\n            </div>\n        </div>\n    `,\n})\nexport class NewDeskFlowFormComponent implements OnInit {\n    public sheet_ref: MatBottomSheetRef<any>;\n    public level = '';\n    public levels = [];\n\n    public get form() {\n        return this._state.form;\n    }\n\n    public readonly clearForm = () => {\n        this.level = this._org.building.id;\n        this._state.clearForm();\n    };\n\n    public readonly viewConfirm = () => {\n        if (!this.form.valid)\n            return notifyError(\n                `Some fields are invalid. [${getInvalidFields(this.form).join(\n                    ', '\n                )}]`\n            );\n        this.sheet_ref = this._bottom_sheet.open(NewDeskFlowConfirmComponent);\n        this.sheet_ref.instance.show_close = true;\n        this.sheet_ref.afterDismissed().subscribe((value) => {\n            if (value) {\n                this._state.setView('success');\n                this._router.navigate(['/book', 'new-desks', 'success']);\n            }\n        });\n    };\n\n    constructor(\n        private _state: BookingFormService,\n        private _router: Router,\n        private _org: OrganisationService,\n        private _bottom_sheet: MatBottomSheet,\n        private _settings: SettingsService\n    ) {}\n\n    public async ngOnInit() {\n        await this._org.initialised.pipe(first((_) => _));\n        await this._org.active_levels.pipe(first((_) => _?.length > 0));\n        this._state.setOptions({ type: 'desk' });\n        this.level = this._org.building?.id;\n        this.levels = [\n            { id: this._org.building?.id, name: 'Any Level' },\n            ...this._org.levelsForBuilding(this._org.building),\n        ];\n        if (isBefore(this.form.value.date, Date.now())) {\n            this.form.patchValue({ date: startOfMinute(Date.now()).valueOf() });\n        }\n    }\n}\n","import { Component } from '@angular/core';\nimport { BookingFormService } from '@placeos/bookings';\nimport { SettingsService } from '@placeos/common';\nimport {\n    generateCalendarFileLink,\n    generateGoogleCalendarLink,\n    generateMicrosoftCalendarLink,\n} from 'libs/common/src/lib/calendar-links';\n\n@Component({\n    selector: 'new-desk-flow-success',\n    styles: [],\n    template: `\n        <div\n            class=\"absolute inset-0 bg-base-100 flex flex-col z-50 overflow-auto\"\n        >\n            <main\n                class=\"flex-1 flex flex-col items-center justify-center space-y-2 p-8\"\n            >\n                <h2 class=\"text-2xl font-medium text-center\" i18n>\n                    {{ last_event.asset_name || last_event.asset_id\n                    }}{{ location }} Booked!\n                </h2>\n                <img src=\"assets/icons/success.svg\" />\n                <p class=\"text-center\" i18n>\n                    Your\n                    <span group *ngIf=\"last_event?.attendees?.length\">\n                        group of\n                        {{ last_event?.attendees?.length + 1 }}\n                    </span>\n                    desk{{ last_event?.attendees?.length ? 's' : '' }} has been\n                    successfully booked\n                    <span\n                        assets\n                        *ngIf=\"last_event?.extension_data?.assets?.length\"\n                    >\n                        including\n                        {{ last_event?.extension_data?.assets?.length }}\n                        asset(s)\n                    </span>\n                    for {{ last_event.date | date: 'mediumDate' }}\n                    <span *ngIf=\"!last_event?.all_day\">\n                        at {{ last_event.date | date: time_format }}-{{\n                            last_event.date + last_event.duration * 60 * 1000\n                                | date: time_format\n                        }}</span\n                    >.\n                </p>\n                <p *ngIf=\"true\">\n                    Please allow up to 5 minutes for you booking to be approved.\n                </p>\n                <div\n                    class=\"flex flex-col items-center space-y-4 p-4 relative\"\n                    *ngIf=\"show_links\"\n                >\n                    <a\n                        btn\n                        matRipple\n                        name=\"desk-outlook-link\"\n                        class=\"flex items-center p-2 space-x-2 pr-4 w-64 rounded inverse\"\n                        [href]=\"outlook_link | sanitize: 'url'\"\n                        target=\"_blank\"\n                        rel=\"noopener noreferer\"\n                    >\n                        <img src=\"assets/icons/outlook.svg\" class=\"w-6\" />\n                        <span i18n>Add to Outlook</span>\n                    </a>\n                    <a\n                        btn\n                        matRipple\n                        name=\"desk-google-link\"\n                        class=\"flex items-center p-2 space-x-2 pr-4 w-64 rounded inverse\"\n                        [href]=\"google_link | sanitize: 'url'\"\n                        target=\"_blank\"\n                        rel=\"noopener noreferer\"\n                    >\n                        <img src=\"assets/icons/gcal.svg\" class=\"w-6\" />\n                        <span i18n>Add to Google Calendar</span>\n                    </a>\n                    <a\n                        btn\n                        matRipple\n                        name=\"desk-ical-link\"\n                        class=\"flex items-center p-2 space-x-2 pr-4 w-64 rounded inverse\"\n                        [href]=\"ical_link | safe: 'url'\"\n                        target=\"_blank\"\n                        rel=\"noopener noreferer\"\n                    >\n                        <app-icon class=\"text-xl\">download</app-icon>\n                        <span i18n>Download iCal File</span>\n                    </a>\n                </div>\n            </main>\n            <footer\n                class=\"sticky bottom-0 p-2 w-full border-t bg-base-100 border-base-200 mt-4 flex items-center justify-center\"\n            >\n                <a\n                    btn\n                    name=\"desk-confirm-continue\"\n                    matRipple\n                    class=\"w-full max-w-[32rem] mx-auto\"\n                    [routerLink]=\"['/']\"\n                    i18n\n                >\n                    Great, thanks!\n                </a>\n            </footer>\n        </div>\n    `,\n})\nexport class NewDeskFlowSuccessComponent {\n    public outlook_link = '';\n    public google_link = '';\n    public ical_link = '';\n    public get location() {\n        const desk = this.last_event?.extension_data?.booking_asset;\n        if (!desk) return '';\n        return desk.zone\n            ? `, ${desk.zone.display_name || desk.zone.name || desk.zone.id}`\n            : '';\n    }\n\n    public get last_event() {\n        return this._state.last_success;\n    }\n\n    public get show_links() {\n        return this._settings.get('app.desks.show_calendar_links');\n    }\n\n    public readonly viewCalendarLinks = () =>\n        this._state.openBookingLinkModal();\n\n    public get time_format() {\n        return this._settings.time_format;\n    }\n\n    constructor(\n        private _state: BookingFormService,\n        private _settings: SettingsService\n    ) {}\n\n    public ngOnInit() {\n        const event: any = {\n            ...this.last_event,\n            location: `${this.location}, ${this.last_event.asset_name || ''}`,\n        };\n        this.outlook_link = generateMicrosoftCalendarLink(event);\n        this.google_link = generateGoogleCalendarLink(event);\n        this.ical_link = generateCalendarFileLink(event);\n    }\n}\n","import {\n    Component,\n    EventEmitter,\n    Input,\n    Output,\n    SimpleChanges,\n} from '@angular/core';\nimport { FormGroup } from '@angular/forms';\nimport { BookingFormService } from '@placeos/bookings';\nimport { AsyncHandler, SettingsService } from '@placeos/common';\nimport { Desk, OrganisationService } from '@placeos/organisation';\nimport { addDays, endOfDay, set } from 'date-fns';\n\n@Component({\n    selector: 'new-desk-form-details',\n    styles: [],\n    template: `\n        <!-- <div class=\"m-2 bg-warning p-2 text-center rounded shadow text-sm\">\n            The selected desk hasn't been booked. Please book the desk to be\n            able to check-in.\n        </div> -->\n        <div\n            class=\"p-0 sm:py-4 sm:px-16 divide-y divide-base-200 space-y-2\"\n            *ngIf=\"form\"\n            [formGroup]=\"form\"\n        >\n            <section class=\"flex items-center\" *ngIf=\"allow_groups\">\n                <button\n                    matRipple\n                    class=\"relative h-16 flex items-center justify-center flex-1 space-x-2\"\n                    [class.text-secondary]=\"!(options | async)?.group\"\n                    (click)=\"setOptions({ group: false, members: [] })\"\n                >\n                    <app-icon class=\"text-2xl\">person</app-icon>\n                    <div class=\"\" i18n>Single</div>\n                    <div\n                        class=\"absolute h-1 inset-x-0 bottom-0 !m-0\"\n                        [class.bg-base-200]=\"(options | async)?.group\"\n                        [class.bg-secondary]=\"!(options | async)?.group\"\n                    ></div>\n                </button>\n                <button\n                    matRipple\n                    class=\"relative h-16 flex items-center justify-center flex-1 space-x-2\"\n                    [class.text-secondary]=\"(options | async)?.group\"\n                    (click)=\"setOptions({ group: true })\"\n                >\n                    <app-icon class=\"text-2xl\">group_add</app-icon>\n                    <div class=\"\" i18n>Group</div>\n                    <div\n                        class=\"absolute h-1 inset-x-0 bottom-0 !m-0\"\n                        [class.bg-base-200]=\"!(options | async)?.group\"\n                        [class.bg-secondary]=\"(options | async)?.group\"\n                    ></div>\n                </button>\n            </section>\n            <section class=\"p-2\" [class.!border-none]=\"allow_groups\">\n                <h3 class=\"space-x-2 flex items-center mb-4\">\n                    <div\n                        class=\"bg-base-200 rounded-full h-6 w-6 flex items-center justify-center\"\n                    >\n                        1\n                    </div>\n                    <div class=\"text-xl\" i18n>Details</div>\n                </h3>\n                <div\n                    class=\"w-full\"\n                    *ngIf=\"can_book_for_others && !(options | async)?.group\"\n                >\n                    <label for=\"title\">Host<span>*</span></label>\n                    <a-user-search-field\n                        formControlName=\"user\"\n                    ></a-user-search-field>\n                </div>\n                <div class=\"flex items-center flex-wrap sm:space-x-2\">\n                    <div class=\"flex-1 min-w-[256px]\">\n                        <label for=\"title\">Add Title<span>*</span></label>\n                        <mat-form-field appearance=\"outline\" class=\"w-full\">\n                            <input\n                                matInput\n                                name=\"title\"\n                                formControlName=\"title\"\n                                placeholder=\"e.g. Focus Time\"\n                            />\n                            <mat-error i18n\n                                >Booking title is required.</mat-error\n                            >\n                        </mat-form-field>\n                    </div>\n                    <div class=\"flex-1 min-w-[256px] relative\">\n                        <label for=\"date\" i18n>Date<span>*</span></label>\n                        <a-date-field\n                            name=\"date\"\n                            formControlName=\"date\"\n                            [to]=\"end_date\"\n                            i18n\n                        >\n                            Date and time must be in the future\n                        </a-date-field>\n                        <mat-checkbox\n                            formControlName=\"all_day\"\n                            *ngIf=\"allow_all_day\"\n                            class=\"absolute -top-2 right-0\"\n                            i18n\n                        >\n                            All Day\n                        </mat-checkbox>\n                    </div>\n                </div>\n                <div\n                    class=\"flex items-center space-x-2\"\n                    *ngIf=\"!form.value.all_day\"\n                >\n                    <div class=\"flex-1 w-1/3\">\n                        <label for=\"start-time\" i18n>\n                            Start Time<span>*</span>\n                        </label>\n                        <a-time-field\n                            name=\"start-time\"\n                            [ngModel]=\"form.value.date\"\n                            (ngModelChange)=\"form.patchValue({ date: $event })\"\n                            [ngModelOptions]=\"{ standalone: true }\"\n                            [use_24hr]=\"use_24hr\"\n                        ></a-time-field>\n                    </div>\n                    <div class=\"flex-1 w-1/3\">\n                        <label for=\"end-time\" i18n>\n                            End Time<span>*</span>\n                        </label>\n                        <a-duration-field\n                            name=\"end-time\"\n                            formControlName=\"duration\"\n                            [time]=\"form.get('date')?.value\"\n                            [max]=\"10 * 60\"\n                            [min]=\"60\"\n                            [step]=\"60\"\n                            [use_24hr]=\"use_24hr\"\n                        >\n                        </a-duration-field>\n                    </div>\n                </div>\n                <div\n                    class=\"flex items-center space-x-2\"\n                    *ngIf=\"can_book_lockers\"\n                >\n                    <div class=\"flex-1 w-1/3\">\n                        <mat-checkbox\n                            [ngModel]=\"!!form.value.secondary_resource\"\n                            (ngModelChange)=\"\n                                form.patchValue({\n                                    secondary_resource: $event ? 'locker' : ''\n                                })\n                            \"\n                            [ngModelOptions]=\"{ standalone: true }\"\n                            i18n\n                        >\n                            Require locker\n                        </mat-checkbox>\n                    </div>\n                </div>\n            </section>\n            <section class=\"p-2\" *ngIf=\"(options | async)?.group\">\n                <h3 class=\"space-x-2 flex items-center\">\n                    <div\n                        class=\"bg-base-200 rounded-full h-6 w-6 flex items-center justify-center\"\n                    >\n                        2\n                    </div>\n                    <div class=\"text-xl\" i18n>Group Members</div>\n                    <div class=\"flex-1 w-px\"></div>\n                </h3>\n                <div class=\"overflow-hidden\">\n                    <a-user-list-field\n                        class=\"mt-4\"\n                        [ngModel]=\"(options | async)?.members || []\"\n                        (ngModelChange)=\"setOptions({ members: $event })\"\n                        [ngModelOptions]=\"{ standalone: true }\"\n                    ></a-user-list-field>\n                </div>\n            </section>\n            <section class=\"p-2\" *ngIf=\"form.contains('resources')\">\n                <h3 class=\"space-x-2 flex items-center mb-4\">\n                    <div\n                        class=\"bg-base-200 rounded-full h-6 w-6 flex items-center justify-center\"\n                    >\n                        {{ (options | async)?.group ? 3 : 2 }}\n                    </div>\n                    <div class=\"text-xl\" i18n>Desk</div>\n                </h3>\n                <desk-list-field formControlName=\"resources\"></desk-list-field>\n                <p\n                    *ngIf=\"(options | async)?.group\"\n                    class=\"text-center rounded px-2 py-1 bg-warning shadow text-xs\"\n                >\n                    Desks nearby to the selected desk will booked for group\n                    members\n                </p>\n            </section>\n            <section class=\"p-2\" *ngIf=\"has_assets\">\n                <h3 class=\"space-x-2 flex items-center mb-4\">\n                    <div\n                        class=\"bg-base-200 rounded-full h-6 w-6 flex items-center justify-center\"\n                    >\n                        {{ (options | async)?.group ? 4 : 3 }}\n                    </div>\n                    <div class=\"text-xl\" i18n>Request Asset</div>\n                </h3>\n                <asset-list-field\n                    [options]=\"{\n                        date: form.getRawValue().date,\n                        duration: form.value.duration,\n                        all_day: form.value.all_day,\n                    }\"\n                    formControlName=\"assets\"\n                ></asset-list-field>\n            </section>\n        </div>\n    `,\n})\nexport class NewDeskFormDetailsComponent extends AsyncHandler {\n    @Input() public form: FormGroup;\n    @Output() public find = new EventEmitter<void>();\n    /** List of available buildings to select */\n    public readonly buildings = this._org.building_list;\n    /** List of available levels for the selected building */\n    public readonly levels = this._org.active_levels;\n    /** List of set options for desk booking */\n    public readonly options = this._state.options;\n    /** List of set options for desk booking */\n    public readonly features = this._state.features;\n\n    public readonly force_time = set(Date.now(), {\n        hours: 6,\n        minutes: 0,\n    }).valueOf();\n\n    /** Selected desk for booking */\n    public selected_desk: Desk;\n    public from_id = false;\n\n    public readonly recurrence_options = ['daily', 'weekly', 'monthly'];\n\n    public get building() {\n        return this._org.building;\n    }\n    public set building(bld) {\n        this._org.building = bld;\n    }\n\n    public readonly setOptions = (o) => this._state.setOptions(o);\n\n    public readonly setFeature = (f, e) => this._state.setFeature(f, e);\n\n    public get can_book_for_others() {\n        return this._settings.get('app.desks.can_book_for_others');\n    }\n\n    public get can_book_lockers() {\n        return this._settings.get('app.desks.can_book_lockers');\n    }\n    public get can_recurr() {\n        return this._settings.get('app.desks.recurrence_allowed');\n    }\n\n    public get allow_groups() {\n        return this._settings.get('app.desks.allow_groups');\n    }\n\n    public get has_assets() {\n        return !!this._settings.get('app.desks.has_assets');\n    }\n\n    public get needs_reason() {\n        return this._settings.get('app.desks.needs_reason') === true;\n    }\n\n    public get allow_time_changes() {\n        return !!this._settings.get('app.desks.allow_time_changes');\n    }\n\n    public get allow_all_day() {\n        return (\n            this.allow_time_changes &&\n            !!this._settings.get('app.desks.allow_all_day')\n        );\n    }\n\n    public get end_date() {\n        return endOfDay(\n            addDays(\n                Date.now(),\n                this._settings.get('app.desks.available_period') || 90\n            )\n        ).valueOf();\n    }\n\n    public get use_24hr() {\n        return this._settings.get('app.use_24_hour_time');\n    }\n\n    constructor(\n        private _state: BookingFormService,\n        private _org: OrganisationService,\n        private _settings: SettingsService\n    ) {\n        super();\n    }\n\n    public ngOnChanges(changes: SimpleChanges) {\n        if (changes.form && this.form) {\n            if (this.selected_desk?.id) {\n                this.form.patchValue({ resources: [this.selected_desk] });\n            }\n        }\n    }\n}\n","import { Component, OnInit } from '@angular/core';\nimport { ActivatedRoute } from '@angular/router';\nimport { BookingFormService } from '@placeos/bookings';\nimport { AsyncHandler } from '@placeos/common';\n\n@Component({\n    selector: 'placeos-new-parking-flow',\n    template: `\n        <div class=\"bg-base-100 h-full w-full z-50\" [ngSwitch]=\"view\">\n            <parking-flow-success *ngSwitchCase=\"'success'\">\n            </parking-flow-success>\n            <parking-flow-confirm *ngSwitchCase=\"'confirm'\">\n            </parking-flow-confirm>\n            <parking-flow-form *ngSwitchDefault></parking-flow-form>\n        </div>\n    `,\n    styles: [\n        `\n            :host {\n                height: 100%;\n                width: 100%;\n            }\n        `,\n    ],\n})\nexport class NewParkingFlowComponent extends AsyncHandler implements OnInit {\n    public get view() {\n        return this._state.view;\n    }\n    public get last_success() {\n        return this._state.last_success;\n    }\n\n    constructor(\n        private _state: BookingFormService,\n        private _route: ActivatedRoute\n    ) {\n        super();\n    }\n\n    public ngOnInit() {\n        this._state.loadForm();\n        if (!this._state.form) this._state.newForm();\n        this._state.setOptions({ type: 'parking' });\n        this._state.form.patchValue({ booking_type: 'parking' });\n        this.subscription(\n            'route.params',\n            this._route.paramMap.subscribe((param) => {\n                if (param.has('step'))\n                    this._state.setView(param.get('step') as any);\n            })\n        );\n        this.subscription(\n            'route.query',\n            this._route.queryParamMap.subscribe((param) => {\n                if (param.has('success')) this._state.setView('success');\n            })\n        );\n    }\n}\n","import { Component, Input, Optional } from '@angular/core';\nimport { MatBottomSheetRef } from '@angular/material/bottom-sheet';\nimport { BookingFormService } from '@placeos/bookings';\nimport { AsyncHandler, SettingsService, notifyError } from '@placeos/common';\nimport { OrganisationService } from '@placeos/organisation';\n\n@Component({\n    selector: 'new-parking-flow-confirm',\n    template: ` <button\n            close\n            icon\n            matRipple\n            *ngIf=\"show_close\"\n            (click)=\"dismiss()\"\n        >\n            <app-icon>close</app-icon>\n        </button>\n        <header class=\"flex items-center justify-between px-2\">\n            <h2 class=\"text-2xl font-medium mb-2\" i18n>\n                Confirm Parking Reservation\n            </h2>\n            <mat-spinner diameter=\"32\" *ngIf=\"loading | async\"></mat-spinner>\n        </header>\n        <section period class=\"flex space-x-1 py-4 px-2\">\n            <app-icon class=\"text-success\">done</app-icon>\n            <div details class=\"leading-6\">\n                <h3>{{ booking.title || '~Untitled~' }}</h3>\n                <div class=\"flex items-center space-x-2\">\n                    <app-icon>calendar_today</app-icon>\n                    <div date>{{ booking.date | date: 'fullDate' }}</div>\n                </div>\n                <div class=\"flex items-center space-x-2\">\n                    <app-icon>schedule</app-icon>\n                    <div time>\n                        {{\n                            booking.all_day\n                                ? 'All Day'\n                                : (booking.date | date: time_format) +\n                                  ' - ' +\n                                  (booking.date + booking.duration * 60 * 1000\n                                      | date: time_format + ' (z)')\n                        }}\n                    </div>\n                </div>\n            </div>\n        </section>\n        <section\n            resource\n            class=\"flex space-x-1 py-4 px-2 border-t\"\n            *ngIf=\"booking_asset?.id\"\n        >\n            <app-icon class=\"text-success\">done</app-icon>\n            <div details class=\"leading-6\">\n                <h3 name>\n                    {{ booking_asset?.name || booking_asset?.id || '' }}\n                </h3>\n                <div class=\"flex items-center space-x-2\">\n                    <app-icon>person</app-icon>\n                    <span i18n>Car Park</span>\n                </div>\n                <div class=\"flex items-center space-x-2\">\n                    <app-icon>place</app-icon>\n                    <div>{{ location }}</div>\n                </div>\n                <ng-container *ngFor=\"let feat of booking_asset.features\">\n                    <div features class=\"flex items-center space-x-2\">\n                        <app-icon>arrow_upward</app-icon>\n                        <div>{{ feat }}</div>\n                    </div>\n                </ng-container>\n            </div>\n        </section>\n        <section\n            assets\n            class=\"flex space-x-1 py-4 px-2 border-t\"\n            *ngIf=\"assets?.length\"\n        >\n            <app-icon class=\"text-success\">done</app-icon>\n            <div details class=\"leading-6\">\n                <h3 i18n>{{ assets_count }} Asset(s)</h3>\n                <div class=\"flex space-x-2\" *ngFor=\"let asset of assets\">\n                    <div class=\"h-5 w-5 bg-base-200 rounded-full\">\n                        {{ asset.amount }}\n                    </div>\n                    <span>{{ asset.name }}</span>\n                </div>\n            </div>\n        </section>\n        <footer class=\"p-2 w-full border-t border-base-200 mt-4\">\n            <button\n                confirm\n                btn\n                matRipple\n                class=\"w-full\"\n                *ngIf=\"!(loading | async)\"\n                (click)=\"postForm()\"\n                i18n\n            >\n                Confirm\n            </button>\n        </footer>`,\n    styles: [\n        `\n            section > app-icon {\n                font-size: 1.5rem;\n                margin-top: 0.3rem;\n            }\n\n            h3 {\n                font-size: 1.25rem;\n                font-weight: medium;\n                margin: 0.5rem 0;\n            }\n        `,\n    ],\n})\nexport class NewParkingFlowConfirmComponent extends AsyncHandler {\n    @Input() public show_close: boolean = false;\n\n    public readonly loading = this._state.loading;\n\n    public readonly postForm = async () => {\n        await this._state.postForm().catch((_) => {\n            notifyError(`Unable to complete booking. ${_}`);\n            throw _;\n        });\n        this.dismiss(true);\n    };\n    public readonly dismiss = (e?) => this._sheet_ref?.dismiss(e);\n\n    public get time_format() {\n        return this._settings.time_format;\n    }\n\n    public get booking() {\n        return this._state.form.value as any;\n    }\n\n    public get assets() {\n        return this.booking.assets || null;\n    }\n\n    public get assets_count() {\n        return this.assets?.length\n            ? this.assets.reduce((a, b) => a + b.amount, 0)\n            : 0;\n    }\n\n    public get booking_asset() {\n        return this.booking.booking_asset;\n    }\n\n    public get location() {\n        const building = this._org.buildings.find(\n            (b) => b.id === this.booking_asset?.zone?.parent_id\n        );\n        const level = this._org.levels.find(\n            (l) => l.id === this.booking_asset?.zone?.id\n        );\n        return `${level?.display_name || level?.name}${building ? ',' : ''} ${\n            building?.address || building?.display_name || building?.name || ''\n        }`;\n    }\n\n    constructor(\n        private _state: BookingFormService,\n        private _org: OrganisationService,\n        @Optional() private _sheet_ref: MatBottomSheetRef,\n        private _settings: SettingsService\n    ) {\n        super();\n    }\n}\n","import { Component } from '@angular/core';\nimport { MatBottomSheet } from '@angular/material/bottom-sheet';\nimport { Router } from '@angular/router';\nimport { BookingFormService } from '@placeos/bookings';\nimport {\n    ANIMATION_SHOW_CONTRACT_EXPAND,\n    AsyncHandler,\n    getInvalidFields,\n    notifyError,\n    SettingsService,\n} from '@placeos/common';\nimport { NewParkingFlowConfirmComponent } from './parking-flow-confirm.component';\n\n@Component({\n    selector: 'parking-flow-form',\n    template: `\n        <div class=\"h-full w-full bg-base-200 overflow-auto\">\n            <div\n                class=\"max-w-full w-[48rem] mx-auto sm:my-4 bg-base-100 border border-base-200\"\n            >\n                <h2\n                    class=\"w-full p-4 sm:py-4 sm:px-16 text-2xl font-medium border-b border-base-200\"\n                    i18n\n                >\n                    {{ form.value.id ? 'Edit' : 'Book' }} Parking Reservation\n                </h2>\n                <form\n                    class=\"p-0 sm:py-4 sm:px-16 divide-y divide-base-200 space-y-2\"\n                    [formGroup]=\"form\"\n                >\n                    <section class=\"p-2\">\n                        <h3 class=\"space-x-2 flex items-center\">\n                            <div\n                                class=\"bg-base-200 rounded-full h-6 w-6 flex items-center justify-center\"\n                            >\n                                1\n                            </div>\n                            <div class=\"text-xl\" i18n>Details</div>\n                            <div class=\"flex-1 w-px\"></div>\n                            <button\n                                icon\n                                matRipple\n                                (click)=\"\n                                    hide_block.details = !hide_block.details\n                                \"\n                            >\n                                <app-icon>{{\n                                    hide_block.details\n                                        ? 'expand_more'\n                                        : 'expand_less'\n                                }}</app-icon>\n                            </button>\n                        </h3>\n                        <div\n                            class=\"overflow-hidden\"\n                            [@show]=\"hide_block.details ? 'hide' : 'show'\"\n                        >\n                            <parking-form-details\n                                class=\"mt-4\"\n                                [form]=\"form\"\n                            ></parking-form-details>\n                        </div>\n                    </section>\n                    <section class=\"p-2\">\n                        <h3 class=\"space-x-2 flex items-center\">\n                            <div\n                                class=\"bg-base-200 rounded-full h-6 w-6 flex items-center justify-center\"\n                            >\n                                2\n                            </div>\n                            <div class=\"text-xl\" i18n>Space</div>\n                            <div class=\"flex-1 w-px\"></div>\n                            <button\n                                icon\n                                matRipple\n                                (click)=\"hide_block.space = !hide_block.space\"\n                            >\n                                <app-icon>{{\n                                    hide_block.space\n                                        ? 'expand_more'\n                                        : 'expand_less'\n                                }}</app-icon>\n                            </button>\n                        </h3>\n                        <div\n                            class=\"overflow-hidden\"\n                            [@show]=\"hide_block.space ? 'hide' : 'show'\"\n                        >\n                            <parking-space-list-field\n                                formControlName=\"resources\"\n                            ></parking-space-list-field>\n                        </div>\n                    </section>\n                    <section\n                        class=\"flex flex-col sm:flex-row items-center sm:space-x-2 p-2\"\n                    >\n                        <button\n                            btn\n                            matRipple\n                            confirm\n                            class=\"mb-2 sm:mb-0 w-full sm:w-auto\"\n                            (click)=\"viewConfirm()\"\n                            i18n\n                        >\n                            Confirm Reservation\n                        </button>\n                        <button\n                            btn\n                            matRipple\n                            clear-form\n                            class=\"inverse w-full sm:w-auto\"\n                            (click)=\"clearForm()\"\n                            i18n\n                        >\n                            {{ form.value.id ? 'Reset' : 'Clear' }} Form\n                        </button>\n                    </section>\n                </form>\n            </div>\n        </div>\n    `,\n    styles: [``],\n    animations: [ANIMATION_SHOW_CONTRACT_EXPAND],\n})\nexport class ParkingFlowFormComponent extends AsyncHandler {\n    public hide_block: Record<string, boolean> = {};\n    public sheet_ref: any;\n\n    public readonly clearForm = () => this._state.resetForm();\n\n    public get form() {\n        return this._state.form;\n    }\n\n    constructor(\n        private _state: BookingFormService,\n        private _settings: SettingsService,\n        private _router: Router,\n        private _bottom_sheet: MatBottomSheet\n    ) {\n        super();\n    }\n\n    public ngOnInit() {\n        this._state.setOptions({ type: 'parking' });\n    }\n\n    public readonly viewConfirm = () => {\n        if (!this.form.valid)\n            return notifyError(\n                `Some fields are invalid. [${getInvalidFields(this.form).join(\n                    ', '\n                )}]`\n            );\n        this.sheet_ref = this._bottom_sheet.open(\n            NewParkingFlowConfirmComponent\n        );\n        this.sheet_ref.instance.show_close = true;\n        this.sheet_ref.afterDismissed().subscribe((value) => {\n            if (value) {\n                this._router.navigate(['/book', 'new-parking', 'success']);\n                this._state.setView('success');\n            }\n        });\n    };\n}\n","import { Component } from '@angular/core';\nimport { BookingFormService } from '@placeos/bookings';\nimport { SettingsService } from '@placeos/common';\n\n@Component({\n    selector: 'parking-flow-success',\n    template: `\n        <div\n            class=\"absolute inset-0 bg-base-100 flex flex-col z-50 overflow-auto\"\n        >\n            <main\n                class=\"flex-1 flex flex-col items-center justify-center space-y-2 p-8\"\n            >\n                <h2 class=\"text-2xl font-medium\" i18n>\n                    Parking Space Confirmed!\n                </h2>\n                <p class=\"text-center max-w-[32rem]\" i18n>\n                    Your\n                    <span>\n                        parking space reservation for\n                        {{ last_event.asset_name }} at {{ location }}, </span\n                    >has been successfully booked for the\n                    {{ last_event.date | date: 'mediumDate' }} at\n                    {{ last_event.date | date: time_format }}-{{\n                        last_event.date + last_event.duration * 60 * 1000\n                            | date: time_format\n                    }}.\n                </p>\n                <img src=\"assets/icons/parking-success.svg\" />\n            </main>\n            <footer\n                class=\"sticky bottom-0 bg-base-100 p-2 w-full border-t border-base-200 mt-4 flex items-center justify-center\"\n            >\n                <a\n                    btn\n                    matRipple\n                    class=\"w-full max-w-[32rem]\"\n                    [routerLink]=\"['/']\"\n                    i18n\n                >\n                    Great, thanks!\n                </a>\n            </footer>\n        </div>\n    `,\n    styles: [``],\n})\nexport class ParkingFlowSuccessComponent {\n    public get location() {\n        const resource = this.last_event?.extension_data?.booking_asset;\n        if (!resource) return '';\n        return resource.zone\n            ? `, ${\n                  resource.zone.display_name ||\n                  resource.zone.name ||\n                  resource.zone.id\n              }`\n            : '';\n    }\n\n    public get last_event() {\n        return this._state.last_success;\n    }\n\n    public get time_format() {\n        return this._settings.time_format;\n    }\n\n    constructor(\n        private _state: BookingFormService,\n        private _settings: SettingsService\n    ) {}\n}\n","import { Component, Input } from '@angular/core';\nimport { FormGroup } from '@angular/forms';\nimport { BookingAsset } from '@placeos/bookings';\nimport { AsyncHandler, SettingsService } from '@placeos/common';\nimport { OrganisationService } from '@placeos/organisation';\n\n@Component({\n    selector: 'parking-form-details',\n    template: `\n        <div *ngIf=\"form\" [formGroup]=\"form\">\n            <div class=\"flex items-center flex-wrap sm:space-x-2\">\n                <div class=\"flex-1 min-w-[256px]\">\n                    <label for=\"title\" i18n>Building<span>*</span></label>\n                    <mat-form-field appearance=\"outline\" class=\"w-full\">\n                        <mat-select\n                            [ngModel]=\"building | async\"\n                            (ngModelChange)=\"setBuilding($event)\"\n                            [ngModelOptions]=\"{ standalone: true }\"\n                        >\n                            <mat-option\n                                *ngFor=\"let bld of building_list | async\"\n                                [value]=\"bld\"\n                            >\n                                {{ bld.display_name || bld.name }}\n                            </mat-option>\n                        </mat-select>\n                        <mat-error i18n>Building is required</mat-error>\n                    </mat-form-field>\n                </div>\n            </div>\n            <div class=\"flex items-center flex-wrap sm:space-x-2\">\n                <div class=\"flex-1 min-w-[256px]\">\n                    <label for=\"title\" i18n>Add Title<span>*</span></label>\n                    <mat-form-field appearance=\"outline\" class=\"w-full\">\n                        <input\n                            matInput\n                            name=\"title\"\n                            formControlName=\"title\"\n                            placeholder=\"e.g. Team Meeting\"\n                        />\n                        <mat-error i18n>Meeting title is required.</mat-error>\n                    </mat-form-field>\n                </div>\n                <div class=\"flex-1 min-w-[256px]\">\n                    <label for=\"date\" i18n>Date<span>*</span></label>\n                    <a-date-field name=\"date\" formControlName=\"date\" i18n>\n                        Date and time must be in the future\n                    </a-date-field>\n                </div>\n            </div>\n            <div class=\"flex items-center space-x-2\">\n                <div class=\"flex-1 w-1/3\">\n                    <label for=\"start-time\" i18n\n                        >Start Time<span>*</span></label\n                    >\n                    <a-time-field\n                        name=\"start-time\"\n                        [ngModel]=\"form.value.date\"\n                        (ngModelChange)=\"form.patchValue({ date: $event })\"\n                        [ngModelOptions]=\"{ standalone: true }\"\n                        [use_24hr]=\"use_24hr\"\n                    ></a-time-field>\n                </div>\n                <div class=\"flex-1 w-1/3 relative\">\n                    <label for=\"end-time\" i18n>End Time<span>*</span></label>\n                    <a-duration-field\n                        name=\"end-time\"\n                        formControlName=\"duration\"\n                        [time]=\"form?.value?.date\"\n                        [max]=\"max_duration\"\n                        [use_24hr]=\"use_24hr\"\n                    >\n                    </a-duration-field>\n                    <mat-checkbox\n                        formControlName=\"all_day\"\n                        *ngIf=\"allow_all_day\"\n                        class=\"absolute -top-2 right-0\"\n                        i18n\n                    >\n                        All Day\n                    </mat-checkbox>\n                </div>\n            </div>\n        </div>\n    `,\n    styles: [``],\n})\nexport class ParkingFormDetailsComponent extends AsyncHandler {\n    @Input() public form: FormGroup;\n\n    public readonly building = this._org.active_building;\n    public readonly building_list = this._org.building_list;\n\n    public get max_duration() {\n        return this._settings.get('app.bookings.max_duration') || 480;\n    }\n\n    public get allow_all_day() {\n        return this._settings.get('app.bookings.allow_all_day');\n    }\n\n    public get use_24hr() {\n        return this._settings.get('app.use_24_hour_time');\n    }\n\n    public readonly setBuilding = (bld) => (this._org.building = bld);\n\n    constructor(\n        private _settings: SettingsService,\n        private _org: OrganisationService\n    ) {\n        super();\n    }\n}\n","import { Component, OnInit } from '@angular/core';\nimport { ActivatedRoute } from '@angular/router';\nimport { BookingFormService } from '@placeos/bookings';\nimport { AsyncHandler } from '@placeos/common';\n\n@Component({\n    selector: 'placeos-book-parking-flow',\n    template: `\n        <div class=\"bg-base-100 h-full w-full\">\n            <ng-container [ngSwitch]=\"view\">\n                <ng-container *ngSwitchCase=\"'confirm'\">\n                    <parking-flow-confirm></parking-flow-confirm>\n                </ng-container>\n                <ng-container *ngSwitchCase=\"'success'\">\n                    <flow-success\n                        [calendar]=\"last_success?.host\"\n                        route=\"parking\"\n                        type=\"parking\"\n                    ></flow-success>\n                </ng-container>\n                <ng-container *ngSwitchDefault>\n                    <parking-flow-map></parking-flow-map>\n                </ng-container>\n            </ng-container>\n        </div>\n    `,\n    styles: [\n        `\n            :host {\n                position: relative;\n                height: 100%;\n                width: 100%;\n            }\n        `,\n    ],\n})\nexport class BookParkingFlowComponent extends AsyncHandler implements OnInit {\n    public get view() {\n        return this._state.view;\n    }\n    public get last_success() {\n        return this._state.last_success;\n    }\n\n    constructor(\n        private _state: BookingFormService,\n        private _route: ActivatedRoute\n    ) {\n        super();\n    }\n\n    public ngOnInit() {\n        this._state.setOptions({ type: 'parking' });\n        this._state.loadForm();\n        if (!this._state.form) this._state.newForm();\n        this.subscription(\n            'route.params',\n            this._route.paramMap.subscribe((param) => {\n                if (param.has('step'))\n                    this._state.setView(param.get('step') as any);\n            })\n        );\n        this.subscription(\n            'route.query',\n            this._route.queryParamMap.subscribe((param) => {\n                if (param.has('success'))\n                    this._state.setView(param.get('success') as any);\n            })\n        );\n    }\n}\n","import { Component } from \"@angular/core\";\n\n@Component({\n    selector: 'parking-flow-confirm',\n    template: ``,\n    styles: [``]\n})\nexport class ParkingFlowConfirmComponent {\n    \n}","import { Component, Inject } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { BookingFormService } from '@placeos/bookings';\nimport { AsyncHandler } from '@placeos/common';\nimport { MAP_FEATURE_DATA } from '@placeos/components';\nimport { ExploreParkingService, ExploreStateService } from '@placeos/explore';\nimport { OrganisationService } from '@placeos/organisation';\nimport { addDays, format, startOfDay } from 'date-fns';\nimport { BehaviorSubject } from 'rxjs';\nimport { first, take } from 'rxjs/operators';\n\n@Component({\n    selector: 'space-ping',\n    template: `\n        <div\n            class=\"absolute inset-0 pointer-events-auto\"\n            [style.transform]=\"'scale(' + zoom * ratio + ')'\"\n        >\n            <div\n                class=\"absolute inset-0 animate-ping border-4 border-green-600\"\n            ></div>\n        </div>\n    `,\n})\nclass SpacePingComponent extends AsyncHandler {\n    public zoom = 1;\n    public ratio = 1;\n    constructor(@Inject(MAP_FEATURE_DATA) private _details: any) {\n        super();\n        this.subscription(\n            'zoom',\n            this._details.zoom$?.subscribe((_) => (this.zoom = _))\n        );\n        this.subscription(\n            'ratio',\n            this._details.ratio$?.subscribe((_) => (this.ratio = _))\n        );\n    }\n}\n\n@Component({\n    selector: 'parking-flow-map',\n    template: `\n        <div\n            class=\"w-full h-full flex flex-col items-center relative\"\n            *ngIf=\"!(loading | async); else load_state\"\n        >\n            <div\n                class=\"p-4 flex items-center justify-center bg-secondary w-full shadow z-10 text-white space-x-2\"\n            >\n                <button\n                    matRipple\n                    *ngFor=\"let date of dates\"\n                    [class.selected]=\"date.id === (options | async)?.date\"\n                    class=\"border border-white flex flex-col items-center justify-center h-24 w-28 rounded\"\n                    (click)=\"setDate(date.id)\"\n                >\n                    <p class=\"mb-2 font-medium\">{{ date.name }}</p>\n                    <p class=\"text-2xl\">\n                        {{ ((counts | async) || {})[date.id] || '0' }}\n                    </p>\n                    <p class=\"text-sm\">Available</p>\n                </button>\n            </div>\n            <div class=\"flex w-full h-1/2 flex-1 z-0\">\n                <div\n                    class=\"p-2 sm:w-[18rem] w-full h-full bg-base-200 shadow border-r border-base-200 z-10 overflow-auto space-y-2\"\n                >\n                    <div\n                        class=\"bg-base-100 sticky top-0 w-full z-10\"\n                        *ngIf=\"(levels | async)?.length > 1\"\n                    >\n                        <mat-form-field\n                            appearance=\"outline\"\n                            class=\"w-full h-[3.25rem]\"\n                        >\n                            <mat-select\n                                [ngModel]=\"level | async\"\n                                (ngModelChange)=\"setLevel($event?.id)\"\n                            >\n                                <mat-option\n                                    *ngFor=\"let lvl of levels | async\"\n                                    [value]=\"lvl\"\n                                >\n                                    {{ lvl.display_name || lvl.name }}\n                                </mat-option>\n                            </mat-select>\n                        </mat-form-field>\n                    </div>\n                    <p>{{ (available | async)?.length }} space(s) available</p>\n                    <button\n                        matRipple\n                        class=\"flex items-center justify-between bg-base-100 rounded-lg border border-base-200 p-2 w-full\"\n                        [class.active]=\"(active_space | async)?.id === space.id\"\n                        (click)=\"setActive(space)\"\n                        *ngFor=\"let space of available | async\"\n                    >\n                        <div class=\"text-lg\">Bay No. {{ space.name }}</div>\n                        <div class=\"opacity-60\">\n                            {{ levelName(space.zone_id) }}\n                        </div>\n                    </button>\n                </div>\n                <div\n                    class=\"bg-base-200 flex-1 w-1/2 h-full z-0 relative hidden sm:block\"\n                >\n                    <interactive-map\n                        [src]=\"url | async\"\n                        [zoom]=\"(positions | async)?.zoom\"\n                        [center]=\"(positions | async)?.center\"\n                        [styles]=\"styles | async\"\n                        [features]=\"features | async\"\n                        [actions]=\"actions | async\"\n                        [labels]=\"labels | async\"\n                    ></interactive-map>\n                    <explore-zoom-controls\n                        class=\"absolute bottom-0 right-0\"\n                    ></explore-zoom-controls>\n                </div>\n                <div\n                    *ngIf=\"active_space | async\"\n                    class=\"absolute left-1/2 bottom-2 -translate-x-1/2 bg-base-100 shadow rounded p-4 flex flex-col space-y-2\"\n                >\n                    <p>\n                        Parking Bay No.\n                        {{ (active_space | async).name }} selected.\n                    </p>\n                    <p\n                        class=\"p-2 rounded text-sm max-w-[20rem] text-center text-pending leading-tight\"\n                        *ngIf=\"(existing | async)?.length\"\n                    >\n                        Note that your existing parking space reservation will\n                        be replaced\n                    </p>\n                    <button btn matRipple (click)=\"reserveSpace()\">\n                        Reserve Space\n                    </button>\n                </div>\n                <div\n                    class=\"absolute inset-0 bg-base-100/80 flex flex-col items-center justify-center z-50\"\n                    *ngIf=\"!(levels | async)?.length\"\n                >\n                    <p>\n                        Parking is not available for\n                        {{\n                            (building | async)?.display_name ||\n                                (building | async)?.name\n                        }}\n                    </p>\n                </div>\n            </div>\n        </div>\n        <ng-template #load_state>\n            <div\n                class=\"absolute inset-0 bg-base-100/80 flex flex-col items-center justify-center z-50 space-y-2\"\n                *ngIf=\"!(levels | async)?.length\"\n            >\n                <mat-spinner diameter=\"32\"></mat-spinner>\n                <p>Reserving parking space...</p>\n            </div>\n        </ng-template>\n    `,\n    styles: [\n        `\n            .active {\n                background-color: var(--s) !important;\n                color: #fff;\n            }\n\n            .selected {\n                background-color: #fff !important;\n                color: #000d;\n            }\n        `,\n    ],\n    providers: [ExploreParkingService],\n})\nexport class ParkingFlowMapComponent extends AsyncHandler {\n    /** Observable for the active map */\n    public readonly url = this._state.map_url;\n    /** Observable for the active map */\n    public readonly styles = this._state.map_styles;\n    /** Observable for the active map */\n    public readonly positions = this._state.map_positions;\n    /** Observable for the active map */\n    public readonly features = this._state.map_features;\n    /** Observable for the active map */\n    public readonly actions = this._state.map_actions;\n    /** Observable for the labels map */\n    public readonly labels = this._state.map_labels;\n\n    public readonly building = this._org.active_building;\n\n    public readonly level = this._state.level;\n\n    public readonly levels = this._parking.levels;\n\n    public readonly available = this._parking.available_spaces;\n\n    public readonly counts = this._parking.week_availablility;\n\n    public readonly options = this._parking.options;\n\n    public readonly existing = this._parking.existing_event;\n\n    public readonly loading = this._booking.loading;\n\n    public readonly active_space = new BehaviorSubject(null);\n\n    public readonly dates = new Array(7).fill(0).map((_, idx) => ({\n        id: startOfDay(addDays(Date.now(), idx)).valueOf(),\n        name: format(addDays(Date.now(), idx), 'EEE, dd MMM'),\n        available: 0,\n    }));\n\n    public readonly setDate = (d) => this._parking.setOptions({ date: d });\n\n    public levelName(zone_id) {\n        const lvl = this._org.levelWithID([zone_id]);\n        return lvl?.display_name || lvl?.name || '';\n    }\n\n    public setActive(space) {\n        if (space === this.active_space.getValue())\n            this.active_space.next(null);\n        else {\n            this._booking.form.patchValue({\n                asset_id: space.id,\n                asset_name: space.name,\n            });\n            this.active_space.next(space);\n        }\n    }\n\n    public readonly setLevel = (l) => this._state.setLevel(l);\n    public readonly reserveSpace = async () => {\n        const events = await this._parking.existing_event\n            .pipe(take(1))\n            .toPromise();\n        if (events.length) this._booking.form.patchValue({ id: events[0].id }); // Prevent booking duplicate parking spaces\n        await this._booking.postForm();\n        this._router.navigate(['book', 'parking', 'success']);\n    };\n\n    constructor(\n        private _state: ExploreStateService,\n        private _parking: ExploreParkingService,\n        private _org: OrganisationService,\n        private _booking: BookingFormService,\n        private _router: Router\n    ) {\n        super();\n    }\n\n    public async ngOnInit() {\n        await this._org.initialised.pipe(first((_) => _)).toPromise();\n        this._state.reset();\n        this.subscription(\n            'levels',\n            this._parking.levels.subscribe((levels) => {\n                this._state.setLevel(levels[0]?.id);\n            })\n        );\n        this.subscription(\n            'spaces',\n            this._parking.available_spaces.subscribe((spaces) => {\n                this._state.setActions(\n                    'parking_spaces',\n                    (spaces || []).map((_) => ({\n                        id: _.map_id,\n                        action: 'click',\n                        callback: () => this.setActive(_),\n                    }))\n                );\n            })\n        );\n        this.subscription(\n            'active_space',\n            this.active_space.subscribe((space) => {\n                if (!space) return this._state.setFeatures('parking_space', []);\n                this._state.setFeatures('parking_space', [\n                    {\n                        location: space.map_id,\n                        content: SpacePingComponent,\n                        full_size: true,\n                        z_index: 0,\n                    },\n                ]);\n            })\n        );\n    }\n}\n","import { Component, OnInit } from '@angular/core';\nimport { ActivatedRoute } from '@angular/router';\nimport { AsyncHandler } from '@placeos/common';\nimport { EventFormService } from '@placeos/events';\n\n@Component({\n    selector: 'placeos-book-space-flow',\n    template: `\n        <div class=\"bg-base-100 h-full w-full\">\n            <ng-container [ngSwitch]=\"view\">\n                <ng-container *ngSwitchCase=\"'find'\">\n                    <space-flow-find></space-flow-find>\n                </ng-container>\n                <ng-container *ngSwitchCase=\"'confirm'\">\n                    <space-flow-confirm></space-flow-confirm>\n                </ng-container>\n                <ng-container *ngSwitchCase=\"'success'\">\n                    <flow-success\n                        [calendar]=\"last_success?.host\"\n                    ></flow-success>\n                </ng-container>\n                <ng-container *ngSwitchDefault>\n                    <space-flow-form></space-flow-form>\n                </ng-container>\n            </ng-container>\n        </div>\n    `,\n    styles: [\n        `\n            :host {\n                position: relative;\n                height: 100%;\n                width: 100%;\n            }\n        `,\n    ],\n})\nexport class BookSpaceFlowComponent extends AsyncHandler implements OnInit {\n    public get view() {\n        return this._state.view;\n    }\n    public get last_success() {\n        return this._state.last_success;\n    }\n\n    constructor(\n        private _state: EventFormService,\n        private _route: ActivatedRoute\n    ) {\n        super();\n    }\n\n    public ngOnInit() {\n        this._state.loadForm();\n        this.subscription(\n            'route.params',\n            this._route.paramMap.subscribe((param) => {\n                if (param.has('step'))\n                    this._state.setView(param.get('step') as any);\n            })\n        );\n        this.subscription(\n            'route.query',\n            this._route.queryParamMap.subscribe((param) => {\n                if (param.has('success'))\n                    this._state.setView(param.get('success') as any);\n            })\n        );\n    }\n}\n","import { Component } from '@angular/core';\nimport { CateringItem } from '@placeos/catering';\nimport { notifyError, SettingsService } from '@placeos/common';\nimport { EventFormService } from '@placeos/events';\nimport { OrganisationService } from '@placeos/organisation';\n\n@Component({\n    selector: 'space-flow-confirm',\n    template: `\n        <div topbar class=\"\">\n            <a\n                button\n                class=\"clear h-[2.75rem] text-white\"\n                btn\n                matRipple\n                [routerLink]=\"['/book', 'spaces', 'find']\"\n            >\n                <div class=\"flex items-center justify-center h-full\">\n                    <app-icon class=\"text-xl\">arrow_back</app-icon>\n                    <span class=\"ml-2 mx-4\">Back</span>\n                </div>\n            </a>\n        </div>\n        <div\n            class=\"flex flex-col items-center space-y-2 w-[640px] max-w-[calc(100%-2rem)] mx-auto mb-4\"\n        >\n            <h2 class=\"text-xl uppercase font-medium w-full my-4\">\n                Your meeting details\n            </h2>\n            <div\n                class=\"flex items-center py-2 space-x-2 border-b border-base-200 w-full\"\n            >\n                <div class=\"p-2 rounded-full bg-base-200 mr-2\">\n                    <app-icon>event</app-icon>\n                </div>\n                <div class=\"flex-1 truncate\">\n                    {{ form.value.date | date: 'longDate' }}\n                    <span *ngIf=\"!form.value.all_day\">\n                        at {{ form.value.date | date: 'shortTime' }} ~\n                        {{\n                            form.value.date + form.value.duration * 60 * 1000\n                                | date: 'shortTime'\n                        }}\n                    </span>\n                </div>\n                <a\n                    btn\n                    matRipple\n                    class=\"clear underline\"\n                    [routerLink]=\"['/book', 'spaces', 'form']\"\n                    >Edit</a\n                >\n            </div>\n            <div\n                class=\"flex items-center py-2 space-x-2 border-b border-base-200 w-full\"\n            >\n                <div class=\"p-2 rounded-full bg-base-200 mr-2\">\n                    <app-icon>schedule</app-icon>\n                </div>\n                <div class=\"flex-1 truncate\">\n                    {{\n                        form.value.all_day\n                            ? 'All Day'\n                            : (form.value.duration | duration)\n                    }}\n                </div>\n                <a\n                    btn\n                    matRipple\n                    class=\"clear underline\"\n                    [routerLink]=\"['/book', 'spaces', 'form']\"\n                >\n                    Edit\n                </a>\n            </div>\n            <div class=\"border-b border-base-200 w-full\">\n                <div class=\"flex items-center py-2 space-x-2 \">\n                    <div class=\"p-2 rounded-full bg-base-200 mr-2\">\n                        <app-icon>place</app-icon>\n                    </div>\n                    <div class=\"flex-1 truncate\">\n                        {{ form.get('resources')?.value?.length }} Space(s)\n                    </div>\n                    <button\n                        matRipple\n                        [disabled]=\"!form.get('resources')?.value?.length\"\n                        class=\"clear bg-transparent border-none underline\"\n                        (click)=\"show_spaces = !show_spaces\"\n                    >\n                        {{ show_spaces ? 'Hide' : 'Show' }}\n                    </button>\n                    <a\n                        btn\n                        matRipple\n                        class=\"clear underline\"\n                        [routerLink]=\"['/book', 'spaces', 'find']\"\n                        >Edit</a\n                    >\n                </div>\n                <div\n                    list\n                    [style.height]=\"\n                        !show_spaces\n                            ? '0'\n                            : form.get('resources')?.value?.length * 2.5 + 'rem'\n                    \"\n                    class=\"overflow-hidden\"\n                >\n                    <div\n                        class=\"flex items-center h-10 pl-12\"\n                        *ngFor=\"let space of form.get('resources')?.value\"\n                    >\n                        <span\n                            >{{ space.display_name || space.name }} [{{\n                                space.level?.display_name || space.level?.name\n                            }}]</span\n                        >\n\n                        <button\n                            matRipple\n                            class=\"bg-transparent border-none underline\"\n                            *ngIf=\"can_view_location\"\n                        >\n                            Map\n                        </button>\n                    </div>\n                </div>\n            </div>\n            <div class=\"border-b border-base-200 w-full\">\n                <div class=\"flex items-center py-2 space-x-2 \">\n                    <div class=\"p-2 rounded-full bg-base-200 mr-2\">\n                        <app-icon>group</app-icon>\n                    </div>\n                    <div class=\"flex-1 truncate\">\n                        {{ form.get('attendees')?.value?.length || 0 }}\n                        Attendee(s)\n                    </div>\n                    <button\n                        matRipple\n                        [disabled]=\"!form.get('attendees')?.value?.length\"\n                        class=\"clear bg-transparent border-none underline\"\n                        (click)=\"show_people = !show_people\"\n                    >\n                        {{ show_people ? 'Hide' : 'Show' }}\n                    </button>\n                    <a\n                        btn\n                        matRipple\n                        class=\"clear underline\"\n                        [routerLink]=\"['/book', 'spaces', 'form']\"\n                        >Edit</a\n                    >\n                </div>\n                <div\n                    list\n                    [style.height]=\"\n                        !show_people\n                            ? '0'\n                            : form.get('attendees')?.value?.length * 3 + 'rem'\n                    \"\n                    class=\"overflow-hidden\"\n                >\n                    <div\n                        class=\"flex items-center h-12 pl-12 space-x-2\"\n                        *ngFor=\"let user of form.get('attendees')?.value\"\n                    >\n                        <a-user-avatar\n                            class=\"text-sm\"\n                            [user]=\"user\"\n                        ></a-user-avatar>\n                        <span>{{ user.name || user.email }}</span>\n                    </div>\n                </div>\n            </div>\n            <div\n                class=\"border-b border-base-200 w-full\"\n                *ngIf=\"form.value.catering?.length\"\n            >\n                <div class=\"flex items-center py-2 space-x-2 \">\n                    <div class=\"p-2 rounded-full bg-base-200 mr-2\">\n                        <app-icon>group</app-icon>\n                    </div>\n                    <div class=\"flex-1 truncate\">\n                        {{ form.value.catering[0]?.item_count || 0 }}\n                        Catering Item(s)\n                    </div>\n                    <button\n                        matRipple\n                        class=\"clear bg-transparent border-none underline\"\n                        (click)=\"show_catering = !show_catering\"\n                    >\n                        {{ show_people ? 'Hide' : 'Show' }}\n                    </button>\n                    <a\n                        btn\n                        matRipple\n                        class=\"clear underline\"\n                        [routerLink]=\"['/book', 'spaces', 'form']\"\n                        >Edit</a\n                    >\n                </div>\n                <div\n                    list\n                    [style.height]=\"\n                        !show_catering\n                            ? '0'\n                            : form.value.catering[0]?.items.length * 3 + 'rem'\n                    \"\n                    class=\"overflow-hidden\"\n                >\n                    <div\n                        class=\"flex items-center h-12 pl-12 space-x-2\"\n                        *ngFor=\"let item of form.value.catering[0]?.items\"\n                    >\n                        <div class=\"flex-1 w-1/2\">\n                            <div class=\"flex-1 w-1/2\">{{ item.name }}</div>\n                            <div\n                                class=\"text-xs underline\"\n                                *ngIf=\"item.options.length\"\n                                [matTooltip]=\"optionsFor(item)\"\n                            >\n                                {{ item.options.length }} option{{\n                                    item.options.length === 1 ? '' : 's'\n                                }}\n                                selected\n                            </div>\n                        </div>\n                        <div\n                            class=\"bg-primary text-xs rounded px-4 py-2 mx-2 text-white font-medium\"\n                        >\n                            {{ item.total_cost / 100 | currency: code }}\n                        </div>\n                        <a-counter [(ngModel)]=\"item.quantity\"></a-counter>\n                    </div>\n                </div>\n            </div>\n            <button\n                matRipple\n                class=\"w-32\"\n                confirm\n                [disabled]=\"loading\"\n                (click)=\"postForm()\"\n            >\n                <span *ngIf=\"!loading\">Confirm</span>\n                <mat-spinner\n                    class=\"mx-auto\"\n                    [diameter]=\"24\"\n                    *ngIf=\"loading\"\n                ></mat-spinner>\n            </button>\n        </div>\n        <\n    `,\n    styles: [\n        `\n            :host {\n                height: 100%;\n                width: 100%;\n                display: flex;\n                flex-direction: column;\n            }\n\n            [topbar] {\n                background-color: #00539f;\n            }\n\n            [list] {\n                transition: height 200ms;\n            }\n        `,\n    ],\n})\nexport class SpaceFlowConfirmComponent {\n    public show_spaces = false;\n    public show_people = false;\n    public show_catering = false;\n    public loading = false;\n\n    public readonly postForm = async () => {\n        this.loading = true;\n        await this._state\n            .postForm()\n            .catch((_) =>\n                notifyError(\n                    _ instanceof Object ? _.message || 'Bad Request' : _\n                )\n            );\n        this.loading = false;\n    };\n\n    public optionsFor(item: CateringItem) {\n        return item.options.map((i) => i.name).join('\\n');\n    }\n\n    public get can_view_location() {\n        return !this._settings.get('app.no_maps');\n    }\n\n    public get form() {\n        return this._state.form;\n    }\n\n    public get code() {\n        return this._org.currency_code;\n    }\n\n    constructor(\n        private _org: OrganisationService,\n        private _state: EventFormService,\n        private _settings: SettingsService\n    ) {}\n}\n","import { Component, Input, EventEmitter, Output } from '@angular/core';\nimport { FormGroup } from '@angular/forms';\nimport { CateringOrder, CateringStateService } from '@placeos/catering';\nimport { SettingsService } from '@placeos/common';\nimport { EventFlowOptions } from '@placeos/events';\nimport { OrganisationService } from '@placeos/organisation';\n\n@Component({\n    selector: 'detailed-book-space-form',\n    template: `\n        <form *ngIf=\"form\" [formGroup]=\"form\">\n            <section class=\"mb-4 border-b border-base-200\">\n                <div\n                    class=\"flex flex-col sm:flex-row space-x-0 sm:space-x-2 w-[640px] max-w-[calc(100%-2rem)] mx-auto\"\n                >\n                    <div class=\"flex flex-col flex-1 w-full sm:w-1/3\">\n                        <label for=\"date\">Date</label>\n                        <a-date-field name=\"date\" formControlName=\"date\">\n                            Date and time must be in the future\n                        </a-date-field>\n                    </div>\n                    <div class=\"flex flex-col flex-1 w-full sm:w-1/3\">\n                        <label for=\"start-time\">Start Time</label>\n                        <a-time-field\n                            name=\"start-time\"\n                            [ngModel]=\"form.value.date\"\n                            (ngModelChange)=\"form.patchValue({ date: $event })\"\n                            [ngModelOptions]=\"{ standalone: true }\"\n                        ></a-time-field>\n                    </div>\n                    <div class=\"flex flex-col flex-1 w-full sm:w-1/3 relative\">\n                        <label for=\"end-time\">End Time</label>\n                        <a-duration-field\n                            name=\"end-time\"\n                            formControlName=\"duration\"\n                            [time]=\"form.value.date\"\n                            [max]=\"max_duration\"\n                        >\n                        </a-duration-field>\n                        <mat-checkbox\n                            formControlName=\"all_day\"\n                            *ngIf=\"allow_all_day\"\n                            class=\"absolute top-0 right-0\"\n                        >\n                            All Day\n                        </mat-checkbox>\n                    </div>\n                </div>\n                <div\n                    class=\"flex flex-col sm:flex-row space-x-0 sm:space-x-2 w-[640px] max-w-[calc(100%-2rem)] mx-auto\"\n                >\n                    <div\n                        class=\"flex flex-col flex-1 w-full\"\n                        *ngIf=\"show_features && features?.length\"\n                    >\n                        <label for=\"building\">Building</label>\n                        <mat-form-field\n                            overlay\n                            buildings\n                            class=\"w-full h-[3.25rem]\"\n                            *ngIf=\"(buildings | async)?.length > 1\"\n                            appearance=\"outline\"\n                        >\n                            <mat-select\n                                placeholder=\"Select Building...\"\n                                [ngModel]=\"building\"\n                                (ngModelChange)=\"setBuilding($event)\"\n                                [ngModelOptions]=\"{ standalone: true }\"\n                            >\n                                <mat-option\n                                    *ngFor=\"let bld of buildings | async\"\n                                    [value]=\"bld\"\n                                >\n                                    {{ bld.display_name || bld.name }}\n                                </mat-option>\n                            </mat-select>\n                        </mat-form-field>\n                    </div>\n                    <div\n                        class=\"flex flex-col flex-1 w-full\"\n                        *ngIf=\"show_features && features?.length\"\n                    >\n                        <label for=\"features\">Features</label>\n                        <mat-form-field\n                            class=\"w-full h-[3.25rem]\"\n                            overlay\n                            appearance=\"outline\"\n                        >\n                            <mat-select\n                                [placeholder]=\"'Any ' + features_label\"\n                                multiple\n                                [ngModel]=\"options?.features\"\n                                (ngModelChange)=\"\n                                    optionsChange.emit({ features: $event })\n                                \"\n                                [ngModelOptions]=\"{ standalone: true }\"\n                            >\n                                <mat-option\n                                    *ngFor=\"let item of features\"\n                                    [value]=\"item\"\n                                >\n                                    {{ item }}\n                                </mat-option>\n                            </mat-select>\n                        </mat-form-field>\n                    </div>\n                </div>\n            </section>\n            <section\n                class=\"mb-4 border-b border-base-200\"\n                *ngIf=\"can_book_for_others || !hide_attendees\"\n            >\n                <div\n                    class=\"flex flex-col w-[640px] max-w-[calc(100%-2rem)] mx-auto\"\n                    *ngIf=\"can_book_for_others\"\n                >\n                    <label for=\"host\">Host<span>*</span></label>\n                    <host-select-field\n                        name=\"host\"\n                        formControlName=\"organiser\"\n                    ></host-select-field>\n                </div>\n                <div\n                    class=\"flex flex-col w-[640px] max-w-[calc(100%-2rem)] mx-auto mb-2\"\n                    *ngIf=\"!hide_attendees\"\n                >\n                    <label for=\"attendees\">Attendees</label>\n                    <a-user-list-field\n                        name=\"attendees\"\n                        [hide_actions]=\"hide_actions\"\n                        formControlName=\"attendees\"\n                    ></a-user-list-field>\n                </div>\n            </section>\n            <section class=\"mb-4 border-b border-base-200\">\n                <div class=\"w-[640px] max-w-[calc(100%-2rem)] mx-auto\">\n                    <div class=\"flex flex-col\">\n                        <label for=\"title\"\n                            >Meeting Subject <span>*</span></label\n                        >\n                        <mat-form-field appearance=\"outline\">\n                            <input\n                                name=\"title\"\n                                matInput\n                                formControlName=\"title\"\n                                placeholder=\"Meeting title\"\n                            />\n                            <mat-error>Meeting Subject is required</mat-error>\n                        </mat-form-field>\n                    </div>\n                    <div\n                        class=\"flex flex-col resize-y mb-4\"\n                        *ngIf=\"!hide_notes\"\n                    >\n                        <label for=\"notes\">Notes</label>\n                        <rich-text-input\n                            name=\"notes\"\n                            formControlName=\"body\"\n                            placeholder=\"Add meeting notes here...\"\n                        ></rich-text-input>\n                    </div>\n                    <div class=\"flex flex-col mb-4\" *ngIf=\"has_catering\">\n                        <label>Catering</label>\n                        <an-action-field (onAction)=\"editCatering()\">\n                            <div\n                                class=\"opacity-40\"\n                                *ngIf=\"!form?.value.catering?.length\"\n                            >\n                                Add catering\n                            </div>\n                            <div\n                                class=\"flex items-center\"\n                                *ngIf=\"form?.value.catering?.length\"\n                            >\n                                <div class=\"flex-1 w-1/2\">\n                                    {{ form?.value.catering[0].item_count }}\n                                    item(s)\n                                </div>\n                                <div class=\"text-xs opacity-60 px-4\">\n                                    {{\n                                        form?.value.catering[0].total_cost / 100\n                                            | currency: code\n                                    }}\n                                </div>\n                            </div>\n                        </an-action-field>\n                    </div>\n                </div>\n            </section>\n        </form>\n    `,\n    styles: [``],\n})\nexport class DetailBookSpaceFormComponent {\n    @Input() public form: FormGroup;\n    @Input() public options: EventFlowOptions;\n    @Input() public features: string[] = [];\n    @Output() public optionsChange = new EventEmitter<EventFlowOptions>();\n\n    public readonly buildings = this._org.building_list;\n    public readonly setBuilding = (b) => (this._org.building = b);\n\n    public get building() {\n        return this._org.building;\n    }\n\n    public get has_catering() {\n        return !!this._settings.get('app.events.has_catering');\n    }\n\n    public get hide_actions() {\n        return !!this._settings.get('app.events.hide_user_actions');\n    }\n\n    public get hide_notes() {\n        return !!this._settings.get('app.events.hide_notes');\n    }\n\n    public get hide_attendees() {\n        return !!this._settings.get('app.events.hide_attendees');\n    }\n\n    public get can_book_for_others() {\n        return this._settings.get('app.events.can_book_for_others');\n    }\n\n    public get allow_all_day() {\n        return this._settings.get('app.events.allow_all_day');\n    }\n\n    public get max_duration() {\n        return this._settings.get('app.events.max_duration') || 4 * 60;\n    }\n\n    public get show_features() {\n        return !!this._settings.get('app.events.features_on_form');\n    }\n\n    public get features_label() {\n        return this._settings.get('app.events.features_label') || 'feature';\n    }\n\n    public get code() {\n        return this._org.currency_code;\n    }\n\n    public readonly editCatering = async () =>\n        this.form.patchValue({\n            catering: [\n                await this._catering.manageCateringOrder(\n                    (this.form.value.catering\n                        ? this.form.value.catering[0]\n                        : null) || new CateringOrder()\n                ),\n            ],\n        });\n\n    constructor(\n        private _catering: CateringStateService,\n        private _org: OrganisationService,\n        private _settings: SettingsService\n    ) {}\n}\n","import { Component, EventEmitter, Input, Output } from '@angular/core';\nimport { MatDialog } from '@angular/material/dialog';\nimport { Space } from '@placeos/spaces';\nimport { MapLocateModalComponent } from '@placeos/components';\n\n@Component({\n    selector: 'space-flow-find-item',\n    template: `\n        <div\n            class=\"flex items-center bg-base-100 p-2 my-2 shadow w-[640px] max-w-[calc(100%-2rem)] mx-auto rounded\"\n        >\n            <div class=\"flex flex-col flex-1 space-y-2 \">\n                <div class=\"flex items-center\">\n                    <div class=\"p-2 rounded-full bg-base-200 mr-2\">\n                        <app-icon>place</app-icon>\n                    </div>\n                    <span\n                        >{{ space?.level?.display_name || space?.level?.name }},\n                        {{ space?.display_name || space?.name }}</span\n                    >\n                </div>\n                <div class=\"flex items-center\">\n                    <div class=\"p-2 rounded-full bg-base-200 mr-2\">\n                        <app-icon>group</app-icon>\n                    </div>\n                    <span>{{ space?.capacity || 0 }} People</span>\n                </div>\n            </div>\n            <div class=\"flex flex-col space-y-2 ml-2\">\n                <button\n                    matRipple\n                    book\n                    [class.bg-warning]=\"multiple && book\"\n                    [class.border-pending]=\"multiple && book\"\n                    (click)=\"bookSpace()\"\n                >\n                    {{ multiple ? (book ? 'Remove' : 'Select') : 'Book' }}\n                </button>\n                <button\n                    locate\n                    btn\n                    matRipple\n                    class=\"inverse\"\n                    (click)=\"viewLocation()\"\n                >\n                    Map\n                </button>\n            </div>\n        </div>\n    `,\n    styles: [\n        `\n            button {\n                width: 8rem;\n            }\n        `,\n    ],\n})\nexport class SpaceFlowFindItemComponent {\n    /** Space to display details for */\n    @Input() public space: Space;\n    /** Whether space should be booked */\n    @Input() public multiple: boolean;\n    /** Whether space should be booked */\n    @Input() public book: boolean;\n    /** Emitter for changes to book value */\n    @Output() public bookChange = new EventEmitter<boolean>();\n\n    constructor(private _dialog: MatDialog) {}\n\n    public bookSpace() {\n        this.book = this.multiple ? !this.book : true;\n        this.bookChange.emit(this.book);\n    }\n\n    public viewLocation() {\n        this._dialog.open(MapLocateModalComponent, {\n            maxWidth: '95vw',\n            maxHeight: '95vh',\n            data: { item: this.space },\n        });\n    }\n}\n","import { Component, OnInit, Optional } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { HashMap, SettingsService } from '@placeos/common';\nimport { EventFormService } from '@placeos/events';\nimport { OrganisationService } from '@placeos/organisation';\nimport { Space } from '@placeos/spaces';\nimport { SpacePipe } from 'libs/spaces/src/lib/space.pipe';\nimport { combineLatest } from 'rxjs';\nimport { filter, first, map, take } from 'rxjs/operators';\n\n@Component({\n    selector: 'space-flow-find',\n    template: `\n        <div topbar class=\"\">\n            <a\n                class=\"clear h-[2.75rem] text-white\"\n                btn\n                matRipple\n                [routerLink]=\"['/book', 'spaces', 'form']\"\n            >\n                <div class=\"flex items-center justify-center h-full\">\n                    <app-icon class=\"text-xl\">arrow_back</app-icon>\n                    <span class=\"ml-2 mx-4\">Back</span>\n                </div>\n            </a>\n        </div>\n        <div filters>\n            <div class=\"w-[640px] max-w-[calc(100%-2rem)] mx-auto py-4\">\n                <h2 class=\"text-xl uppercase font-medium text-white\">\n                    Available Spaces\n                </h2>\n                <div\n                    class=\"flex flex-col items-center sm:flex-row space-x-0 sm:space-x-2\"\n                >\n                    <mat-form-field\n                        overlay\n                        buildings\n                        class=\"w-full sm:w-px sm:flex-1 h-[3.25rem]\"\n                        *ngIf=\"(buildings | async)?.length > 1\"\n                        appearance=\"outline\"\n                    >\n                        <mat-select\n                            placeholder=\"Select Building...\"\n                            [ngModel]=\"building | async\"\n                            (ngModelChange)=\"setBuilding($event)\"\n                        >\n                            <mat-option\n                                *ngFor=\"let bld of buildings | async\"\n                                [value]=\"bld\"\n                            >\n                                {{ bld.display_name || bld.name }}\n                            </mat-option>\n                        </mat-select>\n                    </mat-form-field>\n                    <mat-form-field\n                        class=\"w-full sm:w-px sm:flex-1 h-[3.25rem]\"\n                        overlay\n                        *ngIf=\"(levels | async)?.length > 0\"\n                        appearance=\"outline\"\n                    >\n                        <mat-select\n                            placeholder=\"Level\"\n                            [ngModel]=\"\n                                (options | async)?.zone_ids?.length\n                                    ? (options | async)?.zone_ids[0]\n                                    : ''\n                            \"\n                            (ngModelChange)=\"setOptions({ zone_ids: [$event] })\"\n                        >\n                            <mat-option\n                                *ngFor=\"let item of levels | async\"\n                                [value]=\"item.id\"\n                            >\n                                {{ item.display_name || item.name }}\n                            </mat-option>\n                        </mat-select>\n                    </mat-form-field>\n                    <mat-form-field\n                        class=\"w-full sm:w-px sm:flex-1 h-[3.25rem] hidden sm:block\"\n                        overlay\n                        appearance=\"outline\"\n                    >\n                        <mat-select\n                            placeholder=\"Any Capacity\"\n                            [ngModel]=\"(options | async)?.capacity\"\n                            (ngModelChange)=\"setOptions({ capacity: $event })\"\n                        >\n                            <mat-option\n                                *ngFor=\"let item of quick_capacities\"\n                                [value]=\"item.value\"\n                            >\n                                {{ item.name }}\n                            </mat-option>\n                        </mat-select>\n                    </mat-form-field>\n                    <mat-form-field\n                        class=\"w-full sm:w-px sm:flex-1 h-[3.25rem] hidden sm:block\"\n                        overlay\n                        appearance=\"outline\"\n                        *ngIf=\"(features | async)?.length\"\n                    >\n                        <mat-select\n                            [placeholder]=\"'Any ' + features_label\"\n                            multiple\n                            [ngModel]=\"(options | async)?.features\"\n                            (ngModelChange)=\"setOptions({ features: $event })\"\n                        >\n                            <mat-option\n                                *ngFor=\"let item of features | async\"\n                                [value]=\"item\"\n                            >\n                                {{ item }}\n                            </mat-option>\n                        </mat-select>\n                    </mat-form-field>\n                </div>\n            </div>\n        </div>\n        <div class=\"flex-1 w-full bg-base-200 overflow-auto\">\n            <ng-container *ngIf=\"!(loading | async); else load_state\">\n                <ng-container\n                    *ngIf=\"(spaces | async)?.length > 0; else empty_state\"\n                >\n                    <space-flow-find-item\n                        *ngFor=\"let space of spaces | async\"\n                        class=\"w-[640px] max-w-[calc(100%-2rem)] mx-auto \"\n                        [space]=\"space\"\n                        [multiple]=\"multiple\"\n                        [book]=\"book_space[space.id]\"\n                        (bookChange)=\"handleBookEvent(space, $event)\"\n                    ></space-flow-find-item>\n                    <p class=\"p-4 text-center opacity-60\">\n                        End of available spaces list\n                    </p>\n                </ng-container>\n            </ng-container>\n        </div>\n        <div *ngIf=\"multiple\" class=\"bg-base-100 border-t border-base-200\">\n            <div\n                class=\"flex items-center w-[640px] max-w-[calc(100%-2rem)] mx-auto p-2\"\n            >\n                <div class=\"flex-1 underline\" [matMenuTriggerFor]=\"menu\">\n                    {{ space_list?.length }} space(s) selected\n                </div>\n                <button\n                    class=\"w-32\"\n                    [disabled]=\"!space_list?.length\"\n                    btn\n                    matRipple\n                    (click)=\"confirmBooking()\"\n                >\n                    Book\n                </button>\n            </div>\n            <mat-menu #menu=\"matMenu\" yPosition=\"above\">\n                <div\n                    class=\"flex items-center pointer-events-none leading-tight\"\n                    mat-menu-item\n                    *ngFor=\"let space of space_list\"\n                >\n                    <div class=\"flex flex-col mr-4\">\n                        <div>{{ space.display_name || space.name }}</div>\n                        <div class=\"text-xs opacity-70\">\n                            {{ space.level?.display_name || space.level?.name }}\n                            ~ {{ space.capacity || '2+' }} People\n                        </div>\n                    </div>\n                    <button\n                        icon\n                        matRipple\n                        class=\"pointer-events-auto\"\n                        (click)=\"\n                            this.handleBookEvent(space, false);\n                            $event.stopPropagation()\n                        \"\n                    >\n                        <app-icon>close</app-icon>\n                    </button>\n                </div>\n                <div\n                    mat-menu-item\n                    class=\" opacity-60\"\n                    *ngIf=\"!space_list?.length\"\n                >\n                    No selected spaces\n                </div>\n            </mat-menu>\n        </div>\n        <ng-template #load_state>\n            <div\n                class=\"h-full w-full flex flex-col items-center justify-center space-y-2\"\n            >\n                <mat-spinner [diameter]=\"32\"></mat-spinner>\n                <p>Retrieving available spaces...</p>\n            </div>\n        </ng-template>\n        <ng-template #empty_state>\n            <div\n                class=\"h-full w-full flex flex-col items-center justify-center space-y-2 p-8 text-center\"\n            >\n                <p>\n                    No available spaces for selected time, capacity or level(s)\n                </p>\n            </div>\n        </ng-template>\n    `,\n    styles: [\n        `\n            :host {\n                height: 100%;\n                width: 100%;\n                display: flex;\n                flex-direction: column;\n            }\n\n            [topbar] {\n                background-color: var(--secondary-dark);\n            }\n\n            [filters] {\n                background-color: var(--p);\n            }\n        `,\n    ],\n    providers: [SpacePipe],\n})\nexport class SpaceFlowFindComponent implements OnInit {\n    public book_space: HashMap<boolean> = {};\n    public quick_capacities = [\n        { name: 'Any Capacity', value: 0 },\n        { name: 'Small (1 - 4)', value: 1 },\n        { name: 'Medium (5 - 12)', value: 5 },\n        { name: 'Large (13 - 32)', value: 13 },\n        { name: 'Huge (32+)', value: 33 },\n    ];\n\n    public space_list: Space[] = [];\n\n    /** List of available buildings */\n    public readonly buildings = this._org.building_list;\n    /** Currently active building */\n    public readonly building = this._org.active_building;\n\n    public readonly levels = combineLatest([\n        this.building,\n        this._state.options,\n    ]).pipe(\n        filter(([_]) => !!_),\n        map(([bld]) => [\n            {\n                id: this._org.building.id,\n                name: 'All Levels',\n            },\n            ...this._org.levelsForBuilding(bld),\n        ])\n    );\n\n    public readonly loading = this._state.loading;\n    public readonly options = this._state.options;\n\n    public readonly spaces = this._state.available_spaces;\n    public readonly features = this._state.features;\n    public async setBuilding(bld) {\n        const opts = await this.options.pipe(take(1)).toPromise();\n        if (bld) this._org.building = bld;\n        const levels = this._org.levelsForBuilding(this._org.building);\n        const lvl = levels.find((_) => opts.zone_ids?.includes(_.id));\n        if (!lvl && levels.length) {\n            this.setOptions({ zone_ids: [levels[0].id] });\n        }\n    }\n\n    public readonly setOptions = (o) => this._state.setOptions(o);\n\n    public get multiple() {\n        return this._settings.get('app.events.multiple_spaces') ?? false;\n    }\n\n    public get features_label() {\n        return this._settings.get('app.events.features_label') || 'feature';\n    }\n\n    constructor(\n        private _org: OrganisationService,\n        private _state: EventFormService,\n        private _settings: SettingsService,\n        private _router: Router,\n        private _space_pipe: SpacePipe\n    ) {}\n\n    public async ngOnInit() {\n        await this._org.initialised.pipe(first((_) => !!_)).toPromise();\n        this.setBuilding(this._org.building);\n        this.book_space = {};\n        const resources = this._state.form?.get('resources')?.value || [];\n        resources.forEach((_) => (this.book_space[_.id] = true));\n        this.space_list = await this._getSpaceList();\n    }\n\n    public async handleBookEvent(space: Space, book: boolean = true) {\n        if (this.multiple) {\n            this.book_space[space.id] = book;\n        } else {\n            this.book_space = {};\n            this.book_space[space.id] = book;\n            this.confirmBooking();\n        }\n        this.space_list = await this._getSpaceList();\n    }\n\n    public async confirmBooking() {\n        const spaces = await this._getSpaceList();\n        this._state.form.patchValue({\n            resources: spaces,\n            system: spaces[0] as any,\n        });\n        this._router.navigate(['/book', 'spaces', 'confirm']);\n    }\n\n    private _getSpaceList() {\n        const id_list = Object.keys(this.book_space).filter(\n            (k) => this.book_space[k]\n        );\n        return id_list.length\n            ? Promise.all(id_list.map((_) => this._space_pipe.transform(_)))\n            : Promise.resolve([]);\n    }\n}\n","import { Component } from '@angular/core';\nimport { Router } from '@angular/router';\nimport {\n    currentUser,\n    getInvalidFields,\n    notifyError,\n    SettingsService,\n} from '@placeos/common';\nimport { EventFormService } from '@placeos/events';\nimport { addDays, addMinutes, roundToNearestMinutes, setHours } from 'date-fns';\n\n@Component({\n    selector: 'space-flow-form',\n    template: `\n        <section form class=\"flex-1 min-h-[50%]\">\n            <h2\n                class=\"text-xl uppercase font-medium mb-2 mt-4 w-[640px] max-w-[calc(100%-2rem)] mx-auto\"\n            >\n                {{ is_edit ? 'Edit' : 'Detailed' }} Space Booking\n            </h2>\n            <detailed-book-space-form\n                [form]=\"form\"\n                [options]=\"options | async\"\n                (optionsChange)=\"setOptions($event)\"\n                [features]=\"features | async\"\n            ></detailed-book-space-form>\n            <div\n                class=\"flex flex-col sm:flex-row items-center justify-center space-x-0 space-y-2 sm:space-y-0 sm:space-x-2 w-[640px] max-w-[calc(100%-2rem)] mx-auto mb-4\"\n            >\n                <button\n                    class=\"sm:flex-1 w-full sm:w-auto h-[2.75rem] inverse\"\n                    btn\n                    matRipple\n                    clear\n                    (click)=\"clearForm()\"\n                >\n                    <div class=\"flex items-center justify-center\">\n                        <app-icon class=\"text-xl\">clear</app-icon>\n                        <span class=\"ml-2 mx-4\">{{\n                            is_edit ? 'Cancel Edit' : 'Clear Form'\n                        }}</span>\n                    </div>\n                </button>\n                <button\n                    class=\"sm:flex-1 w-full sm:w-auto h-[2.75rem]\"\n                    btn\n                    matRipple\n                    find-space\n                    (click)=\"findSpace()\"\n                >\n                    <div class=\"flex items-center justify-center\">\n                        <app-icon class=\"text-xl\">search</app-icon>\n                        <span class=\"ml-2 mx-4\">{{\n                            is_edit ? 'Update Spaces' : 'Find Space'\n                        }}</span>\n                    </div>\n                </button>\n                <button\n                    class=\"sm:flex-1 w-full sm:w-auto h-[2.75rem]\"\n                    btn\n                    matRipple\n                    standalone\n                    *ngIf=\"is_edit || allow_standalone_bookings\"\n                    (click)=\"confirmBooking()\"\n                >\n                    <div class=\"flex items-center justify-center\">\n                        <app-icon class=\"text-xl\">event_available</app-icon>\n                        <span class=\"ml-2 mx-4\">{{\n                            is_edit ? 'Confirm changes' : 'Book without Space'\n                        }}</span>\n                    </div>\n                </button>\n            </div>\n        </section>\n    `,\n    styles: [\n        `\n            :host {\n                height: 100%;\n                width: 100%;\n                display: flex;\n                flex-direction: column;\n                overflow: auto;\n            }\n\n            [quick] {\n                background-color: #007ac8;\n            }\n        `,\n    ],\n})\nexport class SpaceFlowFormComponent {\n    public time = 0;\n    public capacity = 0;\n\n    public readonly quick_times = [\n        { name: 'Now', value: 0 },\n        { name: 'Later Today', value: 120 },\n        {\n            name: 'Tomorrow',\n            value: setHours(addDays(new Date(), 1), 9).valueOf(),\n        },\n    ];\n\n    public readonly quick_capacities = [\n        { name: 'Any Capacity', value: 0 },\n        { name: 'Small (1 - 4)', value: 1 },\n        { name: 'Medium (5 - 12)', value: 5 },\n        { name: 'Large (13 - 32)', value: 13 },\n        { name: 'Huge (32+)', value: 33 },\n    ];\n\n    public readonly options = this._state.options;\n    public readonly features = this._state.features;\n    public readonly setOptions = (o) => this._state.setOptions(o);\n\n    public get is_edit() {\n        return !!this.form?.value?.id;\n    }\n\n    public get form() {\n        return this._state.form;\n    }\n\n    public get allow_standalone_bookings() {\n        return this._settings.get('app.events.allow_standalone_bookings');\n    }\n\n    public readonly clearForm = () => {\n        this.time = this.capacity = 0;\n        this._state.clearForm();\n    };\n\n    constructor(\n        private _state: EventFormService,\n        private _settings: SettingsService,\n        private _router: Router\n    ) {}\n\n    public quickBook() {\n        if (!this.form.value.host)\n            this.form.patchValue({ host: currentUser()?.email });\n        this.form.patchValue({\n            date: (this.time < 24 * 60\n                ? addMinutes(\n                      roundToNearestMinutes(new Date(), { nearestTo: 5 }),\n                      this.time\n                  )\n                : setHours(addDays(new Date(), 1), 8)\n            ).valueOf(),\n            title: 'Ad-hoc Meeting',\n        });\n        this._state.setOptions({ capacity: this.capacity });\n        this._router.navigate(['/book', 'spaces', 'find']);\n    }\n\n    public findSpace() {\n        this.form.markAllAsTouched();\n        if (!this.form.value.host)\n            this.form.patchValue({ host: currentUser()?.email });\n        if (!this.form.valid)\n            return notifyError(\n                `Some fields are invalid. [${getInvalidFields(this.form).join(\n                    ', '\n                )}]`\n            );\n        this._router.navigate(['/book', 'spaces', 'find']);\n    }\n\n    public confirmBooking() {\n        if (!this.form.value.host)\n            this.form.patchValue({ host: currentUser()?.email });\n        this.form.markAllAsTouched();\n        if (!this.form.valid)\n            return notifyError(\n                `Some fields are invalid. [${getInvalidFields(this.form).join(\n                    ', '\n                )}]`\n            );\n        this._router.navigate(['/book', 'spaces', 'confirm']);\n    }\n}\n","import { Component } from '@angular/core';\nimport { Router } from '@angular/router';\n\n@Component({\n    selector: 'placeos-book-space-flow',\n    template: `\n        <div class=\"bg-base-200 h-full w-full overflow-auto\">\n            <div\n                class=\"w-full h-full sm:h-auto max-w-[48rem] mx-auto sm:my-4 bg-base-100 shadow border border-base-200 overflow-hidden\"\n            >\n                <invite-visitor-form (done)=\"onDone()\"></invite-visitor-form>\n            </div>\n        </div>\n    `,\n    styles: [\n        `\n            :host {\n                position: relative;\n                height: 100%;\n                width: 100%;\n            }\n        `,\n    ],\n})\nexport class VisitorFlowComponent {\n    constructor(private _router: Router) {}\n\n    public onDone() {\n        this._router.navigate(['/']);\n    }\n}\n","export * from './lib/catering.module';\nexport * from './lib/catering';\nexport * from './lib/charge-code-list-modal.component';","import { Component, EventEmitter, Output } from '@angular/core';\nimport { csvToJson, DialogEvent, downloadFile } from '@placeos/common';\nimport { CateringItem } from './catering-item.class';\n\n@Component({\n    selector: 'catering-import-menu-modal',\n    template: `\n        <header class=\"h-12 bg-primary flex items-center justify-between px-4\">\n            <h2>Import Catering Menu</h2>\n            <button icon mat-dialog-close *ngIf=\"!loading\">\n                <app-icon>close</app-icon>\n            </button>\n        </header>\n        <main *ngIf=\"!loading; else load_state\">\n            <div\n                class=\"relative flex flex-col items-center justify-center space-y-2 h-[24rem] w-[24rem] border-4 border-base-200 border-dashed rounded-xl hover:bg-base-200 m-4 p-4 cursor-pointer\"\n            >\n                <app-icon class=\"text-4xl\">upload</app-icon>\n                <p>Click to select file or Drag and drop files</p>\n                <input\n                    type=\"file\"\n                    class=\"absolute inset-0 opacity-0\"\n                    (change)=\"handleFileEvent($event)\"\n                />\n            </div>\n            <div class=\"flex items-center justify-center px-4 pb-4\">\n                <button\n                    matRipple\n                    class=\"clear underline w-48\"\n                    (click)=\"downloadTemplate()\"\n                >\n                    Download Template\n                </button>\n            </div>\n        </main>\n        <ng-template #load_state>\n            <main\n                class=\"flex flex-col items-center justify-center space-y-2 p-8 h-[24rem] w-[24rem]\"\n            >\n                <mat-spinner diameter=\"32\"></mat-spinner>\n                <p>{{ loading }}</p>\n            </main>\n        </ng-template>\n    `,\n    styles: [``],\n})\nexport class CateringImportMenuModalComponent {\n    @Output() public event = new EventEmitter<DialogEvent>();\n    public loading: string;\n\n    /** Upload the image to the cloud */\n    public handleFileEvent(event: DragEvent) {\n        this.loading = 'Processing menu data...';\n        const element: HTMLInputElement = event.target as any;\n        if (!element?.files) return (this.loading = '');\n        const files: FileList = element.files;\n        if (!files.length) return (this.loading = '');\n        const file = files[0];\n        const fileReader = new FileReader();\n        fileReader.addEventListener('loadend', (e: any) => {\n            const contents = e.target.result;\n            const data = csvToJson(contents);\n            this.loading = '';\n            this.event.emit({\n                reason: 'done',\n                metadata: data\n                    .filter((_) => (_.type || '').toLowerCase() === 'item')\n                    .map(\n                        (i) =>\n                            new CateringItem({\n                                ...i,\n                                options: data\n                                    .filter(\n                                        (_) =>\n                                            (_.type || '').toLowerCase() ===\n                                                'option' && _.tags === i.id\n                                    )\n                                    .map((_) => ({\n                                        id: _.id,\n                                        name: _.name,\n                                        group: _.category,\n                                        multiple: _.multiple,\n                                        unit_price: _.unit_price,\n                                    })),\n                            })\n                    ),\n            });\n        });\n        fileReader.readAsText(file);\n    }\n\n    public downloadTemplate() {\n        const template = `ID,Type,Name,Unit Price,Category,Description,Tags,Multiple\nitem-1,item,Coffee,200,Drink,Wake Up,,\noption-1,option,1 Sugar,20,Sugars,,item-1,false`;\n        downloadFile('import-menu-template.csv', template);\n    }\n}\n","import { COMMA, ENTER, SPACE } from '@angular/cdk/keycodes';\nimport { Component, EventEmitter, Inject, Output } from '@angular/core';\nimport { FormControl, FormGroup, Validators } from '@angular/forms';\nimport { MatChipInputEvent } from '@angular/material/chips';\nimport { MAT_DIALOG_DATA } from '@angular/material/dialog';\nimport { DialogEvent, randomInt } from '@placeos/common';\nimport { CateringItem } from './catering-item.class';\n\nexport interface CateringItemModalData {\n    item: CateringItem;\n    categories?: string[];\n}\n\n@Component({\n    selector: 'catering-item-modal',\n    template: `\n        <header>\n            <h3>{{ item.id ? 'Edit' : 'Add' }} Item</h3>\n            <button icon matRipple mat-dialog-close *ngIf=\"!loading\">\n                <app-icon>close</app-icon>\n            </button>\n        </header>\n        <form\n            class=\"p-4 overflow-auto max-h-[65vh]\"\n            *ngIf=\"form && !loading; else load_state\"\n            [formGroup]=\"form\"\n        >\n            <div class=\"flex items-center space-x-2\">\n                <div class=\"flex flex-col\" *ngIf=\"form.controls.name\">\n                    <label\n                        for=\"title\"\n                        [class.error]=\"\n                            form.controls.name.invalid &&\n                            form.controls.name.touched\n                        \"\n                    >\n                        Name<span>*</span>:\n                    </label>\n                    <mat-form-field appearance=\"outline\">\n                        <input\n                            matInput\n                            name=\"name\"\n                            placeholder=\"Item name\"\n                            formControlName=\"name\"\n                        />\n                        <mat-error>Name is required</mat-error>\n                    </mat-form-field>\n                </div>\n                <div class=\"flex flex-col\" *ngIf=\"form.controls.category\">\n                    <label\n                        for=\"category\"\n                        [class.error]=\"\n                            form.controls.category.invalid &&\n                            form.controls.category.touched\n                        \"\n                    >\n                        Category<span>*</span>:\n                    </label>\n                    <mat-form-field appearance=\"outline\">\n                        <input\n                            matInput\n                            name=\"category\"\n                            placeholder=\"Category\"\n                            formControlName=\"category\"\n                            [matAutocomplete]=\"auto\"\n                        />\n                        <mat-error>Category is required</mat-error>\n                    </mat-form-field>\n                </div>\n            </div>\n            <div class=\"flex flex-col\" *ngIf=\"form.controls.tags\">\n                <label\n                    for=\"tags\"\n                    [class.error]=\"\n                        form.controls.tags.invalid && form.controls.tags.touched\n                    \"\n                    i18n=\"@@tagsLabel\"\n                >\n                    Tags:\n                </label>\n                <mat-form-field appearance=\"outline\">\n                    <mat-chip-grid #chipList aria-label=\"Item Tags\">\n                        <mat-chip-row\n                            *ngFor=\"let item of tag_list\"\n                            (removed)=\"removeTag(item)\"\n                        >\n                            {{ item }}\n                            <button\n                                matChipRemove\n                                [attr.aria-label]=\"'Remove ' + item\"\n                            >\n                                <app-icon>cancel</app-icon>\n                            </button>\n                        </mat-chip-row>\n                    </mat-chip-grid>\n                    <input\n                        name=\"tags\"\n                        placeholder=\"Item tags e.g. Gluten Free, Vegan etc.\"\n                        i18n-placeholder=\"@@zoneTagsPlaceholder\"\n                        [matChipInputFor]=\"chipList\"\n                        [matChipInputSeparatorKeyCodes]=\"separators\"\n                        [matChipInputAddOnBlur]=\"true\"\n                        (matChipInputTokenEnd)=\"addTag($event)\"\n                    />\n                </mat-form-field>\n            </div>\n            <div class=\"flex flex-col\" *ngIf=\"form.controls.description\">\n                <label for=\"description\">Description:</label>\n                <mat-form-field appearance=\"outline\">\n                    <textarea\n                        matInput\n                        name=\"description\"\n                        placeholder=\"Item Description\"\n                        formControlName=\"description\"\n                    ></textarea>\n                </mat-form-field>\n            </div>\n            <div class=\"flex flex-col\" *ngIf=\"form.controls.unit_price\">\n                <label\n                    for=\"title\"\n                    [class.error]=\"\n                        form.controls.unit_price.invalid &&\n                        form.controls.unit_price.touched\n                    \"\n                >\n                    Unit Price<span>*</span>:\n                </label>\n                <mat-form-field appearance=\"outline\">\n                    <input\n                        matInput\n                        name=\"unit-price\"\n                        type=\"number\"\n                        placeholder=\"Unit Price\"\n                        formControlName=\"unit_price\"\n                    />\n                    <mat-error>Unit Price is required</mat-error>\n                </mat-form-field>\n            </div>\n            <div class=\"flex items-center\">\n                <label class=\"flex-none w-28 min-w-0\">Accept Points?</label>\n                <mat-checkbox formControlName=\"accept_points\">{{\n                    form.get('accept_points')?.value ? 'No' : 'Yes'\n                }}</mat-checkbox>\n            </div>\n            <div class=\"flex items-center flex-wrap max-w-lg\" list>\n                <mat-checkbox\n                    [ngModel]=\"hasTag('Gluten Free')\"\n                    (ngModelChange)=\"\n                        $event\n                            ? addTag({ value: 'Gluten Free' })\n                            : removeTag('Gluten Free')\n                    \"\n                    [ngModelOptions]=\"{ standalone: true }\"\n                >\n                    Gluten Free (GF)\n                </mat-checkbox>\n                <mat-checkbox\n                    [ngModel]=\"hasTag('Vegan')\"\n                    (ngModelChange)=\"\n                        $event ? addTag({ value: 'Vegan' }) : removeTag('Vegan')\n                    \"\n                    [ngModelOptions]=\"{ standalone: true }\"\n                >\n                    Vegan (VG)\n                </mat-checkbox>\n                <mat-checkbox\n                    [ngModel]=\"hasTag('Vegetarian')\"\n                    (ngModelChange)=\"\n                        $event\n                            ? addTag({ value: 'Vegetarian' })\n                            : removeTag('Vegetarian')\n                    \"\n                    [ngModelOptions]=\"{ standalone: true }\"\n                >\n                    Vegetarian (V)\n                </mat-checkbox>\n                <mat-checkbox\n                    [ngModel]=\"hasTag('Contains Dairy')\"\n                    (ngModelChange)=\"\n                        $event\n                            ? addTag({ value: 'Contains Dairy' })\n                            : removeTag('Contains Dairy')\n                    \"\n                    [ngModelOptions]=\"{ standalone: true }\"\n                >\n                    Contains Dairy (D)\n                </mat-checkbox>\n                <mat-checkbox\n                    [ngModel]=\"hasTag('Contains Nuts')\"\n                    (ngModelChange)=\"\n                        $event\n                            ? addTag({ value: 'Contains Nuts' })\n                            : removeTag('Contains Nuts')\n                    \"\n                    [ngModelOptions]=\"{ standalone: true }\"\n                >\n                    Contains Nuts (N)\n                </mat-checkbox>\n            </div>\n            <div class=\"flex items-center\">\n                <label class=\"flex-1 w-24 min-w-0\">Discount Cap</label>\n                <a-counter\n                    class=\"border border-base-200 rounded\"\n                    formControlName=\"discount_cap\"\n                    [min]=\"0\"\n                    [max]=\"100\"\n                    [step]=\"5\"\n                    [render_fn]=\"renderPercent\"\n                ></a-counter>\n            </div>\n            <div class=\"flex flex-col\" *ngIf=\"form.controls.images\">\n                <label for=\"images\" i18n=\"@@imagesLabel\">Images:</label>\n                <image-list-field\n                    name=\"images\"\n                    formControlName=\"images\"\n                ></image-list-field>\n            </div>\n        </form>\n        <footer\n            *ngIf=\"!loading\"\n            class=\"flex p-2 items-center justify-center border-t border-solid border-base-200\"\n        >\n            <button\n                btn\n                matRipple\n                [disabled]=\"!form.dirty\"\n                (click)=\"saveChanges()\"\n            >\n                Save\n            </button>\n        </footer>\n        <ng-template #load_state>\n            <div class=\"flex flex-col items-center p-8 space-y-2 w-64\">\n                <mat-spinner diameter=\"32\"></mat-spinner>\n                <p>Saving catering item...</p>\n            </div>\n        </ng-template>\n        <mat-autocomplete #auto=\"matAutocomplete\">\n            <mat-option *ngFor=\"let option of categories\" [value]=\"option\">\n                {{ option }}\n            </mat-option>\n        </mat-autocomplete>\n    `,\n    styles: [\n        `\n            [list] mat-checkbox {\n                margin: 0.5rem;\n            }\n        `,\n    ],\n})\nexport class CateringItemModalComponent {\n    /** Emitter for events on the modal */\n    @Output() public event = new EventEmitter<DialogEvent>();\n    /** Form fields for item */\n    public form = new FormGroup({\n        name: new FormControl(this.item.name || '', [Validators.required]),\n        description: new FormControl(this.item.description || ''),\n        category: new FormControl(this.item.category || '', [\n            Validators.required,\n        ]),\n        unit_price: new FormControl(this.item.unit_price, [\n            Validators.required,\n        ]),\n        tags: new FormControl(this.item.tags || []),\n        accept_points: new FormControl(this.item.accept_points || false),\n        discount_cap: new FormControl(this.item.discount_cap || 0),\n        images: new FormControl(this.item.images || []),\n    });\n    /** Whether changes are being saved */\n    public loading = false;\n    /** List of separator characters for tags */\n    public readonly separators: number[] = [ENTER, COMMA, SPACE];\n\n    /** Current item details */\n    public get item(): CateringItem {\n        return this._data.item || new CateringItem();\n    }\n\n    /** List of available categories */\n    public get categories(): string[] {\n        return this._data.categories || [];\n    }\n\n    public get tag_list(): string[] {\n        return this.form.controls.tags.value;\n    }\n\n    public renderPercent(value: number = 0) {\n        return `${value}%`;\n    }\n\n    public hasTag(tag: string) {\n        return this.tag_list.includes(tag);\n    }\n\n    constructor(\n        @Inject(MAT_DIALOG_DATA) private _data: CateringItemModalData\n    ) {}\n\n    /**\n     * Add a tag to the list of tags for the item\n     * @param event Input event\n     */\n    public addTag(event: MatChipInputEvent): void {\n        if (!this.form || !this.form.controls.tags) return;\n        this.form.controls.tags.markAsDirty();\n        const input = event.input;\n        const value = event.value;\n        const tag_list = this.tag_list;\n        if ((value || '').trim()) {\n            tag_list.push(value);\n            this.form.controls.tags.setValue(tag_list);\n        }\n\n        // Reset the input value\n        if (input) input.value = '';\n    }\n\n    /**\n     * Remove tag from the list\n     * @param existing_tag Tag to remove\n     */\n    public removeTag(existing_tag: string): void {\n        if (!this.form || !this.form.controls.tags) return;\n        const tag_list = this.tag_list;\n        this.form.controls.tags.markAsDirty();\n        const index = tag_list.indexOf(existing_tag);\n\n        if (index >= 0) {\n            tag_list.splice(index, 1);\n            this.form.controls.tags.setValue(tag_list);\n        }\n    }\n\n    public saveChanges() {\n        this.loading = true;\n        this.event.emit({\n            reason: 'done',\n            metadata: {\n                item: new CateringItem({\n                    ...this.item,\n                    id: this.item.id || `item-${randomInt(9999_9999)}`,\n                    ...this.form.value,\n                }),\n            },\n        });\n    }\n}\n","import { Component, forwardRef, Input, SimpleChanges } from '@angular/core';\nimport { ControlValueAccessor, NG_VALUE_ACCESSOR } from '@angular/forms';\nimport { MatDialog } from '@angular/material/dialog';\nimport {\n    ANIMATION_SHOW_CONTRACT_EXPAND,\n    randomString,\n    SettingsService,\n} from '@placeos/common';\n\nimport { CateringItem } from 'libs/catering/src/lib/catering-item.class';\nimport { NewCateringOrderModalComponent } from 'libs/catering/src/lib/catering-order-modal/new-catering-order-modal.component';\nimport { CateringOrder } from './catering-order.class';\nimport { Organisation, OrganisationService } from '@placeos/organisation';\nimport { endOfDay, format, startOfDay } from 'date-fns';\n\nconst EMPTY_FAVS = [];\n\n@Component({\n    selector: `catering-list-field`,\n    template: `\n        <div list class=\"space-y-2\">\n            <div\n                order\n                *ngFor=\"let order of orders\"\n                class=\"border shadow bg-base-100 rounded-xl overflow-hidden\"\n                [class.border-error]=\"end_time < order.deliver_at\"\n                [class.border-base-300]=\"end_time >= order.deliver_at\"\n            >\n                <div class=\"flex items-center space-x-2 p-4\">\n                    <div class=\"flex-1\">\n                        <div class=\"flex items-center space-x-4\">\n                            <div>\n                                Order for\n                                {{ order.deliver_at_time | date: 'mediumDate' }}\n                                at\n                                {{ order.deliver_at_time | date: time_format }}\n                            </div>\n                            <div\n                                class=\"flex items-center justify-center h-6 w-6 rounded-full bg-error text-error-content\"\n                                [matTooltip]=\"err_tooltip\"\n                                *ngIf=\"end_time < order.deliver_at\"\n                            >\n                                <app-icon>priority_high</app-icon>\n                            </div>\n                        </div>\n                        <div class=\"text-xs opacity-60\">\n                            {{ order.item_count }} item(s) for\n                            {{\n                                order.total_cost / 100 | currency: currency_code\n                            }}\n                        </div>\n                    </div>\n                    <button\n                        icon\n                        matRipple\n                        matTooltip=\"Duplicate Order\"\n                        *ngIf=\"!disabled\"\n                        (click)=\"duplicateOrder(order)\"\n                    >\n                        <app-icon>content_copy</app-icon>\n                    </button>\n                    <button\n                        icon\n                        matRipple\n                        matTooltip=\"Edit Order\"\n                        *ngIf=\"!disabled\"\n                        (click)=\"editOrder(order)\"\n                    >\n                        <app-icon>edit</app-icon>\n                    </button>\n                    <button\n                        icon\n                        matRipple\n                        matTooltip=\"Remove Order\"\n                        class=\"text-error\"\n                        *ngIf=\"!disabled\"\n                        (click)=\"removeOrder(order)\"\n                    >\n                        <app-icon>delete</app-icon>\n                    </button>\n                    <button\n                        icon\n                        matRipple\n                        [matTooltip]=\"\n                            show_order[order.id]\n                                ? 'Hide order items'\n                                : 'Show order items'\n                        \"\n                        (click)=\"show_order[order.id] = !show_order[order.id]\"\n                    >\n                        <app-icon>\n                            {{\n                                show_order[order.id]\n                                    ? 'expand_less'\n                                    : 'expand_more'\n                            }}\n                        </app-icon>\n                    </button>\n                </div>\n                <div\n                    class=\"flex flex-col bg-base-200 divide-y divide-base-100\"\n                    [@show]=\"show_order[order.id] ? 'show' : 'hide'\"\n                >\n                    <div\n                        class=\"flex items-center px-4 py-1 space-x-2 hover:opacity-90\"\n                        *ngFor=\"let item of order.items\"\n                    >\n                        <div class=\"flex items-center flex-1\">\n                            {{ item.name || 'Item' }}\n                            <span\n                                class=\"text-xs opacity-60 ml-4 font-normal\"\n                                *ngIf=\"item.option_list?.length\"\n                                [matTooltip]=\"optionList(item)\"\n                            >\n                                {{ item.option_list?.length || '0' }} option(s)\n                            </span>\n                        </div>\n                        <div\n                            class=\"rounded bg-success text-success-content text-xs px-2 py-1\"\n                        >\n                            x{{ item.quantity }}\n                        </div>\n                        <div\n                            class=\"rounded bg-info text-info-content text-xs px-2 py-1\"\n                        >\n                            {{\n                                item.unit_price_with_options / 100\n                                    | currency: currency_code\n                            }}\n                            ea\n                        </div>\n                        <button\n                            icon\n                            matRipple\n                            matTooltip=\"Remove Order Item\"\n                            class=\"text-error\"\n                            *ngIf=\"!disabled\"\n                            (click)=\"removeOrderItem(order, item)\"\n                        >\n                            <app-icon>delete</app-icon>\n                        </button>\n                        <button\n                            icon\n                            matRipple\n                            name=\"toggle-catering-item-favourite\"\n                            [matTooltip]=\"\n                                favorites.includes(item.id)\n                                    ? 'Remove from favourites'\n                                    : 'Add to favourites'\n                            \"\n                            [class.text-blue-400]=\"favorites.includes(item.id)\"\n                            (click)=\"toggleFavourite(item)\"\n                        >\n                            <app-icon>{{\n                                favorites.includes(item.id)\n                                    ? 'favorite'\n                                    : 'favorite_border'\n                            }}</app-icon>\n                        </button>\n                    </div>\n                </div>\n            </div>\n        </div>\n        <button\n            btn\n            matRipple\n            name=\"add-catering-item\"\n            class=\"w-full inverse mt-2\"\n            [disabled]=\"disabled\"\n            (click)=\"editOrder()\"\n        >\n            <div class=\"flex items-center justify-center space-x-2\">\n                <app-icon>search</app-icon>\n                <span>Add Order</span>\n            </div>\n        </button>\n    `,\n    styles: [``],\n    animations: [ANIMATION_SHOW_CONTRACT_EXPAND],\n    providers: [\n        {\n            provide: NG_VALUE_ACCESSOR,\n            /* istanbul ignore next */\n            useExisting: forwardRef(() => CateringListFieldComponent),\n            multi: true,\n        },\n    ],\n})\nexport class CateringListFieldComponent implements ControlValueAccessor {\n    @Input() public options: {\n        date?: number;\n        duration?: number;\n        all_day?: boolean;\n        zone_id?: string;\n    } = {};\n    public orders: CateringOrder[] = [];\n    public show_order: Record<string, boolean> = {};\n    public disabled = false;\n    public err_tooltip =\n        'Delivery time is outside of the event time.\\nThis order will be ignored.';\n\n    private _onChange: (_: CateringOrder[]) => void;\n    private _onTouch: (_: CateringOrder[]) => void;\n    public selected: CateringOrder[] = [];\n\n    public get favorites() {\n        return (\n            this._settings.get<string[]>('favourite_menu_items') || EMPTY_FAVS\n        );\n    }\n\n    public get end_time() {\n        const time =\n            (this.options.date || Date.now()) +\n            (this.options.duration || 30) * 60 * 1000;\n        return this.options.all_day ? endOfDay(time).valueOf() : time;\n    }\n\n    public get time_format() {\n        return this._settings.time_format || 'shortTime';\n    }\n\n    public get currency_code() {\n        return this._org.building?.currency || 'USD';\n    }\n\n    constructor(\n        private _settings: SettingsService,\n        private _org: OrganisationService,\n        private _dialog: MatDialog\n    ) {}\n\n    /**\n     * Update the form field value\n     * @param new_value New value to set on the form field\n     */\n    public setValue(new_value: CateringOrder[]) {\n        this.orders = new_value;\n        if (this._onChange) this._onChange(this.orders);\n    }\n\n    public ngOnChanges(changes: SimpleChanges) {\n        if (changes.options) {\n            this.orders = (this.orders || []).map(\n                (_) => new CateringOrder({ ..._, event: this.options as any })\n            );\n        }\n    }\n\n    /**\n     * Update local value when form control value is changed\n     * @param value The new value for the component\n     */\n    public writeValue(value: CateringOrder[]) {\n        this.orders = (value || []).map(\n            (_) => new CateringOrder({ ..._, event: this.options as any })\n        );\n    }\n\n    public readonly registerOnChange = (fn: (_: CateringOrder[]) => void) =>\n        (this._onChange = fn);\n    public readonly registerOnTouched = (fn: (_: CateringOrder[]) => void) =>\n        (this._onTouch = fn);\n    public readonly setDisabledState = (s: boolean) => (this.disabled = s);\n\n    public removeOrder(order: CateringItem) {\n        const updated_list = this.orders.filter((_) => _.id !== order.id);\n        this.setValue(updated_list);\n    }\n\n    public duplicateOrder(order: CateringOrder) {\n        const new_order = new CateringOrder({\n            ...order,\n            id: `order-${randomString(8)}`,\n        });\n        this.setValue([...this.orders, new_order]);\n    }\n\n    public removeOrderItem(order: CateringOrder, item: CateringItem) {\n        const new_order = new CateringOrder({\n            ...order,\n            items: order.items.filter((_) => _.custom_id !== item.custom_id),\n        });\n        const updated_list = this.orders.filter((_) => _.id !== order.id);\n        if (new_order.items.length > 0) {\n            this.setValue([...updated_list, new_order]);\n        } else this.setValue(updated_list);\n    }\n\n    public editOrder(order: CateringOrder = new CateringOrder()) {\n        const ref = this._dialog.open(NewCateringOrderModalComponent, {\n            data: {\n                items: order.items,\n                details: {\n                    ...this.options,\n                    date: this.options.all_day\n                        ? startOfDay(this.options.date).valueOf()\n                        : this.options.date,\n                    duration: this.options.all_day\n                        ? Math.max(24 * 60, this.options.duration)\n                        : this.options.duration,\n                },\n                exact_time: !!order.deliver_time,\n                offset: order.deliver_offset,\n                offset_day: order.deliver_day_offset,\n            },\n        });\n        ref.afterClosed().subscribe((items?: CateringItem[]) => {\n            const orders = this.orders.filter((_) => _.id !== order.id);\n            if (!items?.length) return;\n            const time = new Date(this.options.date);\n            for (const item of items) {\n                (item as any).options = [\n                    ...item.options.map((_) => ({ ..._ })),\n                ];\n                for (const option of item.options) {\n                    const opt = item.option_list.find(\n                        (_) => _.id === option.id\n                    );\n                    option.active = !!opt;\n                }\n            }\n            const new_order = new CateringOrder({\n                ...order,\n                items,\n                event: this.options as any,\n                deliver_offset: ref.componentInstance.offset,\n                deliver_time: ref.componentInstance.exact_time\n                    ? time.getHours() + time.getMinutes() / 60\n                    : null,\n                deliver_day_offset: ref.componentInstance.offset_day || 0,\n            });\n            if (new_order.item_count <= 0) return;\n            this.setValue([...orders, new_order]);\n        });\n    }\n\n    public optionList(item: CateringItem) {\n        return item.option_list?.map((_) => _.name).join('\\n');\n    }\n\n    public toggleFavourite(cateringitem: CateringItem) {\n        const fav_list = this.favorites;\n        const new_state = !fav_list.includes(cateringitem.id);\n        if (new_state) {\n            this._settings.saveUserSetting('favourite_menu_items', [\n                ...fav_list,\n                cateringitem.id,\n            ]);\n        } else {\n            this._settings.saveUserSetting(\n                'favourite_menu_items',\n                fav_list.filter((_) => _ !== cateringitem.id)\n            );\n        }\n    }\n}\n","import { Component, Input } from '@angular/core';\nimport { unique } from '@placeos/common';\n\nimport { CateringItem } from './catering-item.class';\nimport { CateringStateService } from './catering-state.service';\nimport { CateringOption } from './catering.interfaces';\n\n@Component({\n    selector: '[catering-menu-item]',\n    template: `\n        <div\n            class=\"w-full h-full bg-base-100 border border-base-200 overflow-hidden rounded\"\n        >\n            <div item class=\"flex items-center px-2\" *ngIf=\"item\">\n                <mat-checkbox\n                    class=\"mr-2\"\n                    matTooltip=\"Allow Ordering Item\"\n                    [(ngModel)]=\"is_enabled\"\n                ></mat-checkbox>\n                <div class=\"flex items-center p-2 flex-1\">\n                    <div class=\"flex-1\">\n                        <div>{{ item.name }}</div>\n                        <div class=\"text-xs opacity-60\">\n                            {{ item.category }}\n                        </div>\n                    </div>\n                    <div\n                        class=\"p-2 m-2 text-xs font-bold text-secondary-content rounded bg-secondary\"\n                    >\n                        {{ item.unit_price / 100 | currency: (symbol | async) }}\n                    </div>\n                </div>\n                <button\n                    icon\n                    matRipple\n                    [matMenuTriggerFor]=\"menu\"\n                    *ngIf=\"can_edit\"\n                >\n                    <app-icon>more_vert</app-icon>\n                </button>\n                <button\n                    icon\n                    matRipple\n                    [disabled]=\"!item.options.length\"\n                    (click)=\"show_options = !show_options\"\n                >\n                    <app-icon>expand_more</app-icon>\n                </button>\n            </div>\n            <div\n                options\n                *ngIf=\"item\"\n                class=\"bg-base-200 overflow-hidden\"\n                [style.height]=\"\n                    show_options ? item.options.length * 3.5 + 'rem' : '0'\n                \"\n            >\n                <div\n                    class=\"flex p-2 items-center border-t border-solid border-base-200 relative\"\n                    *ngFor=\"let option of item.options\"\n                >\n                    <div\n                        class=\"absolute inset-y-0 left-0 w-2 bg-black opacity-10\"\n                    ></div>\n                    <div class=\"flex-1 pl-4 pr-2\">\n                        <div class=\"text\">{{ option.name }}</div>\n                        <div class=\"text-xs opacity-60\">\n                            {{ option.group }}\n                        </div>\n                    </div>\n                    <button\n                        edit\n                        icon\n                        matRipple\n                        class=\"mx-2\"\n                        (click)=\"editOption(option)\"\n                        *ngIf=\"can_edit\"\n                    >\n                        <app-icon>edit</app-icon>\n                    </button>\n                    <button\n                        remove\n                        icon\n                        matRipple\n                        class=\"mx-2\"\n                        (click)=\"removeOption(option)\"\n                        *ngIf=\"can_edit\"\n                    >\n                        <app-icon>delete</app-icon>\n                    </button>\n                </div>\n            </div>\n            <mat-menu #menu=\"matMenu\">\n                <button\n                    mat-menu-item\n                    class=\"flex items-center\"\n                    (click)=\"addOption()\"\n                >\n                    <app-icon>add</app-icon>\n                    <div class=\"ml-2\">Add Option</div>\n                </button>\n                <button\n                    mat-menu-item\n                    class=\"flex items-center\"\n                    (click)=\"editItem()\"\n                >\n                    <app-icon>edit</app-icon>\n                    <div class=\"ml-2\">Edit Item</div>\n                </button>\n                <button\n                    mat-menu-item\n                    class=\"flex items-center\"\n                    (click)=\"removeItem()\"\n                >\n                    <app-icon>delete</app-icon>\n                    <div class=\"ml-2\">Remove Item</div>\n                </button>\n            </mat-menu>\n        </div>\n    `,\n    styles: [\n        `\n            :host {\n                overflow: hidden;\n                width: 48rem;\n                margin: 0.5rem auto;\n                max-width: calc(100vw - 1rem);\n            }\n\n            button[mat-menu-item] {\n                display: flex;\n            }\n\n            [options] {\n                transition: height 200ms;\n            }\n        `,\n    ],\n})\nexport class CateringMenuItemComponent {\n    /** Item to display */\n    @Input() public item: CateringItem;\n    /** Whether to show item options */\n    public show_options = false;\n\n    public readonly addOption = () => this._catering.addOption(this.item);\n\n    public readonly editOption = (option: CateringOption) =>\n        this._catering.addOption(this.item, option);\n\n    public readonly removeOption = (option: CateringOption) =>\n        this._catering.deleteOption(this.item, option);\n\n    public readonly editItem = () => this._catering.addItem(this.item);\n\n    public readonly removeItem = () => this._catering.deleteItem(this.item);\n\n    public get can_edit() {\n        return this._catering.is_editable;\n    }\n\n    public get is_enabled() {\n        return !this.item.hide_for_zones.includes(this._catering.zone);\n    }\n\n    public set is_enabled(state: boolean) {\n        let list = this.item.hide_for_zones;\n        if (!state) list = unique([...list, this._catering.zone]);\n        else list = list.filter((_) => _ !== this._catering.zone);\n        this._catering.updateItem(\n            new CateringItem({ ...this.item, hide_for_zones: list })\n        );\n    }\n\n    /** Currency symbol for active menu */\n    public get symbol() {\n        return this._catering.currency;\n    }\n\n    constructor(private _catering: CateringStateService) {}\n}\n","import { Component } from '@angular/core';\nimport { BehaviorSubject } from 'rxjs';\nimport { map } from 'rxjs/operators';\n\nimport { CateringStateService } from './catering-state.service';\n\n@Component({\n    selector: 'catering-menu',\n    template: `\n        <mat-tab-group\n            class=\"h-full\"\n            (selectedIndexChange)=\"\n                shown_tab.next($event === 0 ? '' : categories[$event - 1])\n            \"\n        >\n            <mat-tab label=\"All Items\">\n                <ng-container *ngIf=\"(menu | async)?.length; else empty_state\">\n                    <ng-container *ngFor=\"let item of menu | async\">\n                        <div catering-menu-item [item]=\"item\"></div>\n                    </ng-container>\n                </ng-container>\n            </mat-tab>\n            <mat-tab\n                *ngFor=\"let group of categories\"\n                [attr.label]=\"group\"\n                [label]=\"group\"\n            >\n                <ng-container *ngFor=\"let item of (tab_menu | async)[group]\">\n                    <div catering-menu-item [item]=\"item\"></div>\n                </ng-container>\n            </mat-tab>\n        </mat-tab-group>\n        <ng-template #empty_state>\n            <div class=\"flex flex-col items-center p-8 space-y-2\">\n                <app-icon>close</app-icon>\n                <p>No items in menu</p>\n            </div>\n        </ng-template>\n    `,\n    styles: [\n        `\n            :host {\n                display: flex;\n                flex-direction: column;\n                height: 90%;\n                width: 100%;\n            }\n        `,\n    ],\n})\nexport class CateringMenuComponent {\n    /** Observable for the currently active menu */\n    public readonly menu = this._catering.menu;\n    /** Store for the currently selected tab */\n    public readonly shown_tab = new BehaviorSubject<string>('');\n    /** Observable for the menu list for the selected tab */\n    public readonly tab_menu = this.menu.pipe(\n        map((menu) => {\n            const menu_map = {};\n            for (const group of this.categories) {\n                menu_map[group] = menu.filter(\n                    (item) => item.category === group\n                );\n            }\n            return menu_map;\n        })\n    );\n\n    public get categories() {\n        return this._catering.categories;\n    }\n\n    constructor(private _catering: CateringStateService) {}\n}\n","import { Component, EventEmitter, Inject, OnInit, Output } from '@angular/core';\nimport { FormGroup, FormControl, Validators } from '@angular/forms';\nimport { MAT_DIALOG_DATA } from '@angular/material/dialog';\n\nimport { DialogEvent } from 'libs/common/src/lib/types';\nimport { randomInt } from 'libs/common/src/lib/general';\n\nimport { CateringItem } from './catering-item.class';\nimport { CateringOption } from './catering.interfaces';\n\nexport interface CateringItemOptionModalData {\n    parent: CateringItem;\n    option: CateringOption;\n    types: string[];\n}\n\n@Component({\n    selector: 'catering-option-modal',\n    template: `\n        <header>\n            <h3>{{ option.id ? 'Edit' : 'Add' }} Item Option</h3>\n            <button icon mat-dialog-close *ngIf=\"!loading\">\n                <app-icon>close</app-icon>\n            </button>\n        </header>\n        <form\n            class=\"p-4 overflow-auto max-h-[65vh]\"\n            *ngIf=\"form && !loading; else load_state\"\n            [formGroup]=\"form\"\n        >\n            <div class=\"flex flex-col\" *ngIf=\"form.controls.name\">\n                <label\n                    for=\"title\"\n                    [class.error]=\"\n                        form.controls.name.invalid && form.controls.name.touched\n                    \"\n                >\n                    Name<span>*</span>:\n                </label>\n                <mat-form-field appearance=\"outline\">\n                    <input\n                        matInput\n                        name=\"name\"\n                        placeholder=\"Item name\"\n                        formControlName=\"name\"\n                    />\n                    <mat-error>Name is required</mat-error>\n                </mat-form-field>\n            </div>\n            <div class=\"flex flex-col\" *ngIf=\"form.controls.group\">\n                <label\n                    for=\"group\"\n                    [class.error]=\"\n                        form.controls.group.invalid &&\n                        form.controls.group.touched\n                    \"\n                >\n                    Type<span>*</span>:\n                </label>\n                <mat-form-field appearance=\"outline\">\n                    <input\n                        matInput\n                        name=\"group\"\n                        placeholder=\"Type of option e.g. Number of sugars\"\n                        formControlName=\"group\"\n                        [matAutocomplete]=\"auto\"\n                    />\n                    <mat-error>Type is required</mat-error>\n                </mat-form-field>\n            </div>\n            <div class=\"flex flex-col\" *ngIf=\"form.controls.unit_price\">\n                <label for=\"title\">Unit Price:</label>\n                <mat-form-field appearance=\"outline\">\n                    <input\n                        matInput\n                        name=\"unit-price\"\n                        type=\"number\"\n                        placeholder=\"Unit Price\"\n                        formControlName=\"unit_price\"\n                    />\n                </mat-form-field>\n            </div>\n            <div class=\"flex flex-col\" *ngIf=\"form.controls.multiple\">\n                <mat-checkbox name=\"multiple\" formControlName=\"multiple\">\n                    Can select multiple of type\n                </mat-checkbox>\n            </div>\n        </form>\n        <footer\n            *ngIf=\"!loading\"\n            class=\"flex p-2 items-center justify-center border-t border-solid border-base-200\"\n        >\n            <button\n                btn\n                matRipple\n                [disabled]=\"!form.dirty\"\n                (click)=\"saveChanges()\"\n            >\n                Save\n            </button>\n        </footer>\n        <ng-template #load_state>\n            <div loading class=\"flex flex-col items-center p-8 space-y-2 w-64\">\n                <mat-spinner diameter=\"32\"></mat-spinner>\n                <p>Saving catering item option...</p>\n            </div>\n        </ng-template>\n        <mat-autocomplete #auto=\"matAutocomplete\">\n            <mat-option *ngFor=\"let option of types\" [value]=\"option\">\n                {{ option }}\n            </mat-option>\n        </mat-autocomplete>\n    `,\n    styles: [``],\n})\nexport class CateringItemOptionModalComponent {\n    /** Emitter for events on the modal */\n    @Output() public event = new EventEmitter<DialogEvent>();\n    /** Form fields for item */\n    public form = new FormGroup({\n        name: new FormControl(this.option.name || '', [Validators.required]),\n        group: new FormControl(this.option.group || '', [Validators.required]),\n        unit_price: new FormControl(this.option.unit_price),\n        multiple: new FormControl(!!this.option.multiple, []),\n    });\n    /** Whether changes are being saved */\n    public loading = false;\n\n    /** Current item details */\n    public get option(): CateringOption {\n        return this._data.option;\n    }\n\n    /** List of available categories */\n    public get types(): string[] {\n        return this._data.types || [];\n    }\n\n    constructor(\n        @Inject(MAT_DIALOG_DATA) private _data: CateringItemOptionModalData\n    ) {}\n\n    public saveChanges() {\n        this.loading = true;\n        const new_option = {\n            ...this.option,\n            id: this.option.id || `option-${randomInt(9999_9999)}`,\n            ...this.form.value,\n        } as CateringOption;\n        this.event.emit({\n            reason: 'done',\n            metadata: {\n                item: new CateringItem({\n                    ...this._data.parent,\n                    options: this._data.parent.options\n                        .filter((i) => i.id !== new_option.id)\n                        .concat([new_option]),\n                }),\n            },\n        });\n    }\n}\n","import { Component, Input } from '@angular/core';\n\nimport { CateringItem } from './catering-item.class';\n\nconst ACTIVE_ITEMS = new Set<string>();\n\n@Component({\n    selector: '[catering-order-item]',\n    template: `\n        <ng-container *ngIf=\"item\">\n            <div class=\"w-20 text-right h-14 relative\">\n                <div\n                    class=\"border-b-2 border-l-2 border-base-200 w-4 h-16 absolute top-1/2 left-1/2 -translate-y-full\"\n                ></div>\n            </div>\n            <div class=\"w-12 mr-4\">\n                <button\n                    action\n                    icon\n                    matRipple\n                    class=\"border border-base-200 border-dashed text-xl text-dark-fade p-2\"\n                    [class.bg-success]=\"active\"\n                    [class.text-white]=\"active\"\n                    [class.border-solid]=\"active\"\n                    (click)=\"toggle()\"\n                >\n                    <app-icon>{{ active ? 'done' : 'local_pizza' }}</app-icon>\n                </button>\n            </div>\n            <div\n                class=\"flex flex-1 border-b border-base-200 border-solid py-4 space-x-2\"\n            >\n                <div class=\"\">{{ item?.name }}</div>\n                <div class=\"flex-1\">\n                    <div\n                        class=\"p-1 rounded-full bg-neutral w-8 h-8 flex items-center justify-center\"\n                    >\n                        ⨯{{ item?.amount || item?.quantity || 1 }}\n                    </div>\n                </div>\n                <div class=\"flex space-x-2 mr-2\">\n                    <ng-container *ngFor=\"let opt of item.option_list\">\n                        <div\n                            class=\"text-xs py-1 px-2 bg-warning text-black rounded-2xl shadow\"\n                            *ngIf=\"opt\"\n                        >\n                            {{ opt.name }}\n                        </div>\n                    </ng-container>\n                </div>\n            </div>\n        </ng-container>\n    `,\n    styles: [\n        `\n            :host:last-child > div {\n                border: none !important;\n            }\n        `,\n    ],\n})\nexport class CateringOrderItemComponent {\n    @Input() public order_id: string;\n    @Input() public item: CateringItem;\n\n    public active = false;\n\n    public get item_key() {\n        return `${this.order_id}|${this.item?.id}`;\n    }\n\n    public ngOnInit() {\n        this.active = ACTIVE_ITEMS.has(this.item_key);\n    }\n\n    public toggle() {\n        if (ACTIVE_ITEMS.has(this.item_key)) {\n            ACTIVE_ITEMS.delete(this.item_key);\n            this.active = false;\n        } else {\n            ACTIVE_ITEMS.add(this.item_key);\n            this.active = true;\n        }\n    }\n}\n","import { Component, OnDestroy, OnInit } from '@angular/core';\nimport { CateringOrder } from './catering-order.class';\n\nimport { CateringOrdersService } from './catering-orders.service';\n\n@Component({\n    selector: 'catering-order-list',\n    template: `\n        <div\n            class=\"sticky top-0 w-full text-sm font-medium flex items-center py-4 border-solid border-b border-base-200 bg-base-100\"\n        >\n            <div class=\"w-20\"></div>\n            <div class=\"w-24\">Time</div>\n            <div class=\"w-36\">Meeting Time</div>\n            <div class=\"flex-1\">Location</div>\n            <div class=\"w-56\">Host</div>\n            <div class=\"w-28\">Charge Code</div>\n            <div class=\"w-24\">Notes</div>\n            <div class=\"w-28\">Invoice No.</div>\n            <div class=\"w-36\">Status</div>\n            <div class=\"w-12\"></div>\n        </div>\n        <ul class=\"list-none p-0 m-0 w-full flex-1 overflow-auto\">\n            <li\n                class=\"border-solid border-b border-base-200\"\n                *ngFor=\"let order of order_list | async; trackBy: trackByFn\"\n            >\n                <catering-order [order]=\"order\"></catering-order>\n            </li>\n            <div\n                empty\n                class=\"info-block opacity-60\"\n                *ngIf=\"!(order_list | async)?.length\"\n            >\n                <p class=\"p-4 text-center\">No Catering Orders</p>\n            </div>\n        </ul>\n        <mat-progress-bar\n            *ngIf=\"loading | async\"\n            class=\"w-full\"\n            mode=\"indeterminate\"\n        ></mat-progress-bar>\n    `,\n    styles: [\n        `\n            :host {\n                display: flex;\n                flex-direction: column;\n                height: 100%;\n                width: 100%;\n            }\n        `,\n    ],\n})\nexport class CateringOrderListComponent implements OnInit, OnDestroy {\n    /** List of filtered orders */\n    public readonly order_list = this._orders.filtered;\n    /** Whether order list is loading */\n    public readonly loading = this._orders.loading;\n\n    constructor(private _orders: CateringOrdersService) {}\n\n    public ngOnInit() {\n        this._orders.startPolling();\n    }\n\n    public ngOnDestroy() {\n        this._orders.stopPolling();\n    }\n\n    /* istanbul ignore next */\n    public trackByFn(index: number, order: CateringOrder) {\n        return order ? order.id : undefined;\n    }\n}\n","import { Component, Inject, Output, EventEmitter, OnInit } from '@angular/core';\nimport { MAT_DIALOG_DATA } from '@angular/material/dialog';\nimport { Observable } from 'rxjs';\n\nimport { AsyncHandler, DialogEvent, HashMap, unique } from '@placeos/common';\n\nimport { CateringItem } from './catering-item.class';\nimport { CateringOrder } from './catering-order.class';\nimport { CateringOption } from './catering.interfaces';\nimport { OrganisationService } from '@placeos/organisation';\nimport { cateringItemAvailable } from './utilities';\nimport { AttachedResourceRuleset } from '@placeos/components';\n\nexport interface CateringOrderModalData {\n    order: CateringOrder;\n    code: string;\n    menu: Observable<CateringItem[]>;\n    loading: Observable<boolean>;\n    getCateringConfig: (_: string) => Promise<AttachedResourceRuleset[]>;\n    selectOptions: (_: CateringOption[]) => Promise<CateringOption[]>;\n}\n\n// TODO: Split template into 2 children components. Order menu and Order Confirm;\n\n@Component({\n    selector: 'app-catering-order-modal',\n    template: `\n        <div class=\"main min-w-[20rem]\" *ngIf=\"!loading; else load_state\">\n            <ng-container *ngIf=\"!show_order_details; else order_details\">\n                <mat-tab-group>\n                    <ng-container *ngFor=\"let cat of categories\">\n                        <mat-tab\n                            *ngIf=\"(menu_items || {})[cat].length\"\n                            [label]=\"cat\"\n                        >\n                            <div class=\"list\">\n                                <div\n                                    item\n                                    class=\"flex items-center p-2 border-b border-base-200\"\n                                    *ngFor=\"let item of (menu_items || {})[cat]\"\n                                >\n                                    <div class=\"flex-1 w-1/2\">\n                                        <div class=\"flex-1 w-1/2\">\n                                            {{ item.name }}\n                                        </div>\n                                        <div\n                                            class=\"text-xs no-underline\"\n                                            *ngIf=\"item.options.length\"\n                                        >\n                                            Options Available\n                                        </div>\n                                    </div>\n                                    <div\n                                        class=\"bg-primary text-xs rounded px-4 py-2 mx-2 text-white font-medium\"\n                                    >\n                                        {{\n                                            item.unit_price / 100\n                                                | currency: code\n                                        }}\n                                    </div>\n                                    <a-counter\n                                        ngDefaultControl\n                                        [ngModel]=\"item.quantity\"\n                                        (ngModelChange)=\"\n                                            updateItemQuantity(item, $event)\n                                        \"\n                                        *ngIf=\"!item.options.length\"\n                                    ></a-counter>\n                                    <div\n                                        class=\"flex items-center\"\n                                        *ngIf=\"item.options.length\"\n                                    >\n                                        <div\n                                            [matTooltip]=\"\n                                                item.quantity\n                                                    ? 'Items with options must be removed from order confirmation page'\n                                                    : ''\n                                            \"\n                                        >\n                                            <button\n                                                icon\n                                                matRipple\n                                                [disabled]=\"true\"\n                                            >\n                                                <app-icon>remove</app-icon>\n                                            </button>\n                                        </div>\n                                        <div\n                                            class=\"count h-12 w-12 flex items-center justify-center\"\n                                        >\n                                            {{ item.quantity }}\n                                        </div>\n                                        <button\n                                            icon\n                                            matRipple\n                                            (click)=\"addItem(item)\"\n                                        >\n                                            <app-icon>add</app-icon>\n                                        </button>\n                                    </div>\n                                </div>\n                            </div>\n                        </mat-tab>\n                    </ng-container>\n                </mat-tab-group>\n            </ng-container>\n        </div>\n        <footer\n            *ngIf=\"!loading\"\n            class=\"flex items-center justify-center space-x-2 p-2 border-t border-base-200\"\n        >\n            <ng-container *ngIf=\"!show_order_details; else order_actions\">\n                <button btn matRipple class=\"inverse\" mat-dialog-close>\n                    Cancel\n                </button>\n                <button\n                    confirm\n                    btn\n                    matRipple\n                    [disabled]=\"!order.item_count\"\n                    [matBadge]=\"order.item_count\"\n                    [matBadgeHidden]=\"!order.item_count\"\n                    matBadgeColor=\"warn\"\n                    (click)=\"show_order_details = true\"\n                >\n                    Confirm\n                </button>\n            </ng-container>\n            <ng-template #order_actions>\n                <button\n                    matRipple\n                    class=\"inverse\"\n                    (click)=\"show_order_details = false\"\n                >\n                    Back\n                </button>\n                <button save btn matRipple (click)=\"saveOrder()\">\n                    Save Order\n                </button>\n            </ng-template>\n        </footer>\n        <ng-template #load_state>\n            <div class=\"flex flex-col w-64 p-8 items-center space-y-2\">\n                <mat-spinner diameter=\"32\"></mat-spinner>\n                <p>{{ loading }}</p>\n            </div>\n        </ng-template>\n        <ng-template #order_details>\n            <header class=\"h-[3.25rem]\">\n                <h3>Confirm Order</h3>\n            </header>\n            <div class=\"list\">\n                <div\n                    item\n                    class=\"flex items-center p-2 border-b border-base-200\"\n                    *ngFor=\"let item of order.items\"\n                >\n                    <div class=\"flex-1 w-1/2\">\n                        <div class=\"flex-1 w-1/2\">{{ item.name }}</div>\n                        <div\n                            class=\"text-xs underline\"\n                            *ngIf=\"item.options.length\"\n                            [matTooltip]=\"optionsFor(item)\"\n                        >\n                            {{ item.options.length }} option{{\n                                item.options.length === 1 ? '' : 's'\n                            }}\n                            selected\n                        </div>\n                    </div>\n                    <div\n                        class=\"bg-primary text-xs rounded px-4 py-2 mx-2 text-white font-medium\"\n                    >\n                        {{ item.total_cost / 100 | currency: code }}\n                    </div>\n                    <a-counter\n                        [ngModel]=\"item.quantity\"\n                        (ngModelChange)=\"updateItemQuantity(item, $event)\"\n                    ></a-counter>\n                </div>\n            </div>\n        </ng-template>\n    `,\n    styles: [\n        `\n            .list {\n                height: 24em;\n                min-width: 32em;\n                max-width: calc(100vw - 1em);\n            }\n\n            footer button {\n                min-width: 12em;\n            }\n\n            input {\n                position: relative;\n                width: 100%;\n                padding: 1em;\n                border: none;\n                border-radius: 0 !important;\n                border-top: 1px solid #ccc;\n                border-bottom: 1px solid #ccc;\n                outline: none;\n                font-size: 1em;\n            }\n\n            input:focus {\n                border: none;\n                border-top: 2px solid var(--s);\n                border-bottom: 2px solid var(--s);\n                box-shadow: none;\n            }\n\n            input.error::placeholder {\n                color: rgba(var(--error), 0.45);\n            }\n        `,\n    ],\n})\nexport class CateringOrderModalComponent\n    extends AsyncHandler\n    implements OnInit\n{\n    /** Emitter for events on the modal */\n    @Output() public event = new EventEmitter<DialogEvent>();\n    /** Whether changes are being saved */\n    public loading = '';\n    /** Current order */\n    public order: CateringOrder;\n    /** Name of the active category */\n    public category: string;\n    /** Whether order details should be shown */\n    public show_order_details: boolean;\n    /** Catering rules for selected space */\n    public rules: readonly AttachedResourceRuleset[];\n    /** List of menu items to show */\n    public menu_items: HashMap<CateringItem[]> = {};\n    /** List of categories for the active menu */\n    public categories: string[] = [];\n\n    public get code() {\n        return this._org.currency_code;\n    }\n\n    constructor(\n        private _org: OrganisationService,\n        @Inject(MAT_DIALOG_DATA) private _data: CateringOrderModalData\n    ) {\n        super();\n        this.loading = 'Loading menu...';\n    }\n\n    public async ngOnInit() {\n        this.loading = 'Loading menu...';\n        this.order = new CateringOrder(this._data.order);\n        this.rules = await this._data.getCateringConfig(\n            this.order.event?.space?.level?.parent_id\n        );\n        this._data.menu.subscribe((list) => {\n            this.loading = 'Loading menu...';\n            const categories = unique(list.map((item) => item.category));\n            const map = {};\n            for (const cat of categories) {\n                map[cat] = list.filter((item) => {\n                    return (\n                        item.category === cat &&\n                        cateringItemAvailable(\n                            item,\n                            this.rules as any,\n                            this.order.event\n                        )\n                    );\n                });\n            }\n            this.categories = categories;\n            this.menu_items = map;\n            this.updateMenuQuantities();\n            this.timeout('clear_loading', () => (this.loading = ''), 1000);\n        });\n    }\n\n    public addItem(item: CateringItem, choose_options: boolean = true) {\n        const old_item = this.order.items.find(\n            (itm) =>\n                itm.id === item.id &&\n                itm.options.length ===\n                    itm.options.reduce(\n                        (c, o) =>\n                            c +\n                            (item.options.find((opt) => o.id === opt.id)\n                                ? 1\n                                : 0),\n                        0\n                    )\n        );\n        if (choose_options && item.options?.length) {\n            this._data.selectOptions(item.options).then((options) => {\n                const new_item = new CateringItem({ ...item, options });\n                this.addItem(new_item, false);\n            });\n        } else if (old_item) {\n            this.order = new CateringOrder({\n                ...this.order,\n                items: this.order.items\n                    .filter(\n                        (i) =>\n                            !(\n                                i.id === item.id &&\n                                i.options_string === item.options_string\n                            )\n                    )\n                    .concat([\n                        new CateringItem({\n                            ...item,\n                            quantity: old_item.quantity + 1,\n                        }),\n                    ]),\n            });\n        } else {\n            this.order = new CateringOrder({\n                ...this.order,\n                items: this.order.items.concat([\n                    new CateringItem({ ...item, quantity: 1 }),\n                ]),\n            });\n        }\n        this.updateMenuQuantities();\n    }\n\n    public removeItem(item: CateringItem) {\n        this.order = new CateringOrder({\n            ...this.order,\n            items: this.order.items.filter(\n                (_) =>\n                    _.id !== item.id && _.options_string === item.options_string\n            ),\n        });\n        this.updateMenuQuantities();\n    }\n\n    public updateItemQuantity(item: CateringItem, amount: number) {\n        const old_item = this.order.items.find(\n            (itm) =>\n                itm.id === item.id && itm.options_string === item.options_string\n        );\n        let items = [...this.order.items];\n        if (old_item) {\n            items = this.order.items\n                .filter(\n                    (i) =>\n                        !(\n                            i.id === item.id &&\n                            i.options_string === item.options_string\n                        )\n                )\n                .concat([new CateringItem({ ...item, quantity: amount })]);\n        } else {\n            items = this.order.items.concat([\n                new CateringItem({ ...item, quantity: amount }),\n            ]);\n        }\n        items.sort((a, b) => a.name.localeCompare(b.name));\n        this.order = new CateringOrder({\n            ...this.order,\n            items,\n        });\n        this.updateMenuQuantities();\n    }\n\n    public updateMenuQuantities() {\n        for (const cat in this.menu_items) {\n            for (const item of this.menu_items[cat]) {\n                (item as any).quantity = this.order.items.reduce(\n                    (c, i) => (i.id === item.id ? c + i.quantity : c),\n                    0\n                );\n            }\n        }\n    }\n\n    public optionsFor(item: CateringItem) {\n        return item.options.map((i) => i.name).join('\\n');\n    }\n\n    public saveOrder() {\n        this.event.emit({\n            reason: 'done',\n            metadata: { order: this.order },\n        });\n    }\n\n    public confirmOrder() {\n        this.show_order_details = true;\n    }\n}\n","import {\n    Component,\n    EventEmitter,\n    Input,\n    Output,\n    SimpleChanges,\n} from '@angular/core';\nimport { unique } from '@placeos/common';\nimport { CateringItem } from '../catering-item.class';\nimport { CateringOption } from '../catering.interfaces';\n\ninterface CateringOptionGroup {\n    name: string;\n    multiple: boolean;\n    options: CateringOption[];\n}\n\n@Component({\n    selector: 'catering-item-details',\n    template: `\n        <ng-container *ngIf=\"item; else empty_state\">\n            <section image class=\"relative w-full h-64 sm:h-40 bg-neutral\">\n                <image-carousel\n                    [images]=\"item.images\"\n                    class=\"absolute inset-0\"\n                ></image-carousel>\n                <button\n                    icon\n                    matRipple\n                    name=\"close-catering-item-details\"\n                    (click)=\"close.emit()\"\n                    class=\"absolute top-2 left-2 bg-neutral sm:hidden text-white\"\n                >\n                    <app-icon>arrow_back</app-icon>\n                </button>\n                <button\n                    icon\n                    matRipple\n                    name=\"toggle-catering-item-favourite-details\"\n                    [class.text-white]=\"!fav\"\n                    [class.text-blue-400]=\"fav\"\n                    (click)=\"toggleFav.emit()\"\n                    class=\"absolute top-2 right-2 bg-neutral\"\n                >\n                    <app-icon>{{\n                        fav ? 'favorite' : 'favorite_border'\n                    }}</app-icon>\n                </button>\n            </section>\n            <div class=\"p-2 space-y-2 flex-1 h-1/2 overflow-auto\">\n                <section actions class=\"z-0 flex items-center justify-between\">\n                    <div>\n                        <h2 class=\"text-xl font-medium mb-2 mt-4\">\n                            {{ item.name }}\n                        </h2>\n                        <p *ngIf=\"item.unit_price\">\n                            {{ item.unit_price / 100 | currency: code }}\n                        </p>\n                    </div>\n                    <a-counter\n                        [(ngModel)]=\"item.quantity\"\n                        (ngModelChange)=\"\n                            active ? activeChange.emit(active) : ''\n                        \"\n                        [min]=\"1\"\n                        [max]=\"item.count || 10\"\n                    ></a-counter>\n                </section>\n                <section class=\"flex items-center flex-wrap\">\n                    <div\n                        class=\"px-2 py-1 rounded-2xl bg-base-200 text-sm capitalize m-1\"\n                        *ngFor=\"let tag of item.tags\"\n                    >\n                        {{ tag }}\n                    </div>\n                </section>\n                <hr />\n                <section details class=\"space-y-2\">\n                    <div class=\"flex flex-col flex-wrap\">\n                        <div\n                            class=\"min-w-1/2 flex-1\"\n                            *ngFor=\"let group of groups\"\n                            [attr.group]=\"group.name\"\n                        >\n                            <div class=\"font-medium p-2 capitalize\">\n                                {{ group.name }}\n                            </div>\n                            <div class=\"flex flex-col pl-4\">\n                                <ng-container\n                                    *ngIf=\"!group.multiple; else multi_options\"\n                                >\n                                    <mat-radio-group\n                                        class=\"flex flex-col\"\n                                        aria-label=\"Select an option\"\n                                        [(ngModel)]=\"group_state[group.name]\"\n                                        (ngModelChange)=\"\n                                            updateGroupOption(group, $event)\n                                        \"\n                                        [disabled]=\"item?.in_order\"\n                                    >\n                                        <mat-radio-button class=\"m-0\" value=\"\">\n                                            <span class=\"font-medium p-2\" i18n\n                                                >None</span\n                                            >\n                                        </mat-radio-button>\n                                        <mat-radio-button\n                                            class=\"m-0\"\n                                            *ngFor=\"let opt of group?.options\"\n                                            [value]=\"opt.id\"\n                                        >\n                                            <div\n                                                class=\"flex items-center justify-center max-w-[calc(100vw-4rem)] sm:max-w-[15rem]\"\n                                            >\n                                                <div\n                                                    class=\"font-medium p-2 flex-1 w-1/2 whitespace-normal\"\n                                                >\n                                                    {{ opt.name }}\n                                                </div>\n                                                <div\n                                                    class=\"opacity-60 text-xs\"\n                                                    *ngIf=\"opt.unit_price\"\n                                                >\n                                                    +{{\n                                                        opt.unit_price / 100\n                                                            | currency: code\n                                                    }}\n                                                </div>\n                                            </div>\n                                        </mat-radio-button>\n                                    </mat-radio-group>\n                                </ng-container>\n                                <ng-template #multi_options>\n                                    <mat-checkbox\n                                        *ngFor=\"let opt of group?.options\"\n                                        [(ngModel)]=\"option_state[opt.id]\"\n                                        (ngModelChange)=\"\n                                            updateCheckedState(opt.id, $event)\n                                        \"\n                                        [disabled]=\"item?.in_order\"\n                                    >\n                                        <div\n                                            class=\"flex items-center justify-center\"\n                                        >\n                                            <div\n                                                class=\"font-medium p-2 flex-1 w-1/2\"\n                                            >\n                                                {{ opt.name }}\n                                            </div>\n                                            <div\n                                                class=\"opacity-60 text-xs\"\n                                                *ngIf=\"opt.unit_price\"\n                                            >\n                                                +{{\n                                                    opt.unit_price / 100\n                                                        | currency: code\n                                                }}\n                                            </div>\n                                        </div>\n                                    </mat-checkbox>\n                                </ng-template>\n                            </div>\n                        </div>\n                    </div>\n                </section>\n            </div>\n            <div\n                class=\"px-2 pt-2 pb-[5.5rem] border-t border-base-200 shadow sm:hidden\"\n            >\n                <button\n                    btn\n                    matRipple\n                    name=\"select-catering-item-details\"\n                    [class.inverse]=\"active\"\n                    class=\"w-full\"\n                    (click)=\"active = !active; activeChange.emit(active)\"\n                >\n                    <div class=\"flex items-center justify-center\">\n                        <app-icon class=\"text-2xl\">{{\n                            active ? 'remove' : 'add'\n                        }}</app-icon>\n                        <p>\n                            {{ active ? 'Remove this item' : 'Add this item' }}\n                        </p>\n                    </div>\n                </button>\n            </div>\n        </ng-container>\n        <ng-template #empty_state>\n            <div\n                empty\n                class=\"p-16 flex flex-col items-center justify-center space-y-2\"\n            >\n                <p class=\"opacity-30 text-center\" i18n>\n                    Select an item to view it's details\n                </p>\n            </div>\n        </ng-template>\n    `,\n    styles: [\n        `\n            :host {\n                display: flex;\n                flex-direction: column;\n                width: 30%;\n                min-width: 20rem;\n                height: 100%;\n                min-height: 65vh;\n            }\n        `,\n    ],\n})\nexport class CateringItemDetailsComponent {\n    @Input() public item?: CateringItem;\n    @Input() public active: boolean = false;\n    @Input() public fav: boolean = false;\n    @Input() public code: string = 'USD';\n\n    @Output() public toggleFav = new EventEmitter<void>();\n    @Output() public activeChange = new EventEmitter<boolean>();\n    @Output() public close = new EventEmitter<void>();\n\n    public option_state: Record<string, boolean> = {};\n    public group_state: Record<string, string> = {};\n    public groups: CateringOptionGroup[];\n\n    public ngOnChanges(changes: SimpleChanges) {\n        if (changes.item && this.item) {\n            this._update();\n        }\n    }\n\n    public updateGroupOption(group: CateringOptionGroup, id: string) {\n        if (!group) return;\n        this.group_state[group.name] = id;\n        for (const option of group.options) {\n            option.active = option.id === id;\n        }\n    }\n\n    public updateCheckedState(id: string, state: boolean) {\n        const option = this.item?.options.find((_) => _.id === id);\n        if (option) option.active = state;\n    }\n\n    private _update() {\n        if (!this.item) return;\n        if (!this.item.quantity) {\n            (this.item as any).quantity = 1;\n        }\n        this.option_state = {};\n        this.group_state = {};\n        const groups = unique(this.item.options.map((i) => i.group || 'Other'));\n        const group_list = [];\n        for (const group of groups) {\n            const options = this.item.options.filter((i) => i.group === group);\n            group_list.push({\n                name: group,\n                multiple: !!options.find((i) => i.multiple),\n                options,\n            });\n        }\n        this.groups = group_list;\n        if (this.item.option_list) {\n            for (const opt of this.item.option_list) {\n                const option = this.item.options.find((_) => _.id === opt.id);\n                if (option) {\n                    option.active = true;\n                    this.option_state[opt.id] = true;\n                    this.updateGroupOption(\n                        this.groups.find((g) => g.name === option.group),\n                        option.id\n                    );\n                }\n            }\n        }\n    }\n}\n","import { Component, EventEmitter, Input, OnInit, Output } from '@angular/core';\nimport { take } from 'rxjs/operators';\nimport { CateringOrderStateService } from './catering-order-state.service';\nimport { AsyncHandler, SettingsService } from '@placeos/common';\nimport {\n    addDays,\n    addMinutes,\n    differenceInMinutes,\n    endOfDay,\n    format,\n    startOfDay,\n} from 'date-fns';\n\nconst ICONS = {\n    coffee: `<svg width=\"40\" height=\"40\" viewBox=\"0 0 40 40\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n    <g clip-path=\"url(#clip0_605_8664)\">\n    <path d=\"M38.388 21.2474C37.8243 20.7996 37.1598 20.4847 36.4474 20.3278C35.735 20.1708 34.9944 20.1762 34.2846 20.3434C34.2476 19.7774 34.2049 19.2037 34.1483 18.6155C34.1243 18.3664 34.0043 18.1349 33.8119 17.9668C33.6195 17.7986 33.3687 17.706 33.1088 17.707H1.26151C1.00166 17.706 0.750839 17.7986 0.558442 17.9668C0.366045 18.1349 0.246035 18.3664 0.222073 18.6155C-0.42931 25.3581 0.106585 30.5307 4.80024 35.4799C8.88062 39.7819 15.7271 39.9998 17.0599 39.9998H17.3047C18.6375 39.9998 25.4863 39.7774 29.5643 35.4799C30.5412 34.4597 31.3937 33.3353 32.1052 32.1286C32.2481 32.1199 32.3875 32.0819 32.514 32.0174C34.0959 31.2139 35.6169 30.3039 37.0656 29.2943C38.3815 28.4227 39.3664 27.1618 39.871 25.7028C40.0702 24.9006 40.0372 24.0612 39.7758 23.2757C39.5144 22.4902 39.0344 21.7887 38.388 21.2474ZM28.0329 34.13C24.4699 37.8905 18.0323 37.9984 17.3093 37.9984H17.0645C16.3426 37.9984 9.90389 37.8872 6.34092 34.13C2.37257 29.9436 1.75351 25.466 2.21549 19.7085H32.1583C32.6214 25.4649 32.0024 29.9425 28.0329 34.13ZM37.8498 25.2091C37.4485 26.2369 36.7212 27.117 35.771 27.7243C35.024 28.2636 34.2434 28.7582 33.4334 29.2053C34.1268 27.0036 34.4428 24.7078 34.3689 22.4082C34.3839 22.4027 34.3989 22.4082 34.4139 22.3982C34.8447 22.2182 35.3192 22.1579 35.7837 22.2242C36.2482 22.2905 36.6841 22.4808 37.0421 22.7733C37.4001 23.0659 37.6658 23.4491 37.8092 23.8796C37.9525 24.3101 37.9678 24.7707 37.8533 25.2091H37.8498Z\" fill=\"currentcolor\"/>\n    <path d=\"M9.43243 8.16274C9.85735 8.48322 10.2069 8.88673 10.4582 9.34669C10.7094 9.80666 10.8565 10.3126 10.89 10.8313C10.7939 11.9569 10.2754 13.0103 9.43128 13.7946C9.32937 13.883 9.24664 13.9899 9.18786 14.1092C9.12907 14.2286 9.0954 14.3579 9.08878 14.4898C9.08216 14.6217 9.10275 14.7536 9.14931 14.8778C9.19588 15.002 9.26753 15.1161 9.36012 15.2136C9.45271 15.311 9.56442 15.3898 9.6888 15.4455C9.81319 15.5012 9.9478 15.5326 10.0849 15.538C10.2219 15.5433 10.3587 15.5225 10.4874 15.4767C10.6161 15.4309 10.734 15.3611 10.8345 15.2712C12.1048 14.1093 12.8679 12.5254 12.9688 10.8413C12.9432 10.042 12.7392 9.25727 12.3708 8.5405C12.0023 7.82373 11.478 7.19166 10.8334 6.68722C10.4067 6.38353 10.055 5.99283 9.80341 5.54303C9.55184 5.09323 9.40662 4.59547 9.37815 4.08534C9.51392 3.18283 10.0073 2.36595 10.7548 1.80591C10.9718 1.64618 11.1147 1.41065 11.1528 1.15024C11.1908 0.889843 11.1208 0.625512 10.958 0.414392C10.7951 0.203272 10.5525 0.062327 10.2826 0.0220596C10.0127 -0.0182078 9.73715 0.0454338 9.51559 0.199206C8.90219 0.651996 8.39004 1.21933 8.0098 1.86721C7.62956 2.5151 7.38907 3.2302 7.30273 3.9697C7.30292 4.77855 7.49485 5.5767 7.86392 6.30333C8.23298 7.02996 8.76944 7.66592 9.43243 8.16274Z\" fill=\"currentcolor\"/>\n    <path d=\"M23.0984 8.16274C23.5234 8.48322 23.8729 8.88673 24.1242 9.34669C24.3754 9.80666 24.5225 10.3126 24.556 10.8313C24.4599 11.9569 23.9414 13.0103 23.0973 13.7946C22.9954 13.883 22.9126 13.9899 22.8539 14.1092C22.7951 14.2286 22.7614 14.3579 22.7548 14.4898C22.7482 14.6217 22.7687 14.7536 22.8153 14.8778C22.8619 15.002 22.9335 15.1161 23.0261 15.2136C23.1187 15.311 23.2304 15.3898 23.3548 15.4455C23.4792 15.5012 23.6138 15.5326 23.7509 15.538C23.8879 15.5433 24.0247 15.5225 24.1534 15.4767C24.2821 15.4309 24.4 15.3611 24.5005 15.2712C25.7708 14.1093 26.5339 12.5254 26.6348 10.8413C26.6092 10.042 26.4052 9.25727 26.0368 8.5405C25.6683 7.82373 25.144 7.19166 24.4994 6.68722C24.0727 6.38353 23.721 5.99283 23.4694 5.54303C23.2178 5.09323 23.0726 4.59547 23.0442 4.08534C23.1799 3.18283 23.6733 2.36595 24.4208 1.80591C24.6378 1.64618 24.7807 1.41065 24.8188 1.15024C24.8568 0.889843 24.7868 0.625512 24.624 0.414392C24.4611 0.203272 24.2185 0.062327 23.9486 0.0220596C23.6787 -0.0182078 23.4032 0.0454338 23.1816 0.199206C22.5682 0.651996 22.0561 1.21933 21.6758 1.86721C21.2956 2.5151 21.0551 3.2302 20.9688 3.9697C20.9689 4.77855 21.1609 5.5767 21.5299 6.30333C21.899 7.02996 22.4355 7.66592 23.0984 8.16274Z\" fill=\"currentcolor\"/>\n    <path d=\"M16.2645 8.16274C16.6894 8.48322 17.039 8.88673 17.2902 9.34669C17.5414 9.80666 17.6886 10.3126 17.722 10.8313C17.626 11.9569 17.1074 13.0103 16.2633 13.7946C16.1614 13.883 16.0787 13.9899 16.0199 14.1092C15.9611 14.2286 15.9274 14.3579 15.9208 14.4898C15.9142 14.6217 15.9348 14.7536 15.9813 14.8778C16.0279 15.002 16.0996 15.1161 16.1922 15.2136C16.2847 15.311 16.3964 15.3898 16.5208 15.4455C16.6452 15.5012 16.7798 15.5326 16.9169 15.538C17.054 15.5433 17.1908 15.5225 17.3194 15.4767C17.4481 15.4309 17.5661 15.3611 17.6666 15.2712C18.9368 14.1093 19.6999 12.5254 19.8009 10.8413C19.7752 10.042 19.5713 9.25727 19.2028 8.5405C18.8343 7.82373 18.31 7.19166 17.6654 6.68722C17.2387 6.38353 16.887 5.99283 16.6354 5.54303C16.3839 5.09323 16.2386 4.59547 16.2102 4.08534C16.346 3.18283 16.8393 2.36595 17.5869 1.80591C17.8038 1.64618 17.9468 1.41065 17.9848 1.15024C18.0228 0.889843 17.9528 0.625512 17.79 0.414392C17.6271 0.203272 17.3845 0.062327 17.1146 0.0220596C16.8447 -0.0182078 16.5692 0.0454338 16.3476 0.199206C15.7342 0.651996 15.2221 1.21933 14.8418 1.86721C14.4616 2.5151 14.2211 3.2302 14.1348 3.9697C14.1349 4.77855 14.3269 5.5767 14.6959 6.30333C15.065 7.02996 15.6015 7.66592 16.2645 8.16274Z\" fill=\"currentcolor\"/>\n    <path d=\"M7.16328 29.7138C5.86597 27.7051 5.17938 25.3866 5.18141 23.0212C5.18141 22.7558 5.07191 22.5013 4.87697 22.3136C4.68204 22.1259 4.41765 22.0205 4.14198 22.0205C3.8663 22.0205 3.60191 22.1259 3.40698 22.3136C3.21204 22.5013 3.10254 22.7558 3.10254 23.0212C3.10081 25.7653 3.89738 28.4551 5.40201 30.7857C5.55001 31.0072 5.78275 31.1637 6.04976 31.2211C6.31677 31.2784 6.59652 31.2322 6.82832 31.0923C7.06012 30.9524 7.22529 30.7301 7.288 30.4737C7.35071 30.2174 7.30588 29.9475 7.16328 29.7227V29.7138Z\" fill=\"currentcolor\"/>\n    <path d=\"M9.06498 32.7103C8.94112 32.6482 8.84235 32.548 8.78434 32.4257C8.73082 32.3026 8.65227 32.1911 8.55334 32.0977C8.45441 32.0043 8.33708 31.9309 8.20825 31.8818C8.07942 31.8327 7.9417 31.8089 7.80317 31.8118C7.66464 31.8146 7.5281 31.8441 7.40159 31.8986C7.27508 31.953 7.16115 32.0312 7.06649 32.1286C6.97184 32.226 6.89837 32.3407 6.8504 32.4658C6.80244 32.591 6.78094 32.7241 6.78719 32.8574C6.79344 32.9906 6.8273 33.1213 6.88678 33.2418C7.13536 33.7758 7.56332 34.2136 8.10177 34.4849C8.34682 34.6079 8.63256 34.6321 8.89616 34.5523C9.15975 34.4724 9.37959 34.295 9.50732 34.0591C9.63505 33.8232 9.6602 33.5481 9.57725 33.2943C9.49429 33.0405 9.31003 32.8289 9.06498 32.7059V32.7103Z\" fill=\"currentcolor\"/>\n    </g>\n    <defs>\n    <clipPath id=\"clip0_605_8664\">\n    <rect width=\"40\" height=\"40\" fill=\"white\"/>\n    </clipPath>\n    </defs>\n    </svg>\n    `,\n    drinks: `<svg width=\"28\" height=\"39\" viewBox=\"0 0 28 39\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n    <g clip-path=\"url(#clip0_598_8203)\">\n    <path d=\"M0 0L0.662157 8.11078C0.662157 8.12619 0.653028 8.1394 0.653028 8.15481C0.658117 8.18851 0.664982 8.22193 0.673584 8.25496L3.1852 39H25.1048L28.0034 0H0ZM25.7932 1.98093L25.4085 7.16985C25.3982 7.16985 25.3902 7.16985 25.3799 7.16985H2.64519L2.22279 1.98642L25.7932 1.98093ZM23.1948 37.0191H5.08147L2.80846 9.14527H25.2612L23.1948 37.0191Z\" fill=\"currentcolor\"/>\n    <path d=\"M6.24983 23.3122C6.28864 23.3122 6.32861 23.3122 6.364 23.3122C6.49825 23.2972 6.6281 23.2567 6.74613 23.1933C6.86415 23.1298 6.96804 23.0445 7.05181 22.9423C7.13559 22.8401 7.19762 22.7229 7.23436 22.5975C7.2711 22.4722 7.28181 22.341 7.26589 22.2117C7.0661 20.5444 6.86517 18.8155 6.66538 17.0855C6.4576 15.2861 6.24869 13.4846 6.03862 11.7502C5.99894 11.4962 5.85848 11.267 5.64686 11.111C5.43525 10.955 5.16904 10.8843 4.90438 10.9138C4.63973 10.9434 4.39731 11.0708 4.22831 11.2694C4.0593 11.4679 3.9769 11.722 3.9985 11.978C4.20628 13.7091 4.41522 15.5084 4.623 17.3056C4.82392 19.0378 5.02485 20.77 5.22578 22.4395C5.25574 22.6807 5.37661 22.9029 5.56542 23.0638C5.75424 23.2247 5.99781 23.3131 6.24983 23.3122Z\" fill=\"currentcolor\"/>\n    <path d=\"M6.05485 24.414C5.9204 24.4288 5.79029 24.469 5.67201 24.5323C5.55372 24.5957 5.44958 24.6809 5.36557 24.7832C5.28156 24.8854 5.21933 25.0027 5.18245 25.1282C5.14557 25.2537 5.13477 25.385 5.15067 25.5145L5.31392 26.8857C5.34197 27.1276 5.46141 27.351 5.64945 27.5134C5.83748 27.6758 6.08096 27.7658 6.33341 27.7662C6.37223 27.7662 6.41105 27.7662 6.44759 27.7607C6.5817 27.7462 6.71152 27.7063 6.82966 27.6434C6.9478 27.5806 7.05194 27.4959 7.13612 27.3942C7.22029 27.2925 7.28287 27.1758 7.32027 27.0508C7.35766 26.9258 7.36913 26.7949 7.35404 26.6656L7.1908 25.2889C7.15839 25.0286 7.02114 24.791 6.80864 24.6273C6.59614 24.4636 6.32541 24.387 6.05485 24.414Z\" fill=\"currentcolor\"/>\n    </g>\n    <defs>\n    <clipPath id=\"clip0_598_8203\">\n    <rect width=\"28\" height=\"39\" fill=\"white\"/>\n    </clipPath>\n    </defs>\n    </svg>\n    `,\n    snacks: `<svg width=\"44\" height=\"30\" viewBox=\"0 0 44 30\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n    <path d=\"M39.9739 12.3839H39.9673C39.8416 11.3068 39.529 10.2613 39.0441 9.29623C38.2937 7.89066 37.2396 6.67826 35.9616 5.75118C34.6837 4.82411 33.2156 4.20677 31.669 3.94605C31.658 3.94605 31.6471 3.94605 31.635 3.94605C29.7116 1.41671 26.4577 0.0219894 22.162 0.00292969C17.7851 0.0287164 14.3819 1.44362 12.4015 3.94605C12.3773 3.94605 12.3553 3.94605 12.3312 3.94605C10.7845 4.20721 9.31631 4.82484 8.03823 5.75207C6.76016 6.6793 5.70574 7.89174 4.95505 9.29734C4.47112 10.2623 4.15888 11.3074 4.03289 12.3839H4.02631C2.34137 14.0479 1.12087 16.1402 0.490328 18.4457C-0.140217 20.7512 -0.15805 23.1866 0.438675 25.5015C1.16762 28.1328 2.30494 29.6228 3.81991 29.9323C4.02143 29.975 4.22667 29.9968 4.43249 29.9973C5.03503 29.925 5.61546 29.722 6.13483 29.4017C6.6542 29.0815 7.1005 28.6516 7.44377 28.1407C8.13563 27.3077 8.96125 26.601 9.88529 26.0508C10.6588 25.658 11.4715 25.3513 12.3092 25.136C12.7407 25.007 13.2105 24.8624 13.7122 24.6875C14.2182 24.7717 14.7299 24.8148 15.2426 24.8164C16.5191 24.8132 17.7827 24.5561 18.963 24.0597C19.2243 24.1678 19.4915 24.2603 19.7633 24.3366C20.4624 24.5255 21.1737 24.6634 21.892 24.7492C21.9649 24.7584 22.0386 24.7584 22.1115 24.7492C22.8298 24.6634 23.5411 24.5255 24.2402 24.3366C24.5121 24.2602 24.7794 24.1674 25.0405 24.0585C26.6985 24.7663 28.5179 24.9843 30.2913 24.6875C30.7941 24.8568 31.2639 25.0014 31.6954 25.136C32.5326 25.3518 33.3449 25.6585 34.1182 26.0508C35.0422 26.6006 35.8675 27.3074 36.5586 28.1407C36.9021 28.6516 37.3486 29.0816 37.8682 29.4018C38.3877 29.722 38.9683 29.925 39.571 29.9973C39.7765 29.9968 39.9813 29.975 40.1825 29.9323C41.6986 29.6228 42.8359 28.1317 43.5648 25.5015C44.1604 23.1863 44.1418 20.7509 43.5107 18.4455C42.8796 16.1401 41.6588 14.0479 39.9739 12.3839ZM8.94886 24.276C7.83296 24.927 6.83512 25.7694 5.99906 26.7661C5.09447 27.7561 4.76074 28.07 4.20854 27.9568C3.49936 27.8111 2.83628 26.7459 2.34227 24.9543C1.92223 23.3112 1.86627 21.5932 2.17848 19.9252C2.4907 18.2572 3.16322 16.6814 4.14706 15.3124C4.29059 16.0686 4.52165 16.8048 4.83539 17.5054C6.01506 20.1182 8.00316 22.2624 10.4935 23.6078C9.96108 23.7857 9.44437 24.0092 8.94886 24.276ZM14.1514 22.7266C13.9962 22.6555 13.8256 22.6265 13.6562 22.6425C12.1235 22.2411 10.6976 21.4958 9.48221 20.461C8.26685 19.4261 7.2926 18.1277 6.63029 16.66C6.16216 15.6502 5.92631 14.5445 5.94077 13.4274C5.95523 12.3102 6.21962 11.2112 6.71373 10.2145C7.64306 8.45293 9.17618 7.10357 11.0193 6.42493C9.99726 9.36013 10.6472 13.6553 12.7165 17.6365C13.6785 19.5654 15.0132 21.2752 16.6401 22.6627C15.8195 22.8232 14.9787 22.8448 14.1514 22.7266ZM23.7451 22.3903C23.1716 22.5448 22.5889 22.6613 22.0007 22.7389C21.4117 22.6614 20.8283 22.5449 20.254 22.3903C18.2033 21.8521 16.0374 19.7219 14.462 16.6925C12.6704 13.2438 12.0469 9.47672 12.8834 7.09538C14.473 2.55356 19.9093 2.03223 22.1653 2.01765C25.4445 2.03783 29.66 2.93475 31.1157 7.09538C31.9501 9.4756 31.3353 13.2427 29.5393 16.6903C27.9628 19.7197 25.798 21.851 23.7451 22.3891V22.3903ZM27.3579 22.6649C28.9873 21.2782 30.3233 19.5673 31.2848 17.6365C33.353 13.6542 34.0019 9.36013 32.9798 6.42493C34.8231 7.1032 36.3564 8.45266 37.2854 10.2145C37.7798 11.2111 38.0446 12.31 38.0594 13.4271C38.0743 14.5442 37.8388 15.6501 37.371 16.66C36.7089 18.1267 35.7356 19.4246 34.5215 20.4595C33.3074 21.4945 31.883 22.2405 30.3517 22.6436C30.1773 22.6248 30.0013 22.6546 29.8423 22.73C29.0162 22.8474 28.1769 22.825 27.3579 22.6638V22.6649ZM41.6601 24.9555C41.165 26.7493 40.5009 27.8122 39.7939 27.9579C39.2516 28.07 38.9156 27.7595 38.0033 26.7673C37.1671 25.7707 36.1693 24.9284 35.0536 24.2772C34.5589 24.0089 34.0429 23.7839 33.5111 23.6045C36.0014 22.2591 37.9895 20.1148 39.1692 17.502C39.4825 16.8016 39.7135 16.0659 39.8575 15.3101C40.8408 16.6799 41.5127 18.2562 41.8245 19.9245C42.1364 21.5927 42.0802 23.311 41.6601 24.9543V24.9555Z\" fill=\"currentColor\"/>\n    <path d=\"M17.3428 15.7782C16.1626 13.048 15.7674 10.0313 16.2032 7.08028C16.2231 6.94931 16.2174 6.81565 16.1867 6.68691C16.1559 6.55816 16.1006 6.43686 16.024 6.32994C15.9473 6.22302 15.8508 6.13257 15.7399 6.06375C15.629 5.99493 15.5059 5.94908 15.3777 5.92884C15.2495 5.90859 15.1186 5.91434 14.9925 5.94576C14.8665 5.97717 14.7477 6.03365 14.643 6.11194C14.5383 6.19023 14.4497 6.2888 14.3824 6.40205C14.315 6.5153 14.2701 6.641 14.2503 6.77197C13.7579 10.1061 14.2045 13.5144 15.538 16.5989C15.5889 16.7227 15.6636 16.8349 15.7575 16.9289C15.8515 17.0229 15.9628 17.0967 16.0851 17.1462C16.2074 17.1956 16.3381 17.2197 16.4695 17.2168C16.601 17.214 16.7306 17.1844 16.8507 17.1298C16.9709 17.0752 17.0791 16.9966 17.1691 16.8987C17.2591 16.8008 17.3291 16.6855 17.3749 16.5597C17.4208 16.4338 17.4415 16.2998 17.436 16.1656C17.4305 16.0315 17.3988 15.8997 17.3428 15.7782Z\" fill=\"currentColor\"/>\n    <path d=\"M19.696 19.2067C19.2865 18.9533 18.9569 18.5852 18.7464 18.146C18.6921 18.023 18.6143 17.9124 18.5174 17.8206C18.4206 17.7288 18.3067 17.6578 18.1825 17.6118C18.0583 17.5658 17.9263 17.5456 17.7944 17.5526C17.6625 17.5596 17.5333 17.5935 17.4144 17.6524C17.2955 17.7112 17.1894 17.7939 17.1023 17.8953C17.0153 17.9968 16.949 18.1151 16.9075 18.2432C16.866 18.3712 16.85 18.5065 16.8606 18.641C16.8712 18.7755 16.908 18.9065 16.969 19.0262C17.3477 19.8156 17.9407 20.4772 18.6772 20.9321C18.7884 21.0004 18.9117 21.0457 19.0401 21.0654C19.1684 21.085 19.2993 21.0786 19.4253 21.0466C19.5512 21.0146 19.6698 20.9576 19.7741 20.8788C19.8785 20.8 19.9666 20.701 20.0335 20.5874C20.1004 20.4738 20.1448 20.3478 20.164 20.2168C20.1832 20.0857 20.177 19.952 20.1456 19.8234C20.1143 19.6947 20.0585 19.5737 19.9813 19.4671C19.9041 19.3605 19.8072 19.2705 19.696 19.2022V19.2067Z\" fill=\"currentColor\"/>\n    </svg>\n    `,\n    meals: `<svg width=\"44\" height=\"47\" viewBox=\"0 0 44 47\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n    <g clip-path=\"url(#clip0_598_8219)\">\n    <path d=\"M42.941 2.11595C42.7415 1.9851 42.4981 1.93888 42.2644 1.98745C42.0307 2.03602 41.8259 2.1754 41.695 2.37496L34.006 14.102C33.3796 13.6496 32.7178 13.2483 32.027 12.902C32.0551 12.8557 32.0786 12.8068 32.097 12.756L35.4431 1.14795C35.5094 0.91841 35.4818 0.671927 35.3663 0.46273C35.2509 0.253533 35.0571 0.098759 34.8275 0.0324549C34.598 -0.0338492 34.3515 -0.0062506 34.1423 0.109178C33.9331 0.224607 33.7783 0.41841 33.712 0.647954L30.382 12.202C28.8498 11.6558 27.2357 11.3751 25.609 11.372C23.5868 11.3208 21.5789 11.7248 19.7337 12.5541C17.8886 13.3834 16.2534 14.6167 14.949 16.163C13.472 15.5617 11.8698 15.3326 10.2834 15.4959C8.69704 15.6593 7.17511 16.21 5.85156 17.0996C4.528 17.9893 3.44339 19.1906 2.69314 20.5978C1.94289 22.0051 1.54999 23.5752 1.54904 25.17H0.900049C0.781014 25.1699 0.663159 25.1936 0.553309 25.2394C0.443459 25.2853 0.343801 25.3524 0.260096 25.4371C0.176391 25.5217 0.110305 25.6221 0.0656684 25.7325C0.0210317 25.8428 -0.00126705 25.9609 5.5571e-05 26.08C0.0892682 29.5951 1.16582 33.0142 3.10662 35.9464C5.04743 38.8786 7.77413 41.2054 10.975 42.661V45.147C10.975 45.3856 11.0699 45.6146 11.2386 45.7834C11.4074 45.9521 11.6364 46.047 11.8751 46.047H29.692C29.9307 46.047 30.1596 45.9521 30.3284 45.7834C30.4972 45.6146 30.592 45.3856 30.592 45.147V42.665C33.7927 41.2092 36.5191 38.8822 38.4597 35.9501C40.4004 33.018 41.4768 29.599 41.566 26.084C41.5674 25.9649 41.5451 25.8468 41.5004 25.7365C41.4558 25.6261 41.3897 25.5257 41.306 25.4411C41.2223 25.3565 41.1226 25.2893 41.0128 25.2434C40.9029 25.1976 40.7851 25.1739 40.666 25.174H39.976C39.82 21.3924 38.1759 17.8258 35.402 15.251L43.197 3.36196C43.3282 3.16274 43.3749 2.91961 43.3269 2.68598C43.2789 2.45235 43.1401 2.24733 42.941 2.11595ZM11.292 17.249C13.3949 17.2513 15.4113 18.0864 16.9 19.5716C18.3887 21.0568 19.2286 23.0711 19.236 25.174H18.476C18.4537 23.2835 17.6871 21.4779 16.3423 20.149C14.9976 18.82 13.1832 18.0747 11.2925 18.0747C9.4019 18.0747 7.58747 18.82 6.24273 20.149C4.89799 21.4779 4.13134 23.2835 4.10903 25.174H3.34905C3.35619 23.0712 4.1959 21.0569 5.68447 19.5717C7.17304 18.0865 9.18928 17.2513 11.292 17.249ZM30.46 25.174C30.3295 24.0738 29.829 23.0506 29.0406 22.2723C28.2521 21.494 27.2226 21.0067 26.1208 20.8904C25.019 20.7742 23.9104 21.0358 22.9769 21.6324C22.0433 22.2291 21.3403 23.1252 20.983 24.174C20.8976 23.3879 20.7156 22.6154 20.441 21.874C21.2275 20.8287 22.312 20.0461 23.5519 19.6292C24.7917 19.2124 26.1287 19.1807 27.3869 19.5384C28.6451 19.8962 29.7655 20.6265 30.6005 21.6334C31.4356 22.6402 31.9461 23.8763 32.065 25.179L30.46 25.174ZM28.66 25.174H22.555C22.6942 24.4666 23.0746 23.8296 23.6314 23.3717C24.1882 22.9138 24.8867 22.6634 25.6075 22.6634C26.3284 22.6634 27.0269 22.9138 27.5837 23.3717C28.1404 23.8296 28.5209 24.4666 28.66 25.174ZM33.8661 25.174C33.7524 23.5697 33.1734 22.0335 32.1999 20.7533C31.2265 19.4731 29.9008 18.5046 28.3853 17.9663C26.8698 17.428 25.2303 17.3434 23.6674 17.7227C22.1045 18.102 20.6862 18.9288 19.5861 20.102C19.3425 19.7013 19.0704 19.3187 18.772 18.957C19.6483 18.0285 20.7095 17.2942 21.8871 16.8014C23.0648 16.3086 24.3327 16.0683 25.609 16.096C28.0701 16.1 30.4374 17.0409 32.2298 18.7275C34.0222 20.414 35.1053 22.7196 35.259 25.176L33.8661 25.174ZM15.376 25.174C15.376 24.0911 14.9459 23.0525 14.1802 22.2868C13.4145 21.5211 12.3759 21.091 11.2931 21.091C10.2102 21.091 9.17165 21.5211 8.40594 22.2868C7.64023 23.0525 7.21005 24.0911 7.21005 25.174H5.91003C5.92931 23.7594 6.5048 22.4093 7.51193 21.4158C8.51906 20.4223 9.87684 19.8653 11.2915 19.8653C12.7062 19.8653 14.064 20.4223 15.0712 21.4158C16.0783 22.4093 16.6537 23.7594 16.673 25.174H15.376ZM13.576 25.174H9.01205C9.02455 24.5769 9.27051 24.0085 9.6972 23.5906C10.1239 23.1728 10.6973 22.9387 11.2945 22.9387C11.8918 22.9387 12.4652 23.1728 12.8919 23.5906C13.3186 24.0085 13.5646 24.5769 13.5771 25.174H13.576ZM12.7761 44.251V43.132H28.792V44.251H12.7761ZM29.136 41.332H12.436C9.52258 40.1406 6.99281 38.1712 5.12332 35.6389C3.25383 33.1066 2.11663 30.109 1.83605 26.974H39.7281C39.4482 30.1081 38.3122 33.1051 36.4441 35.6373C34.5761 38.1695 32.048 40.1395 29.136 41.332ZM38.178 25.174H37.0601C36.9048 22.2401 35.6312 19.4773 33.5013 17.4538C31.3713 15.4303 28.547 14.2998 25.609 14.295C24.0957 14.2643 22.5927 14.55 21.1962 15.1338C19.7996 15.7176 18.5404 16.5865 17.499 17.685C17.2087 17.4481 16.9052 17.2277 16.5901 17.025C17.7218 15.7645 19.1155 14.7668 20.6734 14.1017C22.2314 13.4367 23.9159 13.1204 25.609 13.175C28.8438 13.1792 31.9531 14.4275 34.2929 16.6611C36.6327 18.8948 38.0237 21.9428 38.178 25.174Z\" fill=\"currentColor\"/>\n    <path d=\"M3.39209 30.1722C4.045 32.6025 5.31628 34.8222 7.08209 36.6152C7.16443 36.7021 7.26327 36.7717 7.37286 36.8199C7.48244 36.8682 7.60056 36.8941 7.72027 36.8961C7.83999 36.8981 7.95888 36.8762 8.07003 36.8317C8.18118 36.7872 8.28235 36.7209 8.36758 36.6368C8.45281 36.5528 8.52038 36.4525 8.56637 36.342C8.61237 36.2314 8.63585 36.1128 8.63543 35.9931C8.63501 35.8733 8.6107 35.7549 8.56393 35.6447C8.51716 35.5344 8.44888 35.4347 8.36306 35.3512C6.81633 33.7796 5.70257 31.8346 5.13006 29.7052C5.1013 29.589 5.04966 29.4797 4.97815 29.3837C4.90663 29.2878 4.81669 29.207 4.71359 29.1462C4.61049 29.0854 4.49631 29.0458 4.37771 29.0297C4.25912 29.0136 4.1385 29.0213 4.02291 29.0523C3.90733 29.0834 3.7991 29.1372 3.70456 29.2106C3.61001 29.284 3.53106 29.3755 3.47232 29.4798C3.41357 29.584 3.3762 29.699 3.36242 29.8179C3.34865 29.9368 3.35875 30.0572 3.39209 30.1722Z\" fill=\"#323232\"/>\n    <path d=\"M10.5356 39.5502C10.7282 39.6767 10.962 39.7245 11.1889 39.6838C11.4157 39.643 11.6182 39.5168 11.7547 39.3312C11.8913 39.1456 11.9514 38.9146 11.9227 38.6859C11.8941 38.4573 11.7788 38.2483 11.6006 38.1022L10.3336 37.1752C10.1407 37.0392 9.90209 36.9844 9.66918 37.0226C9.43627 37.0609 9.2277 37.1891 9.08843 37.3797C8.94915 37.5702 8.89031 37.8079 8.92458 38.0414C8.95884 38.2749 9.08345 38.4857 9.27159 38.6282L10.5356 39.5502Z\" fill=\"#323232\"/>\n    </g>\n    <defs>\n    <clipPath id=\"clip0_598_8219\">\n    <rect width=\"43.348\" height=\"46.051\" fill=\"white\"/>\n    </clipPath>\n    </defs>\n    </svg>`,\n};\n\n@Component({\n    selector: 'catering-item-filters',\n    template: `\n        <div class=\"px-4 mt-3 mb-2\" [class.sm:hidden]=\"!search\">\n            <mat-form-field appearance=\"outline\" class=\"w-full h-14\">\n                <app-icon matPrefix class=\"text-xl\">search</app-icon>\n                <input\n                    matInput\n                    [ngModel]=\"(filters | async)?.search\"\n                    (ngModelChange)=\"setFilters({ search: $event })\"\n                    placeholder=\"Search menu...\"\n                />\n            </mat-form-field>\n        </div>\n        <h3 class=\"hidden sm:block font-medium px-2 py-2\" *ngIf=\"!search\" i18n>\n            Options\n        </h3>\n        <div class=\"flex flex-col px-2\" *ngIf=\"!search\">\n            <mat-checkbox\n                [(ngModel)]=\"at_time\"\n                (ngModelChange)=\"at_timeChange.next($event)\"\n                [matTooltip]=\"exact_tooltip\"\n            >\n                Exact Time\n            </mat-checkbox>\n            <ng-container *ngIf=\"day_options.length > 1\">\n                <label>Deliver Date:</label>\n                <mat-form-field\n                    appearance=\"outline\"\n                    class=\"w-full no-subscript mb-4\"\n                >\n                    <mat-select\n                        [(ngModel)]=\"offset_day\"\n                        (ngModelChange)=\"offset_dayChange.next($event)\"\n                    >\n                        <mat-option\n                            *ngFor=\"let day of day_options\"\n                            [value]=\"day.id\"\n                        >\n                            {{ day.value | date: 'mediumDate' }}\n                        </mat-option>\n                    </mat-select>\n                </mat-form-field>\n            </ng-container>\n            <label>Deliver After:</label>\n            <a-duration-field\n                [(ngModel)]=\"offset\"\n                (ngModelChange)=\"offsetChange.next($event)\"\n                [time]=\"\n                    offset_day > 0 ? start_of_date : (filters | async)?.date\n                \"\n                [step]=\"step_interval\"\n                [min]=\"min_offset\"\n                [max]=\"max_offset\"\n                [use_24hr]=\"use_24hr\"\n            ></a-duration-field>\n        </div>\n        <h3 class=\"hidden sm:block font-medium px-2 py-4\" *ngIf=\"!search\" i18n>\n            Catergories\n        </h3>\n        <div\n            class=\"flex flex-col px-2 space-y-4\"\n            [class.sm:hidden]=\"search\"\n            [class.sm:pt-1]=\"!search\"\n        >\n            <mat-checkbox\n                *ngFor=\"let item of categories | async\"\n                [attr.name]=\"item\"\n                [ngModel]=\"(filters | async)?.categories?.includes(item)\"\n                (ngModelChange)=\"toggleCategory(item)\"\n            >\n                {{ item }}\n            </mat-checkbox>\n        </div>\n    `,\n    styles: [\n        `\n            :host {\n                min-width: 16rem;\n            }\n        `,\n    ],\n})\nexport class CateringItemFiltersComponent\n    extends AsyncHandler\n    implements OnInit\n{\n    @Input() public search = false;\n\n    @Input() public at_time = false;\n    @Output() public at_timeChange = new EventEmitter<boolean>();\n    @Input() public offset = 0;\n    @Output() public offsetChange = new EventEmitter<number>();\n    @Input() public offset_day = 0;\n    @Output() public offset_dayChange = new EventEmitter<number>();\n\n    private _min_offset = 0;\n    private _max_offset = 60;\n\n    public readonly icons = ICONS;\n\n    public readonly filters = this._state.filters;\n\n    public readonly setFilters = (f) => this._state.setFilters(f);\n\n    public readonly categories = this._state.categories;\n\n    public readonly exact_tooltip =\n        'Deliver at exactly specified time. \\nNote that changes to the booking will not be \\nreflected in the order if this is set.';\n\n    public get start_of_date() {\n        return startOfDay(\n            addDays(this._state.getFilters().date, this.offset_day)\n        ).valueOf();\n    }\n\n    public get min_offset() {\n        return this.offset_day > 0 ? 0 : this._min_offset;\n    }\n\n    public get step_interval() {\n        return this._settings.get('app.catering.step_interval') || 5;\n    }\n\n    public get max_offset() {\n        const end = Math.min(\n            endOfDay(\n                addDays(this._state.getFilters().date, this.offset_day)\n            ).valueOf(),\n            addMinutes(\n                this._state.getFilters().date,\n                this._state.getFilters().duration\n            ).valueOf()\n        );\n        const diff = differenceInMinutes(end, this._state.getFilters().date);\n        return Math.min(diff, Math.min(24 * 60 - 1, this._max_offset));\n    }\n\n    public get use_24hr() {\n        return this._settings.get('app.use_24_hour_time');\n    }\n\n    public day_options = [];\n\n    constructor(\n        private _state: CateringOrderStateService,\n        private _settings: SettingsService\n    ) {\n        super();\n    }\n\n    public ngOnInit() {\n        this._min_offset = Math.max(\n            this._settings.get('app.catering.min_offset'),\n            0\n        );\n        this.subscription(\n            'filters',\n            this._state.filters.subscribe(() => {\n                this._max_offset = Math.max(\n                    15,\n                    (this._state.getFilters().duration || 60) -\n                        this._settings.get('app.catering.end_offset')\n                );\n                this._updateDayOptions();\n            })\n        );\n        this._updateDayOptions();\n    }\n\n    public async toggleCategory(name: string) {\n        const { categories } = await this.filters.pipe(take(1)).toPromise();\n        if (categories.includes(name))\n            this.setFilters({\n                categories: categories.filter((_) => _ !== name),\n            });\n        else this.setFilters({ categories: [...categories, name] });\n    }\n\n    public async toggleTag(tag: string) {\n        const { tags } = await this.filters.pipe(take(1)).toPromise();\n        if (tags.includes(tag))\n            this.setFilters({ tags: tags.filter((_) => _ !== tag) });\n        else this.setFilters({ tags: [...tags, tag] });\n    }\n\n    private _updateDayOptions() {\n        const { date, duration } = this._state.getFilters();\n        if (duration <= 24 * 60) return (this.day_options = []);\n        let day = startOfDay(date);\n        let count = 0;\n        const end = endOfDay(addMinutes(date, duration)).valueOf();\n        const options = [];\n        while (day.valueOf() <= end) {\n            options.push({ id: count, value: day.valueOf() });\n            day = addDays(day, 1);\n            count++;\n        }\n        this.day_options = options;\n    }\n}\n","import { Component, EventEmitter, Input, Output } from '@angular/core';\nimport { CateringItem } from '../catering-item.class';\n\n@Component({\n    selector: 'catering-item-list-item',\n    template: `\n        <li\n            item\n            [class.!border-base-200]=\"active\"\n            matRipple\n            class=\"relative p-2 rounded-lg w-full shadow border bg-base-100 border-base-200 sm:w-[20rem]\"\n        >\n            <button\n                name=\"select-catering-item\"\n                class=\"w-full h-full flex items-center z-0\"\n                (click)=\"select.emit()\"\n            >\n                <div\n                    class=\"relative w-16 h-16 rounded-xl bg-neutral mr-4 overflow-hidden border border-base-200 flex items-center justify-center\"\n                >\n                    <div\n                        class=\"absolute top-1 left-1 border border-white bg-neutral rounded-full h-6 w-6 flex items-center justify-center text-white text-xs\"\n                        *ngIf=\"item.quantity && selected\"\n                    >\n                        {{ item.quantity || '1' }}\n                    </div>\n                    <img\n                        auth\n                        *ngIf=\"item.images?.length; else placeholder\"\n                        class=\"object-cover min-h-full min-w-full\"\n                        [source]=\"item.images[0]\"\n                    />\n                    <ng-template #placeholder>\n                        <img\n                            class=\"m-auto\"\n                            src=\"assets/icons/catering-placeholder.svg\"\n                        />\n                    </ng-template>\n                </div>\n                <div class=\"space-y-2 text-left flex-1\">\n                    <div class=\"font-medium flex flex-col pr-10\">\n                        <div>{{ item.name || 'Item' }}</div>\n                        <div class=\"opacity-60 text-xs\">\n                            {{ item.category }}\n                        </div>\n                    </div>\n                    <div class=\"flex items-center text-sm space-x-1\">\n                        <p\n                            class=\"flex-1 w-px bg-base-100 rounded\"\n                            *ngIf=\"item.unit_price\"\n                        >\n                            {{ item.unit_price / 100 | currency: code }}\n                        </p>\n                        <div\n                            class=\"text-xs px-2 py-1 rounded-2xl shadow border border-base-200\"\n                            *ngIf=\"item.option_list?.length\"\n                        >\n                            {{ options }}\n                        </div>\n                        <div\n                            class=\"text-xs h-5 w-7 rounded-xl shadow bg-success flex items-center justify-center\"\n                            *ngIf=\"item.tags?.includes('Gluten Free')\"\n                        >\n                            GF\n                        </div>\n                        <div\n                            class=\"text-xs h-5 w-7 rounded-xl shadow bg-info flex items-center justify-center\"\n                            *ngIf=\"item.tags?.includes('Vegan')\"\n                        >\n                            VG\n                        </div>\n                        <div\n                            class=\"text-xs h-5 w-7 rounded-xl shadow bg-info flex items-center justify-center\"\n                            *ngIf=\"item.tags?.includes('Vegetarian')\"\n                        >\n                            V\n                        </div>\n                        <div\n                            class=\"text-xs h-5 w-7 rounded-xl shadow bg-warning flex items-center justify-center\"\n                            *ngIf=\"item.tags?.includes('Contains Dairy')\"\n                        >\n                            D\n                        </div>\n                        <div\n                            class=\"text-xs h-5 w-7 rounded-xl shadow bg-orange-600 flex items-center justify-center\"\n                            *ngIf=\"item.tags?.includes('Contains Nuts')\"\n                        >\n                            N\n                        </div>\n                    </div>\n                </div>\n            </button>\n            <button\n                icon\n                matRipple\n                name=\"toggle-catering-item-favourite\"\n                class=\"absolute top-1 right-1\"\n                [class.text-blue-400]=\"favourite\"\n                (click)=\"toggleFav.emit()\"\n            >\n                <app-icon>{{\n                    favourite ? 'favorite' : 'favorite_border'\n                }}</app-icon>\n            </button>\n        </li>\n    `,\n    styles: [``],\n})\nexport class CateringItemListItemComponent {\n    @Input() public item: CateringItem;\n    @Input() public active = false;\n    @Input() public selected = false;\n    @Input() public favourite = false;\n    @Input() public code: string = 'USD';\n    @Output() public toggleFav = new EventEmitter();\n    @Output() public select = new EventEmitter();\n\n    public get options() {\n        return this.item.option_list?.map((_) => _.name).join(', ');\n    }\n}\n","import {\n    Component,\n    EventEmitter,\n    Input,\n    Output,\n    SimpleChanges,\n} from '@angular/core';\nimport { BehaviorSubject } from 'rxjs';\nimport { CateringItem } from '../catering-item.class';\nimport { CateringOrderStateService } from './catering-order-state.service';\n\n@Component({\n    selector: 'catering-item-list',\n    template: `\n        <div class=\"w-full h-full overflow-auto py-2\">\n            <ng-container *ngIf=\"(list | async)?.length\">\n                <h3 class=\"font-bold px-2\">Ordered Items</h3>\n                <p count class=\"text-sm opacity-60 mb-2 px-2\">\n                    {{ (list | async)?.length || 0 }} items(s)\n                </p>\n\n                <ul class=\"list-style-none space-y-2 p-2\">\n                    <catering-item-list-item\n                        class=\"block\"\n                        *ngFor=\"let item of list | async\"\n                        [item]=\"item\"\n                        [active]=\"active === item.custom_id\"\n                        [selected]=\"true\"\n                        [favourite]=\"isFavourite(item.id)\"\n                        (toggleFav)=\"toggleFav.emit(item.id)\"\n                        (select)=\"selectItem(item, true)\"\n                    ></catering-item-list-item>\n                </ul>\n            </ng-container>\n            <h3 class=\"font-bold px-2\">Results</h3>\n            <p count class=\"text-sm opacity-60 mb-2 px-2\">\n                {{ (item_list | async)?.length || 0 }} result(s) found\n            </p>\n            <ng-container *ngIf=\"!(loading | async); else load_state\">\n                <ul\n                    class=\"list-style-none space-y-2 p-2\"\n                    *ngIf=\"(item_list | async)?.length; else empty_state\"\n                >\n                    <catering-item-list-item\n                        class=\"block\"\n                        *ngFor=\"let item of item_list | async\"\n                        [item]=\"item\"\n                        [active]=\"active === item.custom_id\"\n                        [selected]=\"selected.includes(item.custom_id)\"\n                        [favourite]=\"isFavourite(item.id)\"\n                        [code]=\"code\"\n                        (toggleFav)=\"toggleFav(item.id)\"\n                        (select)=\"selectItem(item, true)\"\n                    ></catering-item-list-item>\n                </ul>\n            </ng-container>\n        </div>\n        <ng-template #empty_state>\n            <div\n                empty\n                class=\"p-16 flex flex-col items-center justify-center space-y-2\"\n            >\n                <p class=\"opacity-30 text-center\">\n                    No available items for selected time and/or filters\n                </p>\n            </div>\n        </ng-template>\n        <ng-template #load_state>\n            <div\n                loading\n                class=\"p-16 flex flex-col items-center justify-center space-y-2\"\n            >\n                <mat-spinner [diameter]=\"32\"></mat-spinner>\n                <p class=\"opacity-30\">Finding available items...</p>\n            </div>\n        </ng-template>\n    `,\n    styles: [``],\n})\nexport class CateringItemListComponent {\n    @Input() public active: string = '';\n    @Input() public selected: string = '';\n    @Input() public selected_items: CateringItem[] = [];\n    @Input() public favorites: string[] = [];\n    @Output() public toggleFav = new EventEmitter<CateringItem>();\n    @Output() public onSelect = new EventEmitter<CateringItem>();\n\n    public readonly list = new BehaviorSubject<CateringItem[]>([]);\n    public readonly loading = this._state.loading;\n    public readonly item_list = this._state.filtered_menu;\n\n    public get code() {\n        return this._state.currency_code;\n    }\n\n    constructor(private _state: CateringOrderStateService) {}\n\n    public ngOnChanges(changes: SimpleChanges) {\n        if (changes.selected_items) {\n            this.list.next(this.selected_items || []);\n        }\n    }\n\n    public isFavourite(item_id: string) {\n        return this.favorites?.includes(item_id);\n    }\n\n    public selectItem(item: CateringItem, clear_state: boolean = false) {\n        this.onSelect.emit(item);\n        if (clear_state) {\n            item.options?.forEach((_) => delete _.active);\n        }\n    }\n}\n","import { Injectable } from '@angular/core';\nimport { SettingsService, unique } from '@placeos/common';\nimport { OrganisationService } from '@placeos/organisation';\nimport { PlaceMetadata, showMetadata } from '@placeos/ts-client';\nimport { BehaviorSubject, combineLatest, Observable, of } from 'rxjs';\nimport {\n    catchError,\n    filter,\n    map,\n    shareReplay,\n    switchMap,\n    tap,\n} from 'rxjs/operators';\nimport { CateringItem } from '../catering-item.class';\nimport { cateringItemAvailable, getCateringRulesForZone } from '../utilities';\nimport { CateringSettings } from '../catering-state.service';\nimport { Space } from 'libs/spaces/src/lib/space.class';\n\nexport interface CateringOrderOptions {\n    // Affects backend requests\n    zone?: string;\n}\n\nexport interface CateringOrderFilters {\n    // Affects frontend filtering\n    date?: number;\n    duration?: number;\n    zone_id?: string;\n    resources?: Space[];\n    search: string;\n    tags: string[];\n    categories: string[];\n}\n\n@Injectable({\n    providedIn: 'root',\n})\nexport class CateringOrderStateService {\n    private _options = new BehaviorSubject<CateringOrderOptions>({});\n    private _filters = new BehaviorSubject<CateringOrderFilters>({\n        search: '',\n        tags: [],\n        categories: [],\n    });\n    private _loading = new BehaviorSubject('');\n\n    public readonly loading = this._loading.asObservable();\n    public readonly filters = this._filters.asObservable();\n\n    public readonly settings = this._org.active_building.pipe(\n        filter((_) => !!_),\n        switchMap((_) =>\n            showMetadata(_.id, 'catering-settings').pipe(\n                catchError((_) => of({} as PlaceMetadata))\n            )\n        ),\n        map((_) => _.details as CateringSettings),\n        tap((_) =>\n            this._settings.post('require_catering_notes', !!_?.require_notes)\n        ),\n        shareReplay(1)\n    );\n\n    public readonly charge_codes = this.settings.pipe(\n        map((_) => _.charge_codes || [])\n    );\n    public readonly availability = this.settings.pipe(\n        map((_) => _.disabled_rooms || [])\n    );\n\n    public readonly available_menu: Observable<CateringItem[]> = combineLatest([\n        this._options,\n        this._org.active_building,\n    ]).pipe(\n        filter(([_, bld]) => !!bld),\n        switchMap(([{ zone }, bld]) => {\n            this._loading.next('[Menu]');\n            return showMetadata(zone || bld.id, 'catering').pipe(\n                map((d) =>\n                    (d.details instanceof Array ? d.details : []).map(\n                        (_) => new CateringItem(_)\n                    )\n                ),\n                catchError((_) => [])\n            );\n        }),\n        tap((_) => this._loading.next('')),\n        shareReplay(1)\n    );\n\n    public readonly categories = this.available_menu.pipe(\n        map((_) => unique(_.map((i) => i.category)))\n    );\n\n    public readonly filtered_menu = combineLatest([\n        this._filters,\n        this.available_menu,\n    ]).pipe(\n        switchMap(\n            async ([\n                {\n                    search,\n                    tags,\n                    categories,\n                    zone_id,\n                    date,\n                    duration,\n                    resources,\n                },\n                l,\n            ]) => {\n                const rules = await getCateringRulesForZone(\n                    zone_id\n                ).toPromise();\n                search = search.toLowerCase();\n                let list = search\n                    ? l.filter((_) => _.name.toLowerCase().includes(search))\n                    : l;\n                list = tags.length\n                    ? list.filter((_) => tags.every((t) => _.tags.includes(t)))\n                    : list;\n                list = categories.length\n                    ? list.filter((_) => categories.includes(_.category))\n                    : list;\n                list = list.filter((_) =>\n                    cateringItemAvailable(_, rules, {\n                        date,\n                        duration,\n                        resources,\n                    } as any)\n                );\n                return list;\n            }\n        ),\n        shareReplay(1)\n    );\n\n    public get currency_code() {\n        return this._org.currency_code;\n    }\n\n    constructor(\n        private _org: OrganisationService,\n        private _settings: SettingsService\n    ) {}\n\n    public setOptions(opts: Partial<CateringOrderOptions>) {\n        this._options.next({ ...this._options.getValue(), ...opts });\n    }\n\n    public setFilters(opts: Partial<CateringOrderFilters>) {\n        this._filters.next({ ...this._filters.getValue(), ...opts });\n    }\n\n    public getFilters() {\n        return { ...this._filters.getValue() };\n    }\n}\n","import { Component, Inject } from '@angular/core';\nimport { MAT_DIALOG_DATA } from '@angular/material/dialog';\nimport { SettingsService } from '@placeos/common';\nimport { OrganisationService } from '@placeos/organisation';\nimport { CateringItem } from '../catering-item.class';\nimport { CateringOrderStateService } from './catering-order-state.service';\n\nconst EMPTY_FAVS: string[] = [];\n\n@Component({\n    selector: 'new-catering-order-modal',\n    template: `\n        <div\n            class=\"w-[100vw] h-[100vh] sm:relative sm:w-auto sm:h-auto flex flex-col bg-base-100\"\n        >\n            <header class=\"flex items-center space-x-4 w-full\">\n                <button\n                    icon\n                    matRipple\n                    [mat-dialog-close]=\"selected\"\n                    class=\"bg-neutral\"\n                >\n                    <app-icon>close</app-icon>\n                </button>\n                <h3 i18n>Add Catering</h3>\n            </header>\n            <main\n                class=\"flex-1 flex items-center divide-x divide-base-200 min-h-[65vh] h-[65vh] sm:max-h-[65vh] sm:max-w-[95vw] w-full overflow-hidden\"\n            >\n                <catering-item-filters\n                    class=\"h-full hidden sm:block sm:max-w-[12rem] sm:h-[65vh] sm:max-h-full\"\n                    [(at_time)]=\"exact_time\"\n                    [(offset)]=\"offset\"\n                    [(offset_day)]=\"offset_day\"\n                ></catering-item-filters>\n                <div\n                    class=\"flex flex-col items-center flex-1 w-1/2 h-full sm:h-[65vh]\"\n                >\n                    <catering-item-filters\n                        class=\"w-full border-b border-base-200\"\n                        [search]=\"true\"\n                    ></catering-item-filters>\n                    <catering-item-list\n                        [active]=\"displayed?.custom_id\"\n                        [selected]=\"selected_ids\"\n                        [selected_items]=\"selected\"\n                        [favorites]=\"favorites\"\n                        (toggleFav)=\"toggleFavourite($event)\"\n                        (onSelect)=\"displayed = $event\"\n                        class=\"flex-1 h-1/2 w-full overflow-hidden\"\n                    ></catering-item-list>\n                </div>\n                <catering-item-details\n                    [item]=\"displayed!\"\n                    class=\"h-full w-full sm:h-[65vh] absolute sm:relative sm:flex sm:max-w-[16rem] z-20 bg-base-100\"\n                    [class.hidden]=\"!displayed\"\n                    [class.inset-0]=\"displayed\"\n                    [active]=\"selected_ids.includes(displayed?.custom_id || '')\"\n                    (activeChange)=\"setSelected(displayed!, $event)\"\n                    [code]=\"code\"\n                    [fav]=\"\n                        !!displayed &&\n                        this.favorites.includes(displayed?.id || '')\n                    \"\n                    (toggleFav)=\"toggleFavourite(displayed!)\"\n                    (close)=\"displayed = null\"\n                ></catering-item-details>\n            </main>\n            <footer\n                class=\"flex sm:hidden flex-col-reverse items-center justify-end px-2 pt-2 pb-[5.5rem] border-t border-base-200 w-full\"\n            >\n                <button\n                    btn\n                    matRipple\n                    name=\"catering-item-return\"\n                    class=\"inverse sm:hidden w-full sm:w-auto\"\n                    *ngIf=\"displayed\"\n                    (click)=\"displayed = null\"\n                    i18n\n                >\n                    Back\n                </button>\n                <button\n                    btn\n                    matRipple\n                    name=\"save-catering-item\"\n                    [mat-dialog-close]=\"selected\"\n                    [class.mb-2]=\"displayed\"\n                    class=\"w-full sm:w-auto sm:mb-0\"\n                    i18n\n                >\n                    View List\n                </button>\n            </footer>\n            <footer\n                class=\"hidden sm:flex items-center justify-between p-2 border-t border-base-200 w-full\"\n            >\n                <button\n                    btn\n                    matRipple\n                    name=\"catering-item-return\"\n                    [mat-dialog-close]=\"selected\"\n                    class=\"clear text-secondary\"\n                >\n                    <div class=\"flex items-center\">\n                        <app-icon class=\"text-xl\">arrow_back</app-icon>\n                        <div class=\"mr-1 underline\" i18n>Back to form</div>\n                    </div>\n                </button>\n                <p class=\"opacity-60 text-sm\" i18n>\n                    {{ count }} items(s) added\n                </p>\n                <button\n                    btn\n                    matRipple\n                    name=\"toggle-catering-item\"\n                    [disabled]=\"!displayed\"\n                    [class.inverse]=\"isSelected(displayed?.custom_id)\"\n                    (click)=\"\n                        setSelected(\n                            displayed,\n                            !isSelected(displayed?.custom_id)\n                        )\n                    \"\n                >\n                    <div class=\"flex items-center\">\n                        <app-icon class=\"text-xl\">{{\n                            isSelected(displayed?.custom_id) ? 'remove' : 'add'\n                        }}</app-icon>\n                        <div class=\"mr-1\">\n                            {{\n                                isSelected(displayed?.custom_id)\n                                    ? 'Remove from Booking'\n                                    : 'Add to booking'\n                            }}\n                        </div>\n                    </div>\n                </button>\n            </footer>\n        </div>\n    `,\n    styles: [``],\n})\nexport class NewCateringOrderModalComponent {\n    public displayed: CateringItem | null = null;\n    public selected: CateringItem[] = [...(this._data.items || [])];\n    public exact_time = this._data.exact_time ?? false;\n    public offset: number;\n    public offset_day: number;\n\n    public get favorites() {\n        return (\n            this._settings.get<string[]>('favourite_menu_items') || EMPTY_FAVS\n        );\n    }\n\n    public get selected_ids() {\n        return this.selected.map((_) => _.custom_id).join(',');\n    }\n\n    public get count() {\n        return this.selected.reduce((t, i) => t + i.quantity, 0);\n    }\n\n    public get code() {\n        return this._org.currency_code;\n    }\n\n    constructor(\n        private _settings: SettingsService,\n        private _order: CateringOrderStateService,\n        private _org: OrganisationService,\n        @Inject(MAT_DIALOG_DATA)\n        private _data: {\n            items: CateringItem[];\n            details: any;\n            exact_time?: boolean;\n            offset?: number;\n            offset_day?: number;\n        }\n    ) {\n        const { duration } = this._data.details;\n        this._order.setFilters(this._data.details);\n        this.offset = Math.min(\n            Math.max(\n                this._settings.get('app.catering.min_offset'),\n                this._data.offset || 0\n            ),\n            (duration || 60) - this._settings.get('app.catering.end_offset')\n        );\n        this.offset_day = this._data.offset_day || 0;\n    }\n\n    public isSelected(id: string) {\n        return id && this.selected_ids.includes(id);\n    }\n\n    public setSelected(item: CateringItem, state: boolean) {\n        const list = this.selected.filter(\n            (_) => _.custom_id !== item.custom_id\n        );\n        if (state) {\n            const new_item = new CateringItem({ ...item, in_order: true });\n            list.push(new_item);\n            this.displayed = new_item;\n        }\n        this.selected = list;\n    }\n\n    public toggleFavourite(item: CateringItem) {\n        const fav_list = this.favorites;\n        const new_state = !fav_list.includes(item.id);\n        if (new_state) {\n            this._settings.saveUserSetting('favourite_menu_items', [\n                ...fav_list,\n                item.id,\n            ]);\n        } else {\n            this._settings.saveUserSetting(\n                'favourite_menu_items',\n                fav_list.filter((_) => _ !== item.id)\n            );\n        }\n    }\n}\n","import { Component, Inject, Output, EventEmitter } from '@angular/core';\nimport { MAT_DIALOG_DATA } from '@angular/material/dialog';\n\nimport { DialogEvent, HashMap } from 'libs/common/src/lib/types';\nimport { unique } from 'libs/common/src/lib/general';\n\nimport { CateringOption, CateringOptionGroup } from './catering.interfaces';\n\nexport interface CateringOrderOptionsModalData {\n    code: string;\n    options: CateringOption[];\n}\n\n@Component({\n    selector: 'app-catering-options-modal',\n    template: `\n        <header>\n            <h3>Select options</h3>\n            <button icon mat-dialog-close>\n                <app-icon>close</app-icon>\n            </button>\n        </header>\n        <main class=\"overflow-auto\">\n            <div\n                class=\"pt-1 pb-2 border-b border-base-200\"\n                *ngFor=\"let group of groups\"\n                [attr.group]=\"group.name\"\n            >\n                <div class=\"font-medium p-2 capitalize\">{{ group.name }}</div>\n                <div class=\"flex flex-col pl-6\">\n                    <ng-container *ngIf=\"!group.multiple; else multi_options\">\n                        <mat-radio-group\n                            class=\"flex flex-col\"\n                            aria-label=\"Select an option\"\n                            ngModel\n                            (ngModelChange)=\"updateGroupOption(group, $event)\"\n                        >\n                            <mat-radio-button class=\"my-1 mx-0\" value=\"\">\n                                <span class=\"font-medium p-2\">None</span>\n                            </mat-radio-button>\n                            <mat-radio-button\n                                class=\"my-1 mx-0\"\n                                *ngFor=\"let opt of group?.options\"\n                                [value]=\"opt.id\"\n                            >\n                                <div class=\"flex items-center justify-center\">\n                                    <div class=\"font-medium p-2 flex-1 w-1/2\">\n                                        {{ opt.name }}\n                                    </div>\n                                    <div\n                                        class=\"opacity-60 text-xs\"\n                                        *ngIf=\"opt.unit_price\"\n                                    >\n                                        +{{\n                                            opt.unit_price / 100\n                                                | currency: code\n                                        }}\n                                    </div>\n                                </div>\n                            </mat-radio-button>\n                        </mat-radio-group>\n                    </ng-container>\n                    <ng-template #multi_options>\n                        <mat-checkbox\n                            *ngFor=\"let opt of group?.options\"\n                            [(ngModel)]=\"option_state[opt.id]\"\n                        >\n                            <div class=\"flex items-center justify-center\">\n                                <div class=\"font-medium p-2 flex-1 w-1/2\">\n                                    {{ opt.name }}\n                                </div>\n                                <div\n                                    class=\"opacity-60 text-xs\"\n                                    *ngIf=\"opt.unit_price\"\n                                >\n                                    +{{ opt.unit_price / 100 | currency: code }}\n                                </div>\n                            </div>\n                        </mat-checkbox>\n                    </ng-template>\n                </div>\n            </div>\n        </main>\n        <footer class=\"p-2\">\n            <button btn matRipple class=\"w-32\" (click)=\"saveOptions()\">\n                Save\n            </button>\n        </footer>\n    `,\n    styles: [\n        `\n            main {\n                min-height: 24em;\n                width: 24rem;\n                max-width: calc(100vw - 2rem);\n            }\n        `,\n    ],\n})\nexport class CateringOrderOptionsModalComponent {\n    /** Emitter for events on the modal */\n    @Output() public event = new EventEmitter<DialogEvent>();\n    /** List of option groups */\n    public readonly groups: CateringOptionGroup[];\n    /** Mapping of options to their active state */\n    public option_state: HashMap<boolean> = {};\n    public readonly code = this._data.code;\n\n    constructor(\n        @Inject(MAT_DIALOG_DATA) private _data: CateringOrderOptionsModalData\n    ) {\n        const groups = unique(\n            this._data.options.map((i) => i.group || 'Other')\n        );\n        const group_list = [];\n        for (const group of groups) {\n            const options = this._data.options.filter((i) => i.group === group);\n            group_list.push({\n                name: group,\n                multiple: !!options.find((i) => i.multiple),\n                options,\n            });\n        }\n        this.groups = group_list;\n    }\n\n    public updateGroupOption(group: CateringOptionGroup, id: string) {\n        for (const option of group.options) {\n            this.option_state[option.id] = option.id === id;\n        }\n    }\n\n    public saveOptions() {\n        const options = this._data.options.filter(\n            (opt) => this.option_state[opt.id]\n        );\n        this.event.emit({ reason: 'done', metadata: { options } });\n    }\n}\n","import { Component, Input } from '@angular/core';\n\nimport {\n    ANIMATION_SHOW_CONTRACT_EXPAND,\n    AsyncHandler,\n    SettingsService,\n} from '@placeos/common';\n\nimport { CateringOrdersService } from './catering-orders.service';\nimport { CateringOrder } from './catering-order.class';\nimport { CATERING_STATUSES } from './catering.vars';\n\n@Component({\n    selector: 'catering-order',\n    template: `\n        <div\n            class=\"w-full flex items-center py-2\"\n            [class.bg-base-200]=\"!show_items\"\n            [class.bg-base-200]=\"show_items\"\n            *ngIf=\"order\"\n        >\n            <div\n                class=\"w-20 flex items-center justify-center z-20 h-full\"\n                [class.bg-base-200]=\"show_items\"\n                [class.dark:bg-neutral-700]=\"show_items\"\n            >\n                <div\n                    class=\"rounded-full bg-base-300 p-2 text-2xl text-black opacity-60 flex items-center justify-center\"\n                >\n                    <app-icon>room_service</app-icon>\n                </div>\n            </div>\n            <div time class=\"w-24\">\n                {{ order.deliver_at | date: time_format }}\n            </div>\n            <div time class=\"w-36 text-sm\">\n                {{ order.event?.date | date: 'MMM d' }},\n                {{ order.event?.date | date: time_format }}\n                <br />\n                {{ order.event?.date_end | date: 'MMM d' }},\n                {{ order.event?.date_end | date: time_format }}\n            </div>\n            <div class=\"flex-1\">\n                {{\n                    order.event?.space?.display_name ||\n                        order.event?.space?.name ||\n                        ''\n                }}\n                <span\n                    class=\"opacity-30\"\n                    *ngIf=\"\n                        !(\n                            order.event?.space?.display_name ||\n                            order.event?.space?.name\n                        )\n                    \"\n                >\n                    No Location\n                </span>\n            </div>\n            <div class=\"w-56\">\n                {{ order.event?.organiser?.name || order.event?.host || '' }}\n                <span\n                    class=\"opacity-30\"\n                    *ngIf=\"!(order.event?.organiser?.name || order.event?.host)\"\n                >\n                    Unknown Host\n                </span>\n            </div>\n            <div class=\"w-28\">{{ order.charge_code || '~ No Code ~' }}</div>\n            <div class=\"w-24\">\n                <button\n                    *ngIf=\"order.notes\"\n                    class=\"clear underline\"\n                    [matTooltip]=\"order.notes\"\n                >\n                    View\n                </button>\n            </div>\n            <div class=\"w-28\">\n                {{ order.invoice_number || '' }}\n                <span class=\"opacity-30\" *ngIf=\"!order.invoice_number\">\n                    No Invoice\n                </span>\n            </div>\n            <div class=\"w-36\">\n                <button\n                    name=\"status\"\n                    class=\"text-base border-none h-10 px-4 flex items-center text-white w-36\"\n                    matRipple\n                    [style.background]=\"status?.colour\"\n                    [matMenuTriggerFor]=\"menu\"\n                >\n                    <div class=\"flex text-center capitalize mx-2\">\n                        {{ status?.name }}\n                    </div>\n                    <app-icon class=\"pl-2\">arrow_drop_down</app-icon>\n                </button>\n            </div>\n            <div class=\"w-12\">\n                <button icon (click)=\"show_items = !show_items\">\n                    <app-icon>{{\n                        show_items\n                            ? 'keyboard_arrow_down'\n                            : 'keyboard_arrow_right'\n                    }}</app-icon>\n                </button>\n            </div>\n        </div>\n        <ul\n            *ngIf=\"order?.items.length\"\n            class=\"list-none p-0 m-0 w-full relative z-0\"\n            [class.shown]=\"show_items\"\n            [@show]=\"show_items ? 'show' : 'hide'\"\n        >\n            <li\n                catering-order-item\n                class=\"flex items-center\"\n                *ngFor=\"let item of order.items; let i = index\"\n                [order_id]=\"order?.id\"\n                [item]=\"item\"\n            ></li>\n        </ul>\n        <mat-menu #menu=\"matMenu\">\n            <button\n                mat-menu-item\n                *ngFor=\"let status of statuses\"\n                class=\"flex items-center\"\n                (click)=\"updateStatus(status.id)\"\n            >\n                <div\n                    class=\"rounded-full h-4 w-4 mr-2\"\n                    [style.background-color]=\"status.colour\"\n                ></div>\n                <span class=\"mr-2 w-20\">{{ status.name }}</span>\n            </button>\n        </mat-menu>\n    `,\n    styles: [\n        `\n            [name='status'] {\n                border-radius: 1.55rem;\n            }\n\n            button[mat-menu-item] {\n                display: flex;\n            }\n\n            [name='bar'] {\n                width: 2px;\n                top: -0.5rem;\n                left: calc(2.5rem - 1px);\n            }\n        `,\n    ],\n    animations: [ANIMATION_SHOW_CONTRACT_EXPAND],\n})\nexport class CateringOrderComponent extends AsyncHandler {\n    @Input() public order: CateringOrder;\n    /** Whether to show the items in the catering order */\n    public show_items = false;\n    /** List of status available to select */\n    public readonly statuses = CATERING_STATUSES;\n\n    public readonly updateStatus = async (s) => {\n        await this._orders.updateStatus(this.order, s);\n        this.timeout('status-change', () => ((this.order as any).status = s));\n    };\n\n    public get status() {\n        return this.statuses.find((i) => i.id === this.order.status);\n    }\n\n    public get time_format() {\n        return this._settings.time_format;\n    }\n\n    constructor(\n        private _orders: CateringOrdersService,\n        private _settings: SettingsService\n    ) {\n        super();\n    }\n}\n","import { Injectable } from '@angular/core';\nimport { BehaviorSubject, combineLatest, Observable, of } from 'rxjs';\nimport {\n    map,\n    switchMap,\n    debounceTime,\n    tap,\n    shareReplay,\n    catchError,\n} from 'rxjs/operators';\nimport { startOfDay, endOfDay, getUnixTime, format } from 'date-fns';\n\nimport { AsyncHandler, currentUser, flatten } from '@placeos/common';\nimport {\n    queryEvents,\n    saveEvent,\n    updateEventMetadata,\n} from 'libs/events/src/lib/events.fn';\nimport { CalendarEvent } from 'libs/events/src/lib/event.class';\n\nimport { CateringOrder } from './catering-order.class';\nimport { CateringOrderStatus } from './catering.interfaces';\n\nexport interface CateringOrderFilters {\n    /** UTC epoch of the date to get catering orders for */\n    date?: number;\n    /** List of zones to filter catering order bookings */\n    zones?: string[];\n    /** Search string to filter orders on */\n    search?: string;\n}\n\nfunction checkOrder(\n    order: CateringOrder,\n    filters: CateringOrderFilters\n): boolean {\n    const s = (filters.search || '').toLowerCase();\n    return !!order.items.find(\n        (item) =>\n            item.name.toLowerCase().includes(s) ||\n            !!item.options.find((option) =>\n                option.name.toLowerCase().includes(s)\n            )\n    );\n}\n\n@Injectable({\n    providedIn: 'root',\n})\nexport class CateringOrdersService extends AsyncHandler {\n    private _poll = new BehaviorSubject<number>(0);\n    private _loading = new BehaviorSubject<boolean>(false);\n    private _filters = new BehaviorSubject<CateringOrderFilters>({});\n\n    /** Observable for list of orders */\n    public readonly orders: Observable<CateringOrder[]> = combineLatest([\n        this._filters,\n        this._poll,\n    ]).pipe(\n        debounceTime(1000),\n        switchMap(([{ date, zones }]) => {\n            this._loading.next(true);\n            const start = getUnixTime(startOfDay(date || Date.now()));\n            const end = getUnixTime(endOfDay(date || Date.now()));\n            return queryEvents({\n                zone_ids: (zones || []).join(','),\n                period_start: start,\n                period_end: end,\n            }).pipe(\n                catchError(() => of([])),\n                map((events) =>\n                    flatten(\n                        events.map((event) =>\n                            event.valid_catering.map(\n                                (o) => new CateringOrder({ ...o, event })\n                            )\n                        )\n                    )\n                ),\n                map((orders) =>\n                    orders.filter(\n                        (o) =>\n                            format(o.deliver_at, 'yyyy-MM-dd') ===\n                            format(start * 1000, 'yyyy-MM-dd')\n                    )\n                )\n            );\n        }),\n        tap(() => this._loading.next(false)),\n        shareReplay(1)\n    );\n    /** Observable for loading status of orders */\n    public readonly loading = this._loading.asObservable();\n    /** Order filters */\n    public get filters() {\n        return this._filters.getValue();\n    }\n    /** Order filters */\n    public set filters(filters: CateringOrderFilters) {\n        this._filters.next(filters);\n    }\n    /** Filtered list of catering orders */\n    public readonly filtered = this.orders.pipe(\n        map((list) =>\n            list\n                .filter((order) => checkOrder(order, this._filters.getValue()))\n                .sort((a, b) => a.deliver_at - b.deliver_at)\n        )\n    );\n\n    constructor() {\n        super();\n        this.subscription('changes', this.orders.subscribe());\n    }\n\n    /** Start polling for catering orders */\n    public startPolling(delay: number = 15 * 1000) {\n        this.interval(\n            'polling',\n            () => this._poll.next(new Date().valueOf()),\n            delay\n        );\n    }\n\n    /** Stop polling for new catering orders */\n    public stopPolling() {\n        this.clearInterval('polling');\n    }\n\n    /**\n     * Update the status of the order\n     * @param order Order to update\n     * @param status New order status\n     */\n    public async updateStatus(\n        order: CateringOrder,\n        status: CateringOrderStatus\n    ) {\n        order.status = status;\n        const updated_order = new CateringOrder({\n            ...order,\n            status,\n            event: null,\n        });\n        const catering = [\n            ...(order.event.extension_data.catering || []).filter(\n                (o) => o.id !== order.id\n            ),\n            updated_order,\n        ].map((i) => new CateringOrder({ ...i }));\n        const event = new CalendarEvent({\n            ...order.event,\n            catering,\n        });\n        const system_id = event?.resources[0]?.id || event?.system?.id;\n        const booking = await updateEventMetadata(\n            event.id,\n            system_id,\n            event.extension_data\n        ).toPromise();\n        this.timeout('refresh-list', () => this._poll.next(Date.now()), 1000);\n        (order as any).status = status;\n        return booking;\n    }\n}\n","import { Injectable } from '@angular/core';\nimport { MatDialog } from '@angular/material/dialog';\nimport {\n    updateMetadata,\n    showMetadata,\n    PlaceMetadata,\n} from '@placeos/ts-client';\nimport { BehaviorSubject, combineLatest, of } from 'rxjs';\nimport {\n    catchError,\n    filter,\n    first,\n    map,\n    shareReplay,\n    switchMap,\n    take,\n    tap,\n} from 'rxjs/operators';\n\nimport {\n    AsyncHandler,\n    flatten,\n    notifyError,\n    notifySuccess,\n    openConfirmModal,\n    SettingsService,\n    unique,\n} from '@placeos/common';\nimport { Building, OrganisationService } from '@placeos/organisation';\n\nimport {\n    CateringItemModalComponent,\n    CateringItemModalData,\n} from './catering-item-modal.component';\nimport {\n    CateringItemOptionModalComponent,\n    CateringItemOptionModalData,\n} from './catering-option-modal.component';\nimport {\n    AttachedResourceConfigModalComponent,\n    AttachedResourceRuleset,\n    AttachedResourceConfigModalData,\n} from '@placeos/components';\nimport { CateringItem } from './catering-item.class';\nimport { CateringOrder } from './catering-order.class';\nimport {\n    CateringOrderModalComponent,\n    CateringOrderModalData,\n} from './catering-order-modal.component';\nimport { CateringOption } from './catering.interfaces';\nimport {\n    CateringOrderOptionsModalComponent,\n    CateringOrderOptionsModalData,\n} from './catering-order-options-modal.component';\nimport { CateringImportMenuModalComponent } from './catering-import-menu-modal.component';\n\nexport interface CateringSettings {\n    require_notes?: boolean;\n    charge_codes?: string[];\n    disabled_rooms?: string[];\n}\n\n@Injectable({\n    providedIn: 'root',\n})\nexport class CateringStateService extends AsyncHandler {\n    private _updated = new BehaviorSubject(0);\n    /** Active menu */\n    private _menu = new BehaviorSubject<CateringItem[]>([]);\n    /** Whether the menu for the active building is loading */\n    private _loading = new BehaviorSubject<boolean>(false);\n    /** Currency code for the active building */\n    private _currency = new BehaviorSubject<string>('USD');\n\n    private _change = new BehaviorSubject(0);\n    /** Observable for the active menu */\n    public readonly menu = this._menu.asObservable();\n    /** Observable for whether the menu for the active building is loadingg */\n    public readonly loading = this._loading.asObservable();\n    /** Observable for the currency code of the active building */\n    public readonly currency = this._currency.asObservable();\n\n    public readonly settings = combineLatest([\n        this._org.active_building,\n        this._change,\n    ]).pipe(\n        filter(([_]) => !!_),\n        switchMap(([_]) =>\n            showMetadata(_.id, 'catering-settings').pipe(\n                catchError((_) => of({} as PlaceMetadata))\n            )\n        ),\n        map((_) => (_.details as CateringSettings) || {}),\n        tap((_) =>\n            this._settings.post('require_catering_notes', !!_?.require_notes)\n        ),\n        shareReplay(1)\n    );\n\n    public readonly charge_codes = this.settings.pipe(\n        map((_) => _.charge_codes || [])\n    );\n    public readonly availability = this.settings.pipe(\n        map((_) => _.disabled_rooms || [])\n    );\n\n    public zone = '';\n\n    public get is_editable() {\n        return !this.zone || this.zone === this._org.building?.id;\n    }\n\n    public get categories() {\n        const menu = this._menu.getValue();\n        return unique(menu.map((i) => i.category));\n    }\n\n    constructor(\n        private _org: OrganisationService,\n        private _dialog: MatDialog,\n        private _settings: SettingsService\n    ) {\n        super();\n        this.subscription(\n            'building',\n            this._org.active_building.subscribe(async (bld: Building) => {\n                if (bld) {\n                    const menu = (await this.getCateringForZone(bld.id)).map(\n                        (i) => new CateringItem(i)\n                    );\n                    this._currency.next(\n                        this._settings.get('app.currency') ||\n                            bld.currency ||\n                            'USD'\n                    );\n                    this._menu.next(menu);\n                }\n            })\n        );\n    }\n\n    /**\n     * Create/Edit catering order\n     * @param order Order to manipulate\n     */\n    public async manageCateringOrder(order: CateringOrder) {\n        const ref = this._dialog.open<\n            CateringOrderModalComponent,\n            CateringOrderModalData\n        >(CateringOrderModalComponent, {\n            data: {\n                code: this._currency.getValue(),\n                order,\n                menu: this.menu,\n                loading: this.loading,\n                getCateringConfig: (_) => this.getCateringConfig(_),\n                selectOptions: (_) => this.selectOptions(_),\n            },\n        });\n        const details = await Promise.race([\n            ref.componentInstance.event\n                .pipe(first((_) => _.reason === 'done'))\n                .toPromise(),\n            ref.afterClosed().toPromise(),\n        ]);\n        ref.close();\n        return details?.metadata?.order || order;\n    }\n\n    public async addItem(item: CateringItem = new CateringItem()) {\n        const ref = this._dialog.open<\n            CateringItemModalComponent,\n            CateringItemModalData\n        >(CateringItemModalComponent, {\n            data: {\n                item,\n                categories: this.categories,\n            },\n        });\n        const details = await Promise.race([\n            ref.componentInstance.event\n                .pipe(first((_) => _.reason === 'done'))\n                .toPromise(),\n            ref.afterClosed().toPromise(),\n        ]);\n        if (details?.reason !== 'done') return;\n        const menu = this._menu.getValue();\n        const index = menu.findIndex((itm) => itm.id === item.id);\n        if (index >= 0) {\n            menu.splice(index, 1, details.metadata.item);\n        } else {\n            menu.push(details.metadata.item);\n        }\n        this.updateMenu(this._org.building.id, menu).then(\n            () => {\n                this._menu.next([...menu]);\n                ref.close();\n            },\n            () => (ref.componentInstance.loading = false)\n        );\n    }\n\n    public updateItem(item: CateringItem) {\n        const menu = this._menu.getValue();\n        const index = menu.findIndex((itm) => itm.id === item.id);\n        if (index >= 0) menu.splice(index, 1, item);\n        else menu.push(item);\n        this.updateMenu(this._org.building.id, menu).then(() =>\n            this._menu.next([...menu])\n        );\n    }\n\n    public async addOption(\n        item: CateringItem,\n        option: CateringOption = {} as any\n    ) {\n        const types = unique(item.options.map((i) => i.group));\n        const ref = this._dialog.open<\n            CateringItemOptionModalComponent,\n            CateringItemOptionModalData\n        >(CateringItemOptionModalComponent, {\n            data: {\n                parent: item,\n                option,\n                types,\n            },\n        });\n        const details = await Promise.race([\n            ref.componentInstance.event\n                .pipe(first((_) => _.reason === 'done'))\n                .toPromise(),\n            ref.afterClosed().toPromise(),\n        ]);\n        if (details?.reason !== 'done') return;\n        const menu = this._menu.getValue();\n        const index = menu.findIndex((itm) => itm.id === item.id);\n        if (index >= 0) {\n            menu.splice(index, 1, details.metadata.item);\n        } else {\n            menu.push(details.metadata.item);\n        }\n        this.updateMenu(this._org.building.id, menu).then(\n            () => {\n                this._menu.next([...menu]);\n                ref.close();\n            },\n            () => (ref.componentInstance.loading = false)\n        );\n    }\n\n    public async selectOptions(options: CateringOption[]) {\n        const ref = this._dialog.open<\n            CateringOrderOptionsModalComponent,\n            CateringOrderOptionsModalData\n        >(CateringOrderOptionsModalComponent, {\n            data: {\n                code: this._currency.getValue(),\n                options,\n            },\n        });\n        const details = await Promise.race([\n            ref.componentInstance.event\n                .pipe(first((_) => _.reason === 'done'))\n                .toPromise(),\n            ref.afterClosed().toPromise(),\n        ]);\n        if (details?.reason !== 'done') return [];\n        ref.close();\n        return details.metadata.options;\n    }\n\n    public async deleteItem(item: CateringItem) {\n        const details = await openConfirmModal(\n            {\n                title: 'Delete Catering Item',\n                content: `Are you sure you wish to remove the catering item ${item.name} from the menu?`,\n                icon: {\n                    type: 'icon',\n                    class: 'material-icons',\n                    content: 'delete',\n                },\n            },\n            this._dialog\n        );\n        if (details.reason !== 'done') return;\n        details.loading('Removing catering item...');\n        const menu = this._menu.getValue().filter((itm) => item.id !== itm.id);\n        this.updateMenu(this._org.building.id, menu).then(\n            () => {\n                this._menu.next([...menu]);\n                details.close();\n            },\n            () => details.loading('')\n        );\n    }\n\n    public async deleteOption(item: CateringItem, option: CateringOption) {\n        const details = await openConfirmModal(\n            {\n                title: 'Delete Catering Item Option',\n                content: `Are you sure you wish to remove the catering option \"${option.name}\" from \"${item.name}\"?`,\n                icon: {\n                    type: 'icon',\n                    class: 'material-icons',\n                    content: 'delete',\n                },\n            },\n            this._dialog\n        );\n        if (details.reason !== 'done') return;\n        details.loading('Removing catering item option...');\n        const menu = this._menu.getValue();\n        menu.splice(\n            menu.findIndex((itm) => itm.id === item.id),\n            1,\n            new CateringItem({\n                ...item,\n                options: item.options.filter((opt) => opt.id !== option.id),\n            })\n        );\n        this.updateMenu(this._org.building.id, menu).then(\n            () => {\n                this._menu.next([...menu]);\n                details.close();\n            },\n            () => details.loading('')\n        );\n    }\n\n    public async editConfig() {\n        const config = await this.getCateringConfig(this._org.building.id);\n        const { require_notes } = await this.settings.pipe(take(1)).toPromise();\n        const menu = this._menu.getValue();\n        const types = unique(flatten(menu.map((i) => [i.category, ...i.tags])));\n        const ref = this._dialog.open<\n            AttachedResourceConfigModalComponent,\n            AttachedResourceConfigModalData\n        >(AttachedResourceConfigModalComponent, {\n            data: {\n                config,\n                types,\n                require_notes,\n                saveNotes: (b) => this.saveSettings({ require_notes: b }),\n            },\n        });\n        const details = await Promise.race([\n            ref.componentInstance.event\n                .pipe(first((_) => _.reason === 'done'))\n                .toPromise(),\n            ref.afterClosed().toPromise(),\n        ]);\n        if (details?.reason !== 'done') return;\n        this.updateConfig(this._org.building.id, details.metadata).then(\n            () => ref.close(),\n            () => (ref.componentInstance.loading = false)\n        );\n    }\n\n    public async importMenu() {\n        const ref = this._dialog.open(CateringImportMenuModalComponent);\n        const details = await Promise.race([\n            ref.componentInstance.event\n                .pipe(first((_) => _.reason === 'done'))\n                .toPromise(),\n            ref.afterClosed().toPromise(),\n        ]);\n        if (details?.reason !== 'done') return;\n        ref.componentInstance.loading = 'Updating menu...';\n        const menu = this._menu.getValue();\n        const bld = this._org.building;\n        const updated_menu = unique(details.metadata.concat(menu), 'id');\n        await this.updateMenu(bld.id, updated_menu).catch((_) => {\n            notifyError('Error importing catering menu');\n            ref.close();\n            throw _;\n        });\n        notifySuccess(\n            `Successfully imported catering menu. ${details.metadata.length} item(s) added.`\n        );\n        ref.close();\n    }\n\n    private updateMenu(zone_id: string, menu: CateringItem[]) {\n        return updateMetadata(zone_id, {\n            id: zone_id,\n            name: 'catering',\n            details: menu,\n            description: `Catering menu for ${zone_id}`,\n        }).toPromise();\n    }\n\n    public async saveSettings(settings: CateringSettings) {\n        const old_settings = await this.settings.pipe(take(1)).toPromise();\n        const result = await updateMetadata(this._org.building.id, {\n            id: this._org.building.id,\n            name: 'catering-settings',\n            details: { ...old_settings, ...settings },\n            description: `Catering settings for ${this._org.building.id}`,\n        }).toPromise();\n        this._change.next(Date.now());\n        return result;\n    }\n\n    private async getCateringForZone(zone_id: string): Promise<CateringItem[]> {\n        const menu = (await showMetadata(zone_id, 'catering').toPromise())\n            .details;\n        return menu instanceof Array ? menu : [];\n    }\n\n    public async getCateringConfig(\n        zone_id: string = this._org.building.id\n    ): Promise<AttachedResourceRuleset[]> {\n        const rules = (\n            await showMetadata(zone_id, 'catering_config').toPromise()\n        ).details;\n        return rules instanceof Array ? (rules as any) : [];\n    }\n\n    private updateConfig(zone_id: string, config: AttachedResourceRuleset[]) {\n        return updateMetadata(zone_id, {\n            id: zone_id,\n            name: 'catering_config',\n            details: config,\n            description: `Catering menu config for ${zone_id}`,\n        }).toPromise();\n    }\n\n    public addItemToOrder(order: CateringOrder, new_item: CateringItem) {\n        let items = order.items;\n        const match = items.find(\n            (item) =>\n                item.id === new_item.id &&\n                new_item.options?.length ===\n                    item.options?.reduce(\n                        (c, o) =>\n                            c +\n                            (new_item.options.find((opt) => o.id === opt.id)\n                                ? 1\n                                : 0),\n                        0\n                    )\n        );\n        match\n            ? ((match as any).quantity += 1)\n            : (items = items.concat([\n                  new CateringItem({ ...new_item, quantity: 1 }),\n              ]));\n        const new_order = new CateringOrder({\n            ...order,\n            items,\n            event: null,\n        });\n        return new_order;\n    }\n}\n","// Event catering order interfaces\nexport type CateringOrderStatus =\n    | 'accepted'\n    | 'preparing'\n    | 'ready'\n    | 'delivered'\n    | 'cancelled';\n\nexport interface CateringOptionGroup {\n    name: string;\n    multiple: boolean;\n    options: CateringOption[];\n}\n\nexport interface CateringOption {\n    /** Unique Identifier of the catering option */\n    readonly id: string;\n    /** Display name for the catering option */\n    readonly name: string;\n    /** Name of the group associated with the option */\n    readonly group: string;\n    /** Whether multiple items in the group can be selected */\n    readonly multiple: boolean;\n    /** Cost of adding the option to the item */\n    readonly unit_price: number;\n    /** Whether the catering option is active for the item */\n    active?: boolean;\n}\n","import { CommonModule } from '@angular/common';\nimport { NgModule, Type } from '@angular/core';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\nimport { MatAutocompleteModule } from '@angular/material/autocomplete';\nimport { MatCheckboxModule } from '@angular/material/checkbox';\nimport { MatDialogModule } from '@angular/material/dialog';\nimport { MatMenuModule } from '@angular/material/menu';\nimport { MatTabsModule } from '@angular/material/tabs';\nimport { MatRadioModule } from '@angular/material/radio';\nimport { MatTooltipModule } from '@angular/material/tooltip';\nimport { MatFormFieldModule } from '@angular/material/form-field';\n\nimport { FormFieldsModule } from '@placeos/form-fields';\n\nimport { ComponentsModule } from 'libs/components/src/lib/components.module';\n\nimport { CateringItemModalComponent } from './catering-item-modal.component';\nimport { CateringMenuItemComponent } from './catering-menu-item.component';\nimport { CateringMenuComponent } from './catering-menu.component';\nimport { CateringItemOptionModalComponent } from './catering-option-modal.component';\nimport { CateringOrderItemComponent } from './catering-order-item.component';\nimport { CateringOrderListComponent } from './catering-order-list.component';\nimport { CateringOrderModalComponent } from './catering-order-modal.component';\nimport { CateringOrderOptionsModalComponent } from './catering-order-options-modal.component';\nimport { CateringOrderComponent } from './catering-order.component';\nimport { CateringImportMenuModalComponent } from './catering-import-menu-modal.component';\n\nimport { NewCateringOrderModalComponent } from './catering-order-modal/new-catering-order-modal.component';\nimport { CateringItemListComponent } from './catering-order-modal/catering-item-list.component';\nimport { CateringItemDetailsComponent } from './catering-order-modal/catering-item-details.component';\nimport { CateringItemFiltersComponent } from './catering-order-modal/catering-item-filters.component';\nimport { CateringListFieldComponent } from './catering-list-field.component';\nimport { ChargeCodeListModalComponent } from './charge-code-list-modal.component';\nimport { CateringItemListItemComponent } from './catering-order-modal/catering-item-list-item.component';\n\nconst COMPONENTS: Type<any>[] = [\n    CateringOrderOptionsModalComponent,\n    CateringOrderModalComponent,\n    CateringItemModalComponent,\n    CateringMenuComponent,\n    CateringMenuItemComponent,\n    CateringItemOptionModalComponent,\n    CateringOrderListComponent,\n    CateringOrderComponent,\n    CateringOrderItemComponent,\n    CateringImportMenuModalComponent,\n\n    CateringListFieldComponent,\n    NewCateringOrderModalComponent,\n    CateringItemListComponent,\n    CateringItemDetailsComponent,\n    CateringItemFiltersComponent,\n    CateringItemListItemComponent,\n\n    ChargeCodeListModalComponent,\n];\n\n@NgModule({\n    declarations: [...COMPONENTS],\n    imports: [\n        CommonModule,\n        MatMenuModule,\n        MatTabsModule,\n        MatAutocompleteModule,\n        MatDialogModule,\n        MatCheckboxModule,\n        MatRadioModule,\n        MatTooltipModule,\n        FormsModule,\n        ReactiveFormsModule,\n        ComponentsModule,\n        MatFormFieldModule,\n        FormFieldsModule,\n    ],\n    providers: [],\n    exports: [...COMPONENTS],\n})\nexport class SharedCateringModule {}\n","export * from './catering-order-options-modal.component';\nexport * from './catering-order-modal.component';\nexport * from './catering-item-modal.component';\nexport * from './catering-item.class';\nexport * from './catering-menu-item.component';\nexport * from './catering-menu.component';\nexport * from './catering-option-modal.component';\nexport * from './catering-order-item.component';\nexport * from './catering-order.component';\nexport * from './catering-order-list.component';\nexport * from './catering-order.class';\nexport * from './catering-orders.service';\nexport * from './catering-state.service';\nexport * from './catering.interfaces';\nexport * from './catering.module';\nexport * from './catering.vars';\nexport * from './catering-order-modal/new-catering-order-modal.component';\n","import { Identity } from '@placeos/common';\n\nexport const CATERING_STATUSES: Identity[] = [\n    { id: 'pending', name: 'Pending', icon: { class: 'custom-pending' }, colour: '#ccc' },\n    { id: 'accepted', name: 'Accepted', icon: { class: 'custom-accepted' }, colour: '#3996B6' },\n    {\n        id: 'preparing',\n        name: 'Preparing',\n        icon: { class: 'custom-preparing' },\n        colour: '#E7536B',\n    },\n    { id: 'ready', name: 'Ready', icon: { class: 'custom-ready' }, colour: '#FFD028' },\n    {\n        id: 'delivered',\n        name: 'Delivered',\n        icon: { class: 'custom-delivered' },\n        colour: '#75BB43',\n    },\n    {\n        id: 'cancelled',\n        name: 'Cancelled',\n        icon: { class: 'custom-cancelled' },\n        colour: '#747474',\n    },\n];\n","import { Component } from '@angular/core';\nimport { MatDialogRef } from '@angular/material/dialog';\nimport { csvToJson, notifyError, unique } from '@placeos/common';\nimport { take } from 'rxjs/operators';\nimport { CateringStateService } from './catering-state.service';\n\n@Component({\n    selector: 'charge-code-list-modal',\n    template: `\n        <header>\n            <h2>Edit Charge Codes</h2>\n            <button icon mat-dialog-close>\n                <app-icon>close</app-icon>\n            </button>\n        </header>\n        <main\n            *ngIf=\"!loading; else load_state\"\n            class=\"overflow-auto max-h-[65vh] min-h-[20rem] flex flex-col\"\n        >\n            <div\n                class=\"flex items-center space-x-2 w-full hover:bg-neutral px-2\"\n                *ngFor=\"\n                    let code of charge_codes;\n                    let i = index;\n                    trackBy: trackByFn\n                \"\n            >\n                <mat-form-field appearance=\"outline\" class=\"h-14 flex-1\">\n                    <input\n                        matInput\n                        [(ngModel)]=\"charge_codes[i]\"\n                        placeholder=\"Charge Code\"\n                    />\n                </mat-form-field>\n                <button icon (click)=\"removeCode(i)\">\n                    <app-icon>delete</app-icon>\n                </button>\n            </div>\n        </main>\n        <footer\n            class=\"flex items-center p-2 space-x-2 border-t border-base-200\"\n            *ngIf=\"!loading\"\n        >\n            <button btn matRipple class=\"w-48 inverse relative\">\n                Import Codes\n                <input\n                    class=\"opacity-0 absolute inset-0\"\n                    type=\"file\"\n                    (change)=\"addCodesFromFile($event)\"\n                />\n            </button>\n            <button btn matRipple class=\"w-48\" (click)=\"newCode()\">\n                Add Code\n            </button>\n            <button btn matRipple class=\"w-48\" (click)=\"saveChargeCodes()\">\n                Save Changes\n            </button>\n        </footer>\n        <ng-template #load_state>\n            <main\n                class=\"flex flex-col items-center justify-center p-20 space-y-2\"\n            >\n                <mat-spinner diameter=\"32\"></mat-spinner>\n                <p>Saving changes to charge codes...</p>\n            </main>\n        </ng-template>\n    `,\n    styles: [``],\n})\nexport class ChargeCodeListModalComponent {\n    public charge_codes: string[] = [];\n    public loading = false;\n\n    constructor(\n        private _state: CateringStateService,\n        private _dialog_ref: MatDialogRef<ChargeCodeListModalComponent>\n    ) {}\n\n    public async ngOnInit() {\n        this.charge_codes =\n            (await this._state.charge_codes.pipe(take(1)).toPromise()) || [];\n    }\n\n    public newCode() {\n        this.charge_codes.push('');\n    }\n\n    public removeCode(index: number) {\n        this.charge_codes.splice(index, 1);\n    }\n\n    /**\n     * Load CSV file and populate the code list with the contents\n     * @param event File input field event\n     */\n    public addCodesFromFile(event) {\n        /* istanbul ignore else */\n        if (event.target) {\n            const file = event.target.files[0];\n            /* istanbul ignore else */\n            if (file) {\n                const reader = new FileReader();\n                reader.readAsText(file, 'UTF-8');\n                reader.addEventListener('load', (evt) => {\n                    const list =\n                        csvToJson((evt.srcElement as any).result) || [];\n                    for (const { code, description } of list) {\n                        this.charge_codes.push(code);\n                    }\n                    this.charge_codes = unique(this.charge_codes);\n                    event.target.value = '';\n                });\n                reader.addEventListener('error', (_) =>\n                    notifyError('Error reading file.')\n                );\n            }\n        }\n    }\n\n    public async saveChargeCodes() {\n        this.loading = true;\n        const cleaned_codes = this.charge_codes.filter((_) => _ && _.trim());\n        await this._state.saveSettings({ charge_codes: cleaned_codes });\n        this._dialog_ref.close();\n    }\n\n    public trackByFn(idx: number, item: any) {\n        return idx;\n    }\n}\n","import { isAfter, isBefore, setHours, subHours } from 'date-fns';\n\nimport { CalendarEvent } from 'libs/events/src/lib/event.class';\nimport { CateringItem } from './catering-item.class';\nimport { Observable, of } from 'rxjs';\nimport { showMetadata } from '@placeos/ts-client';\nimport { catchError, map } from 'rxjs/operators';\nimport { stringToMinutes } from '@placeos/common';\nimport { AttachedResourceRuleset } from '@placeos/components';\n\nconst RULE_REQUESTS: Record<string, Observable<AttachedResourceRuleset[]>> = {};\n\nexport function getCateringRulesForZone(\n    zone_id: string,\n    fresh: boolean = false\n) {\n    if (!zone_id) return of([] as AttachedResourceRuleset[]);\n    if (!RULE_REQUESTS[zone_id] || fresh)\n        RULE_REQUESTS[zone_id] = showMetadata(zone_id, 'catering_config').pipe(\n            map(\n                (_) =>\n                    (_.details instanceof Array\n                        ? _.details\n                        : []) as AttachedResourceRuleset[]\n            ),\n            catchError((e) => of([] as AttachedResourceRuleset[]))\n        );\n    return RULE_REQUESTS[zone_id];\n}\n\nexport function cateringItemAvailable(\n    item: CateringItem,\n    rules: AttachedResourceRuleset[],\n    event: CalendarEvent\n) {\n    let is_available = true;\n    for (const rule of rules) {\n        if (\n            item.category === rule.name ||\n            item.tags.includes(rule.name) ||\n            event.resources.find((_) => _.zones.includes(rule.name)) ||\n            event.space?.zones.includes(rule.name) ||\n            rule.name === '*'\n        ) {\n            let matches = 0;\n            for (const condition of rule.rules) {\n                const date = new Date(event.date);\n                switch (condition[0]) {\n                    case 'is_before':\n                        matches += isBefore(\n                            Date.now(),\n                            subHours(date, condition[1])\n                        )\n                            ? 1\n                            : 0;\n                        break;\n                    case 'within_hours':\n                        matches += isAfter(\n                            Date.now(),\n                            subHours(date, condition[1])\n                        )\n                            ? 1\n                            : 0;\n                        break;\n                    case 'after_hour':\n                        matches += isAfter(date, setHours(date, condition[1]))\n                            ? 1\n                            : 0;\n                        break;\n                    case 'before_hour':\n                        matches += isBefore(date, setHours(date, condition[1]))\n                            ? 1\n                            : 0;\n                        break;\n                    case 'min_length':\n                        matches +=\n                            event.duration >= stringToMinutes(condition[1])\n                                ? 1\n                                : 0;\n                        break;\n                    case 'max_length':\n                        matches +=\n                            event.duration <= stringToMinutes(condition[1])\n                                ? 1\n                                : 0;\n                        break;\n                    case 'visitor_type':\n                        matches +=\n                            event.ext('visitor_type') === condition[1] ? 1 : 0;\n                        break;\n                    default:\n                        matches += 1;\n                }\n            }\n            is_available = matches >= rule.rules.length;\n        }\n    }\n    return is_available;\n}\n","class e{constructor(a,b,c,d,f){this._legacyCanvasSize=e.DEFAULT_CANVAS_SIZE;this._preferredCamera=\"environment\";this._maxScansPerSecond=25;this._lastScanTimestamp=-1;this._destroyed=this._flashOn=this._paused=this._active=!1;this.$video=a;this.$canvas=document.createElement(\"canvas\");c&&\"object\"===typeof c?this._onDecode=b:(c||d||f?console.warn(\"You're using a deprecated version of the QrScanner constructor which will be removed in the future\"):console.warn(\"Note that the type of the scan result passed to onDecode will change in the future. To already switch to the new api today, you can pass returnDetailedScanResult: true.\"),\nthis._legacyOnDecode=b);b=\"object\"===typeof c?c:{};this._onDecodeError=b.onDecodeError||(\"function\"===typeof c?c:this._onDecodeError);this._calculateScanRegion=b.calculateScanRegion||(\"function\"===typeof d?d:this._calculateScanRegion);this._preferredCamera=b.preferredCamera||f||this._preferredCamera;this._legacyCanvasSize=\"number\"===typeof c?c:\"number\"===typeof d?d:this._legacyCanvasSize;this._maxScansPerSecond=b.maxScansPerSecond||this._maxScansPerSecond;this._onPlay=this._onPlay.bind(this);this._onLoadedMetaData=\nthis._onLoadedMetaData.bind(this);this._onVisibilityChange=this._onVisibilityChange.bind(this);this._updateOverlay=this._updateOverlay.bind(this);a.disablePictureInPicture=!0;a.playsInline=!0;a.muted=!0;let h=!1;a.hidden&&(a.hidden=!1,h=!0);document.body.contains(a)||(document.body.appendChild(a),h=!0);c=a.parentElement;if(b.highlightScanRegion||b.highlightCodeOutline){d=!!b.overlay;this.$overlay=b.overlay||document.createElement(\"div\");f=this.$overlay.style;f.position=\"absolute\";f.display=\"none\";\nf.pointerEvents=\"none\";this.$overlay.classList.add(\"scan-region-highlight\");if(!d&&b.highlightScanRegion){this.$overlay.innerHTML='<svg class=\"scan-region-highlight-svg\" viewBox=\"0 0 238 238\" preserveAspectRatio=\"none\" style=\"position:absolute;width:100%;height:100%;left:0;top:0;fill:none;stroke:#e9b213;stroke-width:4;stroke-linecap:round;stroke-linejoin:round\"><path d=\"M31 2H10a8 8 0 0 0-8 8v21M207 2h21a8 8 0 0 1 8 8v21m0 176v21a8 8 0 0 1-8 8h-21m-176 0H10a8 8 0 0 1-8-8v-21\"/></svg>';try{this.$overlay.firstElementChild.animate({transform:[\"scale(.98)\",\n\"scale(1.01)\"]},{duration:400,iterations:Infinity,direction:\"alternate\",easing:\"ease-in-out\"})}catch(m){}c.insertBefore(this.$overlay,this.$video.nextSibling)}b.highlightCodeOutline&&(this.$overlay.insertAdjacentHTML(\"beforeend\",'<svg class=\"code-outline-highlight\" preserveAspectRatio=\"none\" style=\"display:none;width:100%;height:100%;fill:none;stroke:#e9b213;stroke-width:5;stroke-dasharray:25;stroke-linecap:round;stroke-linejoin:round\"><polygon/></svg>'),this.$codeOutlineHighlight=this.$overlay.lastElementChild)}this._scanRegion=\nthis._calculateScanRegion(a);requestAnimationFrame(()=>{let m=window.getComputedStyle(a);\"none\"===m.display&&(a.style.setProperty(\"display\",\"block\",\"important\"),h=!0);\"visible\"!==m.visibility&&(a.style.setProperty(\"visibility\",\"visible\",\"important\"),h=!0);h&&(console.warn(\"QrScanner has overwritten the video hiding style to avoid Safari stopping the playback.\"),a.style.opacity=\"0\",a.style.width=\"0\",a.style.height=\"0\",this.$overlay&&this.$overlay.parentElement&&this.$overlay.parentElement.removeChild(this.$overlay),\ndelete this.$overlay,delete this.$codeOutlineHighlight);this.$overlay&&this._updateOverlay()});a.addEventListener(\"play\",this._onPlay);a.addEventListener(\"loadedmetadata\",this._onLoadedMetaData);document.addEventListener(\"visibilitychange\",this._onVisibilityChange);window.addEventListener(\"resize\",this._updateOverlay);this._qrEnginePromise=e.createQrEngine()}static set WORKER_PATH(a){console.warn(\"Setting QrScanner.WORKER_PATH is not required and not supported anymore. Have a look at the README for new setup instructions.\")}static async hasCamera(){try{return!!(await e.listCameras(!1)).length}catch(a){return!1}}static async listCameras(a=\n!1){if(!navigator.mediaDevices)return[];let b=async()=>(await navigator.mediaDevices.enumerateDevices()).filter(d=>\"videoinput\"===d.kind),c;try{a&&(await b()).every(d=>!d.label)&&(c=await navigator.mediaDevices.getUserMedia({audio:!1,video:!0}))}catch(d){}try{return(await b()).map((d,f)=>({id:d.deviceId,label:d.label||(0===f?\"Default Camera\":`Camera ${f+1}`)}))}finally{c&&(console.warn(\"Call listCameras after successfully starting a QR scanner to avoid creating a temporary video stream\"),e._stopVideoStream(c))}}async hasFlash(){let a;\ntry{if(this.$video.srcObject){if(!(this.$video.srcObject instanceof MediaStream))return!1;a=this.$video.srcObject}else a=(await this._getCameraStream()).stream;return\"torch\"in a.getVideoTracks()[0].getSettings()}catch(b){return!1}finally{a&&a!==this.$video.srcObject&&(console.warn(\"Call hasFlash after successfully starting the scanner to avoid creating a temporary video stream\"),e._stopVideoStream(a))}}isFlashOn(){return this._flashOn}async toggleFlash(){this._flashOn?await this.turnFlashOff():await this.turnFlashOn()}async turnFlashOn(){if(!this._flashOn&&\n!this._destroyed&&(this._flashOn=!0,this._active&&!this._paused))try{if(!await this.hasFlash())throw\"No flash available\";await this.$video.srcObject.getVideoTracks()[0].applyConstraints({advanced:[{torch:!0}]})}catch(a){throw this._flashOn=!1,a;}}async turnFlashOff(){this._flashOn&&(this._flashOn=!1,await this._restartVideoStream())}destroy(){this.$video.removeEventListener(\"loadedmetadata\",this._onLoadedMetaData);this.$video.removeEventListener(\"play\",this._onPlay);document.removeEventListener(\"visibilitychange\",\nthis._onVisibilityChange);window.removeEventListener(\"resize\",this._updateOverlay);this._destroyed=!0;this._flashOn=!1;this.stop();e._postWorkerMessage(this._qrEnginePromise,\"close\")}async start(){if(this._destroyed)throw Error(\"The QR scanner can not be started as it had been destroyed.\");if(!this._active||this._paused)if(\"https:\"!==window.location.protocol&&console.warn(\"The camera stream is only accessible if the page is transferred via https.\"),this._active=!0,!document.hidden)if(this._paused=\n!1,this.$video.srcObject)await this.$video.play();else try{let {stream:a,facingMode:b}=await this._getCameraStream();!this._active||this._paused?e._stopVideoStream(a):(this._setVideoMirror(b),this.$video.srcObject=a,await this.$video.play(),this._flashOn&&(this._flashOn=!1,this.turnFlashOn().catch(()=>{})))}catch(a){if(!this._paused)throw this._active=!1,a;}}stop(){this.pause();this._active=!1}async pause(a=!1){this._paused=!0;if(!this._active)return!0;this.$video.pause();this.$overlay&&(this.$overlay.style.display=\n\"none\");let b=()=>{this.$video.srcObject instanceof MediaStream&&(e._stopVideoStream(this.$video.srcObject),this.$video.srcObject=null)};if(a)return b(),!0;await new Promise(c=>setTimeout(c,300));if(!this._paused)return!1;b();return!0}async setCamera(a){a!==this._preferredCamera&&(this._preferredCamera=a,await this._restartVideoStream())}static async scanImage(a,b,c,d,f=!1,h=!1){let m,n=!1;b&&(\"scanRegion\"in b||\"qrEngine\"in b||\"canvas\"in b||\"disallowCanvasResizing\"in b||\"alsoTryWithoutScanRegion\"in\nb||\"returnDetailedScanResult\"in b)?(m=b.scanRegion,c=b.qrEngine,d=b.canvas,f=b.disallowCanvasResizing||!1,h=b.alsoTryWithoutScanRegion||!1,n=!0):b||c||d||f||h?console.warn(\"You're using a deprecated api for scanImage which will be removed in the future.\"):console.warn(\"Note that the return type of scanImage will change in the future. To already switch to the new api today, you can pass returnDetailedScanResult: true.\");b=!!c;try{let p,k;[c,p]=await Promise.all([c||e.createQrEngine(),e._loadImage(a)]);\n[d,k]=e._drawToCanvas(p,m,d,f);let q;if(c instanceof Worker){let g=c;b||e._postWorkerMessageSync(g,\"inversionMode\",\"both\");q=await new Promise((l,v)=>{let w,u,r,y=-1;u=t=>{t.data.id===y&&(g.removeEventListener(\"message\",u),g.removeEventListener(\"error\",r),clearTimeout(w),null!==t.data.data?l({data:t.data.data,cornerPoints:e._convertPoints(t.data.cornerPoints,m)}):v(e.NO_QR_CODE_FOUND))};r=t=>{g.removeEventListener(\"message\",u);g.removeEventListener(\"error\",r);clearTimeout(w);v(\"Scanner error: \"+(t?\nt.message||t:\"Unknown Error\"))};g.addEventListener(\"message\",u);g.addEventListener(\"error\",r);w=setTimeout(()=>r(\"timeout\"),1E4);let x=k.getImageData(0,0,d.width,d.height);y=e._postWorkerMessageSync(g,\"decode\",x,[x.data.buffer])})}else q=await Promise.race([new Promise((g,l)=>window.setTimeout(()=>l(\"Scanner error: timeout\"),1E4)),(async()=>{try{var [g]=await c.detect(d);if(!g)throw e.NO_QR_CODE_FOUND;return{data:g.rawValue,cornerPoints:e._convertPoints(g.cornerPoints,m)}}catch(l){g=l.message||l;\nif(/not implemented|service unavailable/.test(g))return e._disableBarcodeDetector=!0,e.scanImage(a,{scanRegion:m,canvas:d,disallowCanvasResizing:f,alsoTryWithoutScanRegion:h});throw`Scanner error: ${g}`;}})()]);return n?q:q.data}catch(p){if(!m||!h)throw p;let k=await e.scanImage(a,{qrEngine:c,canvas:d,disallowCanvasResizing:f});return n?k:k.data}finally{b||e._postWorkerMessage(c,\"close\")}}setGrayscaleWeights(a,b,c,d=!0){e._postWorkerMessage(this._qrEnginePromise,\"grayscaleWeights\",{red:a,green:b,\nblue:c,useIntegerApproximation:d})}setInversionMode(a){e._postWorkerMessage(this._qrEnginePromise,\"inversionMode\",a)}static async createQrEngine(a){a&&console.warn(\"Specifying a worker path is not required and not supported anymore.\");a=()=>import(\"./qr-scanner-worker.min.js\").then(c=>c.createWorker());if(!(!e._disableBarcodeDetector&&\"BarcodeDetector\"in window&&BarcodeDetector.getSupportedFormats&&(await BarcodeDetector.getSupportedFormats()).includes(\"qr_code\")))return a();let b=navigator.userAgentData;\nreturn b&&b.brands.some(({brand:c})=>/Chromium/i.test(c))&&/mac ?OS/i.test(b.platform)&&await b.getHighEntropyValues([\"architecture\",\"platformVersion\"]).then(({architecture:c,platformVersion:d})=>/arm/i.test(c||\"arm\")&&13<=parseInt(d||\"13\")).catch(()=>!0)?a():new BarcodeDetector({formats:[\"qr_code\"]})}_onPlay(){this._scanRegion=this._calculateScanRegion(this.$video);this._updateOverlay();this.$overlay&&(this.$overlay.style.display=\"\");this._scanFrame()}_onLoadedMetaData(){this._scanRegion=this._calculateScanRegion(this.$video);\nthis._updateOverlay()}_onVisibilityChange(){document.hidden?this.pause():this._active&&this.start()}_calculateScanRegion(a){let b=Math.round(2/3*Math.min(a.videoWidth,a.videoHeight));return{x:Math.round((a.videoWidth-b)/2),y:Math.round((a.videoHeight-b)/2),width:b,height:b,downScaledWidth:this._legacyCanvasSize,downScaledHeight:this._legacyCanvasSize}}_updateOverlay(){requestAnimationFrame(()=>{if(this.$overlay){var a=this.$video,b=a.videoWidth,c=a.videoHeight,d=a.offsetWidth,f=a.offsetHeight,h=a.offsetLeft,\nm=a.offsetTop,n=window.getComputedStyle(a),p=n.objectFit,k=b/c,q=d/f;switch(p){case \"none\":var g=b;var l=c;break;case \"fill\":g=d;l=f;break;default:(\"cover\"===p?k>q:k<q)?(l=f,g=l*k):(g=d,l=g/k),\"scale-down\"===p&&(g=Math.min(g,b),l=Math.min(l,c))}var [v,w]=n.objectPosition.split(\" \").map((r,y)=>{const x=parseFloat(r);return r.endsWith(\"%\")?(y?f-l:d-g)*x/100:x});n=this._scanRegion.width||b;q=this._scanRegion.height||c;p=this._scanRegion.x||0;var u=this._scanRegion.y||0;k=this.$overlay.style;k.width=\n`${n/b*g}px`;k.height=`${q/c*l}px`;k.top=`${m+w+u/c*l}px`;c=/scaleX\\(-1\\)/.test(a.style.transform);k.left=`${h+(c?d-v-g:v)+(c?b-p-n:p)/b*g}px`;k.transform=a.style.transform}})}static _convertPoints(a,b){if(!b)return a;let c=b.x||0,d=b.y||0,f=b.width&&b.downScaledWidth?b.width/b.downScaledWidth:1;b=b.height&&b.downScaledHeight?b.height/b.downScaledHeight:1;for(let h of a)h.x=h.x*f+c,h.y=h.y*b+d;return a}_scanFrame(){!this._active||this.$video.paused||this.$video.ended||(\"requestVideoFrameCallback\"in\nthis.$video?this.$video.requestVideoFrameCallback.bind(this.$video):requestAnimationFrame)(async()=>{if(!(1>=this.$video.readyState)){var a=Date.now()-this._lastScanTimestamp,b=1E3/this._maxScansPerSecond;a<b&&await new Promise(d=>setTimeout(d,b-a));this._lastScanTimestamp=Date.now();try{var c=await e.scanImage(this.$video,{scanRegion:this._scanRegion,qrEngine:this._qrEnginePromise,canvas:this.$canvas})}catch(d){if(!this._active)return;this._onDecodeError(d)}!e._disableBarcodeDetector||await this._qrEnginePromise instanceof\nWorker||(this._qrEnginePromise=e.createQrEngine());c?(this._onDecode?this._onDecode(c):this._legacyOnDecode&&this._legacyOnDecode(c.data),this.$codeOutlineHighlight&&(clearTimeout(this._codeOutlineHighlightRemovalTimeout),this._codeOutlineHighlightRemovalTimeout=void 0,this.$codeOutlineHighlight.setAttribute(\"viewBox\",`${this._scanRegion.x||0} `+`${this._scanRegion.y||0} `+`${this._scanRegion.width||this.$video.videoWidth} `+`${this._scanRegion.height||this.$video.videoHeight}`),this.$codeOutlineHighlight.firstElementChild.setAttribute(\"points\",\nc.cornerPoints.map(({x:d,y:f})=>`${d},${f}`).join(\" \")),this.$codeOutlineHighlight.style.display=\"\")):this.$codeOutlineHighlight&&!this._codeOutlineHighlightRemovalTimeout&&(this._codeOutlineHighlightRemovalTimeout=setTimeout(()=>this.$codeOutlineHighlight.style.display=\"none\",100))}this._scanFrame()})}_onDecodeError(a){a!==e.NO_QR_CODE_FOUND&&console.log(a)}async _getCameraStream(){if(!navigator.mediaDevices)throw\"Camera not found.\";let a=/^(environment|user)$/.test(this._preferredCamera)?\"facingMode\":\n\"deviceId\",b=[{width:{min:1024}},{width:{min:768}},{}],c=b.map(d=>Object.assign({},d,{[a]:{exact:this._preferredCamera}}));for(let d of[...c,...b])try{let f=await navigator.mediaDevices.getUserMedia({video:d,audio:!1}),h=this._getFacingMode(f)||(d.facingMode?this._preferredCamera:\"environment\"===this._preferredCamera?\"user\":\"environment\");return{stream:f,facingMode:h}}catch(f){}throw\"Camera not found.\";}async _restartVideoStream(){let a=this._paused;await this.pause(!0)&&!a&&this._active&&await this.start()}static _stopVideoStream(a){for(let b of a.getTracks())b.stop(),\na.removeTrack(b)}_setVideoMirror(a){this.$video.style.transform=\"scaleX(\"+(\"user\"===a?-1:1)+\")\"}_getFacingMode(a){return(a=a.getVideoTracks()[0])?/rear|back|environment/i.test(a.label)?\"environment\":/front|user|face/i.test(a.label)?\"user\":null:null}static _drawToCanvas(a,b,c,d=!1){c=c||document.createElement(\"canvas\");let f=b&&b.x?b.x:0,h=b&&b.y?b.y:0,m=b&&b.width?b.width:a.videoWidth||a.width,n=b&&b.height?b.height:a.videoHeight||a.height;d||(d=b&&b.downScaledWidth?b.downScaledWidth:m,b=b&&b.downScaledHeight?\nb.downScaledHeight:n,c.width!==d&&(c.width=d),c.height!==b&&(c.height=b));b=c.getContext(\"2d\",{alpha:!1});b.imageSmoothingEnabled=!1;b.drawImage(a,f,h,m,n,0,0,c.width,c.height);return[c,b]}static async _loadImage(a){if(a instanceof Image)return await e._awaitImageLoad(a),a;if(a instanceof HTMLVideoElement||a instanceof HTMLCanvasElement||a instanceof SVGImageElement||\"OffscreenCanvas\"in window&&a instanceof OffscreenCanvas||\"ImageBitmap\"in window&&a instanceof ImageBitmap)return a;if(a instanceof\nFile||a instanceof Blob||a instanceof URL||\"string\"===typeof a){let b=new Image;b.src=a instanceof File||a instanceof Blob?URL.createObjectURL(a):a.toString();try{return await e._awaitImageLoad(b),b}finally{(a instanceof File||a instanceof Blob)&&URL.revokeObjectURL(b.src)}}else throw\"Unsupported image type.\";}static async _awaitImageLoad(a){a.complete&&0!==a.naturalWidth||await new Promise((b,c)=>{let d=f=>{a.removeEventListener(\"load\",d);a.removeEventListener(\"error\",d);f instanceof ErrorEvent?\nc(\"Image load error\"):b()};a.addEventListener(\"load\",d);a.addEventListener(\"error\",d)})}static async _postWorkerMessage(a,b,c,d){return e._postWorkerMessageSync(await a,b,c,d)}static _postWorkerMessageSync(a,b,c,d){if(!(a instanceof Worker))return-1;let f=e._workerMessageId++;a.postMessage({id:f,type:b,data:c},d);return f}}e.DEFAULT_CANVAS_SIZE=400;e.NO_QR_CODE_FOUND=\"No QR code found\";e._disableBarcodeDetector=!1;e._workerMessageId=0;export default e\n"],"names":["i0","ɵɵelement","BookComponent","hide_nav","localStorage","getItem","_","_2","selectors","decls","vars","consts","template","BookComponent_Template","rf","ctx","ɵɵtemplate","BookComponent_topbar_0_Template","ɵɵelementStart","ɵɵelementEnd","BookComponent_footer_menu_4_Template","ɵɵproperty","ɵɵadvance","CommonModule","FormsModule","ReactiveFormsModule","RouterModule","MatButtonToggleModule","MatBottomSheetModule","SharedExploreModule","SharedBookingsModule","SharedCateringModule","BookCodeFlowComponent","BookDeskFlowComponent","DeskFlowConfirmComponent","DeskFlowFormComponent","DeskFlowDetailedFormComponent","DeskFlowMapComponent","FlowSuccessComponent","BookSpaceFlowComponent","SpaceFlowConfirmComponent","DetailBookSpaceFormComponent","SpaceFlowFindItemComponent","SpaceFlowFindComponent","SpaceFlowFormComponent","SharedComponentModule","BookParkingFlowComponent","ParkingFlowMapComponent","ParkingFlowConfirmComponent","BookMeetingFlowComponent","MeetingFlowFormComponent","MeetingFormDetailsComponent","MeetingFlowConfirmComponent","MeetingFlowSuccessComponent","NewDeskFlowComponent","NewDeskFlowFormComponent","NewDeskFormDetailsComponent","NewDeskFlowConfirmComponent","NewDeskFlowSuccessComponent","VisitorFlowComponent","NewParkingFlowComponent","ParkingFlowFormComponent","ParkingFlowSuccessComponent","ParkingFormDetailsComponent","MeetingFlowConfirmModalComponent","NewParkingFlowConfirmComponent","CodeFlowSuccessComponent","CodeFlowErrorComponent","BookLockerFlowComponent","BookLockerFlowSuccessComponent","BookLockerFlowFormComponent","BookLockerFlowConfirmComponent","LockerFormDetailsComponent","ROUTES","path","component","children","redirectTo","BookModule","_3","forChild","declarations","imports","i1","ActivatedRoute","BookingFormService","AsyncHandler","ɵɵelementContainerStart","ɵɵtext","ɵɵelementContainerEnd","ɵɵpureFunction0","_c0","ɵɵpureFunction1","_c1","ctx_r3","asset_id","ɵɵtextInterpolate1","ɵɵpipeBind1","_c2","ctx_r4","VALID_TYPES","constructor","_route","_state","type","asset","ngOnInit","subscription","queryParamMap","subscribe","params","get","ɵɵdirectiveInject","i2","features","ɵɵInheritDefinitionFeature","CodeFlowErrorComponent_Template","CodeFlowErrorComponent_ng_container_8_Template","CodeFlowErrorComponent_ng_container_9_Template","CodeFlowErrorComponent_ng_container_10_Template","CodeFlowErrorComponent_a_12_Template","CodeFlowErrorComponent_a_13_Template","_c3","CodeFlowSuccessComponent_Template","EventEmitter","ElementRef","Router","Booking","checkinBooking","queryBookings","currentUser","notifyError","CalendarEvent","checkinEventGuest","EventFormService","queryEvents","showSystem","addMinutes","endOfDay","getUnixTime","QrScanner","BookCodeFlowComponent_div_0_div_4_Template","BookCodeFlowComponent_div_0_div_5_Template","ɵɵlistener","BookCodeFlowComponent_div_0_Template_input_ngModelChange_10_listener","$event","ɵɵrestoreView","_r7","ctx_r6","ɵɵnextContext","ɵɵresetView","room_code","BookCodeFlowComponent_div_0_Template_button_click_12_listener","ctx_r8","is_scanning","BookCodeFlowComponent_div_0_Template_button_click_14_listener","ctx_r9","ctx_r0","ɵɵclassProp","ɵɵclassMap","_router","_event_form","_booking_form","menu","loading","ngOnDestroy","_video_el","nativeElement","srcObject","getTracks","forEach","track","stop","_qr_scanner","has","_checkinBooking","_checkinEvent","ngAfterViewInit","navigator","mediaDevices","getUserMedia","video","then","stream","catch","e","console","error","r","handleQrCode","start","result","url","hashindex","indexOf","regex","match","exec","navigate","split","_this","_asyncToGenerator","bookings","period_start","Date","now","period_end","email","toPromise","item","find","id","queryParams","newForm","setOptions","space_id","_this2","resources","s","space","system","i3","viewQuery","BookCodeFlowComponent_Query","BookCodeFlowComponent_div_0_Template","BookCodeFlowComponent_ng_template_1_Template","ɵɵtemplateRefExtractor","_r2","OrganisationService","first","ctx_r2","last_success","user_email","extension_data","secondary_resource","view","_org","initialised","pipe","loadForm","form","patchValue","booking_type","paramMap","param","setView","BookDeskFlowComponent_Template","BookDeskFlowComponent_ng_container_2_Template","BookDeskFlowComponent_ng_container_3_Template","BookDeskFlowComponent_ng_container_4_Template","BookDeskFlowComponent_ng_container_5_Template","DeskFlowConfirmComponent_Template","FormGroup","SettingsService","addDays","DeskFlowDetailedFormComponent_form_0_div_1_Template_mat_button_toggle_group_ngModelChange_1_listener","_r12","ctx_r11","group","tmp_0_0","ctx_r1","options","bld_r14","display_name","name","DeskFlowDetailedFormComponent_form_0_div_8_Template_mat_select_ngModelChange_4_listener","_r16","ctx_r15","building","ctx_r17","zone_id","DeskFlowDetailedFormComponent_form_0_div_8_mat_option_5_Template","buildings","lvl_r19","DeskFlowDetailedFormComponent_form_0_div_10_Template_mat_select_ngModelChange_4_listener","_r21","ctx_r20","DeskFlowDetailedFormComponent_form_0_div_10_mat_option_5_Template","levels","DeskFlowDetailedFormComponent_form_0_div_12_Template_a_time_field_ngModelChange_4_listener","_r24","ctx_r23","date","DeskFlowDetailedFormComponent_form_0_div_12_mat_checkbox_9_Template","value","tmp_2_0","all_day","allow_all_day","DeskFlowDetailedFormComponent_form_0_div_15_Template_a_user_list_field_ngModelChange_3_listener","_r26","ctx_r25","members","tmp_1_0","ctx_r7","opt_r28","ɵɵtextInterpolate","DeskFlowDetailedFormComponent_form_0_div_17_Template_mat_select_ngModelChange_5_listener","_r30","ctx_r29","pattern","DeskFlowDetailedFormComponent_form_0_div_17_mat_option_9_Template","DeskFlowDetailedFormComponent_form_0_div_17_Template_a_date_field_ngModelChange_13_listener","ctx_r31","recurr_end","recurrence_pattern","recurrence_options","tmp_3_0","tmp_4_0","book_until","opt_r33","DeskFlowDetailedFormComponent_form_0_div_18_Template_mat_select_ngModelChange_4_listener","_r35","ctx_r34","DeskFlowDetailedFormComponent_form_0_div_18_mat_option_6_Template","DeskFlowDetailedFormComponent_form_0_div_20_Template_mat_checkbox_ngModelChange_1_listener","_r37","ctx_r36","ctx_r10","DeskFlowDetailedFormComponent_form_0_div_1_Template","DeskFlowDetailedFormComponent_form_0_div_8_Template","DeskFlowDetailedFormComponent_form_0_div_10_Template","DeskFlowDetailedFormComponent_form_0_div_12_Template","DeskFlowDetailedFormComponent_form_0_div_13_Template","DeskFlowDetailedFormComponent_form_0_div_14_Template","DeskFlowDetailedFormComponent_form_0_div_15_Template","DeskFlowDetailedFormComponent_form_0_div_17_Template","DeskFlowDetailedFormComponent_form_0_div_18_Template","DeskFlowDetailedFormComponent_form_0_div_20_Template","allow_groups","length","allow_time_changes","can_book_for_others","needs_reason","tmp_8_0","can_recurr","tmp_10_0","can_book_lockers","bld","_settings","building_list","active_levels","o","inputs","DeskFlowDetailedFormComponent_Template","DeskFlowDetailedFormComponent_form_0_Template","findNearbyFeature","getInvalidFields","randomInt","setHours","roundToNearestMinutes","take","DeskFlowFormComponent_button_12_Template_button_click_0_listener","_r4","findDesk","is_edit","DeskFlowFormComponent_ng_template_13_Template_button_click_0_listener","_r6","ctx_r5","allocateDesk","auto_allocation","time","level","quick_times","valueOf","clearForm","levelsForBuilding","quickBook","nearestTo","title","markAllAsTouched","valid","join","settings","centered_at","x","y","groups","lvl","levelWithID","desk_list","available_resources","desk_id","map_id","map","desk","asset_name","description","zones","zone","parent_id","confirmPost","i4","DeskFlowFormComponent_Template","DeskFlowFormComponent_Template_button_click_6_listener","DeskFlowFormComponent_button_12_Template","DeskFlowFormComponent_ng_template_13_Template","formatRecurrence","ExploreStateService","format","BehaviorSubject","combineLatest","debounceTime","startWith","feat_r7","DeskFlowMapComponent_li_22_Template_li_click_0_listener","restoredCtx","_r9","desk_r5","$implicit","setActiveDesk","DeskFlowMapComponent_li_22_div_9_Template","active_desk","ɵɵattribute","DeskFlowMapComponent_div_24_div_9_Template","positions","zoom","center","styles","actions","labels","DeskFlowMapComponent_div_27_Template_button_click_7_listener","DeskFlowMapComponent_div_27_Template_button_click_9_listener","ctx_r13","makeBooking","_active_desk","getValue","hide_map","_explore","map_url","map_styles","map_positions","map_features","map_actions","map_labels","desks","option_details","valueChanges","recurrence","end","interval","days_of_week","details","setLevel","assets","available","status","active","bookable","d","fill","opacity","push","action","callback","setStyles","setActions","setFeatures","location","content","next","DeskFlowMapComponent_Template","DeskFlowMapComponent_Template_div_click_15_listener","stopPropagation","preventDefault","DeskFlowMapComponent_li_22_Template","DeskFlowMapComponent_div_24_Template","DeskFlowMapComponent_div_25_Template","DeskFlowMapComponent_div_27_Template","_r0","tmp_6_0","extra","route","is_host","calendar","FlowSuccessComponent_Template","FlowSuccessComponent_br_8_Template","listenForStatusChanges","BookLockerFlowComponent_Template","BookLockerFlowComponent_locker_flow_success_1_Template","BookLockerFlowComponent_locker_flow_confirm_2_Template","BookLockerFlowComponent_locker_flow_form_3_Template","MatBottomSheetRef","BookLockerFlowConfirmComponent_button_0_Template_button_click_0_listener","dismiss","feat_r8","BookLockerFlowConfirmComponent_section_25_ng_container_11_Template","booking_asset","asset_r10","amount","ɵɵi18n","BookLockerFlowConfirmComponent_section_26_div_6_Template","ɵɵi18nExp","assets_count","ɵɵi18nApply","BookLockerFlowConfirmComponent_button_28_Template_button_click_0_listener","postForm","time_format","booking","reduce","a","b","l","address","_sheet_ref","this","show_close","postFormForGroup","i18n_0","ngI18nClosureMode","$localize","BookLockerFlowConfirmComponent_button_0_Template","BookLockerFlowConfirmComponent_mat_spinner_4_Template","BookLockerFlowConfirmComponent_section_25_Template","BookLockerFlowConfirmComponent_section_26_Template","BookLockerFlowConfirmComponent_button_28_Template","ɵɵpipeBind2","duration","MatBottomSheet","isBefore","startOfMinute","_bottom_sheet","viewConfirm","sheet_ref","open","instance","afterDismissed","i5","BookLockerFlowFormComponent_Template_button_click_7_listener","generateCalendarFileLink","generateGoogleCalendarLink","generateMicrosoftCalendarLink","outlook_link","ɵɵsanitizeUrl","google_link","ical_link","locker","last_event","show_links","viewCalendarLinks","openBookingLinkModal","ɵɵi18nStart","BookLockerFlowSuccessComponent_span_7_Template","BookLockerFlowSuccessComponent_span_8_Template","ɵɵi18nEnd","BookLockerFlowSuccessComponent_div_12_Template","attendees","SimpleChanges","b_r3","LockerFormDetailsComponent_div_0_Template_mat_select_ngModelChange_13_listener","_r5","LockerFormDetailsComponent_div_0_mat_option_14_Template","LockerFormDetailsComponent_div_0_Template_a_time_field_ngModelChange_27_listener","LockerFormDetailsComponent_div_0_section_33_Template","use_24hr","tmp_9_0","custom_durations","contains","from_id","setFeature","f","ngOnChanges","changes","list","setBookingAsset","_setCustomDateOptions","i","undefined","selected_locker","bank_id","outputs","ɵɵNgOnChangesFeature","LockerFormDetailsComponent_div_0_Template","BookMeetingFlowComponent_Template","BookMeetingFlowComponent_meeting_flow_success_1_Template","BookMeetingFlowComponent_meeting_flow_confirm_2_Template","BookMeetingFlowComponent_meeting_flow_form_3_Template","MatDialog","MatDialogRef","validateAssetRequestsForResource","CateringOrder","openConfirmModal","startOfDay","AssetRequest","SpacePipe","formatted_recurrence","ɵɵtextInterpolate2","s_r8","MeetingFlowConfirmModalComponent_div_32_ng_container_6_Template","event","user_r11","MeetingFlowConfirmModalComponent_div_33_mat_chip_9_Template","ctx_r16","err_tooltip","ctx_r19","optionList","item_r18","option_list","MeetingFlowConfirmModalComponent_div_34_div_1_div_7_div_14_span_4_Template","quantity","unit_price_with_options","currency_code","total_cost","MeetingFlowConfirmModalComponent_div_34_div_1_div_7_div_6_Template","MeetingFlowConfirmModalComponent_div_34_div_1_div_7_div_14_Template","ctx_r14","end_time","order_r15","deliver_at","item_count","items","MeetingFlowConfirmModalComponent_div_34_div_1_div_7_Template","ctx_r12","catering_orders","request_r22","item_r26","MeetingFlowConfirmModalComponent_div_34_div_2_div_6_div_6_Template","MeetingFlowConfirmModalComponent_div_34_div_2_div_6_div_11_Template","ctx_r21","deliver_at_time","conflict","MeetingFlowConfirmModalComponent_div_34_div_2_div_6_Template","has_conflict","MeetingFlowConfirmModalComponent_div_34_div_1_Template","MeetingFlowConfirmModalComponent_div_34_div_2_Template","catering","body","ɵɵsanitizeHtml","MeetingFlowConfirmModalComponent_footer_36_Template_button_click_1_listener","_r28","ctx_r27","request","some","is_multiday","date_end","getRawValue","includes","code","_space_pipe","_dialog_ref","_dialog","_loading","icon","reason","close","resp","cancelPost","cancelPostForm","_space","order","transform","changed_spaces","changed_times","log","host","location_name","location_id","reset_state","timeout","ɵɵProvidersFeature","i18n_3","MeetingFlowConfirmModalComponent_button_1_Template","MeetingFlowConfirmModalComponent_div_20_Template","MeetingFlowConfirmModalComponent_div_32_Template","MeetingFlowConfirmModalComponent_div_33_Template","MeetingFlowConfirmModalComponent_div_34_Template","MeetingFlowConfirmModalComponent_div_35_Template","MeetingFlowConfirmModalComponent_footer_36_Template","MeetingFlowConfirmComponent_button_0_Template_button_click_0_listener","user_r10","MeetingFlowConfirmComponent_section_30_mat_chip_9_Template","s_r12","MeetingFlowConfirmComponent_section_31_ng_container_6_Template","MeetingFlowConfirmComponent_button_33_Template_button_click_0_listener","_r14","i6","i18n_2","MeetingFlowConfirmComponent_button_0_Template","MeetingFlowConfirmComponent_mat_spinner_4_Template","MeetingFlowConfirmComponent_div_18_Template","MeetingFlowConfirmComponent_section_30_Template","MeetingFlowConfirmComponent_section_31_Template","MeetingFlowConfirmComponent_button_33_Template","TemplateRef","ANIMATION_SHOW_CONTRACT_EXPAND","notifyWarn","UserIdleTimeService","FindAvailabilityModalComponent","CateringOrderStateService","of","switchMap","tap","AssetStateService","MeetingFlowFormComponent_form_5_section_14_Template_button_click_8_listener","findAvailableTime","MeetingFlowFormComponent_form_5_section_14_Template_button_click_11_listener","hide_block","allow_externals","code_r13","MeetingFlowFormComponent_form_5_section_29_mat_form_field_13_Template_mat_form_field_openedChange_0_listener","_r15","focusInput","MeetingFlowFormComponent_form_5_section_29_mat_form_field_13_Template_input_ngModelChange_2_listener","code_filter","MeetingFlowFormComponent_form_5_section_29_mat_form_field_13_mat_option_5_Template","filtered_codes","has_codes","MeetingFlowFormComponent_form_5_section_29_Template_button_click_8_listener","_r18","MeetingFlowFormComponent_form_5_section_29_mat_form_field_13_Template","MeetingFlowFormComponent_form_5_section_29_mat_form_field_15_Template","ɵɵpureFunction4","MeetingFlowFormComponent_form_5_section_31_Template_button_click_9_listener","_r20","has_catering","invalid_assets","has_assets","MeetingFlowFormComponent_form_5_Template_button_click_9_listener","_r22","MeetingFlowFormComponent_form_5_section_14_Template","MeetingFlowFormComponent_form_5_Template_button_click_23_listener","MeetingFlowFormComponent_form_5_div_27_Template","MeetingFlowFormComponent_form_5_section_29_Template","MeetingFlowFormComponent_form_5_section_31_Template","MeetingFlowFormComponent_form_5_section_32_Template","MeetingFlowFormComponent_form_5_Template_button_click_34_listener","ctx_r24","MeetingFlowFormComponent_form_5_Template_button_click_37_listener","hide_attendees","strict_capacity_check","total_capacity","allow_multiday","hide_notes","c","capacity","attendee_count","user","count","toLowerCase","_catering","_assets","_idle","available_menu","charge_codes","setValidators","updateValueAndValidity","filter","_space_list","_assets_available","space_list","tags","categories","filtered_assets","disabled_rooms","assets_available","every","hide_for_zones","z","time_changed","_catering_available","setFilters","search","filtered_menu","availability","can_cater","resetForm","openEventLinkModal","window","innerWidth","dialog_ref","componentInstance","afterClosed","unsubWith","_updateValidAssets","requested_assets","linked_bookings","_changed","bkn","request_id","controls","key","disable","enable","idleFor","unsub","confirm_text","reload","_input_el","focus","organiser","ref","data","users","i7","i8","MeetingFlowFormComponent_Query","MeetingFlowFormComponent_form_5_Template","MeetingFlowSuccessComponent_span_8_span_2_Template","MeetingFlowSuccessComponent_span_8_Template","MeetingFlowSuccessComponent_span_9_Template","MeetingFlowSuccessComponent_span_11_Template","MeetingFlowSuccessComponent_p_12_Template","differenceInMinutes","formatDuration","set","MeetingFormDetailsComponent_div_0_div_11_mat_checkbox_9_Template","end_date","MeetingFormDetailsComponent_div_0_div_12_mat_checkbox_10_Template","start_date","MeetingFormDetailsComponent_div_0_div_13_div_8_Template_a_time_field_ngModelChange_6_listener","_r11","duration_info","max_duration","MeetingFormDetailsComponent_div_0_div_13_Template_a_time_field_ngModelChange_7_listener","_r13","MeetingFormDetailsComponent_div_0_div_13_div_8_Template","MeetingFormDetailsComponent_div_0_div_13_div_9_Template","MeetingFormDetailsComponent_div_0_div_15_mat_checkbox_7_Template","MeetingFormDetailsComponent_div_0_div_11_Template","MeetingFormDetailsComponent_div_0_div_12_Template","MeetingFormDetailsComponent_div_0_div_13_Template","MeetingFormDetailsComponent_div_0_div_14_Template","MeetingFormDetailsComponent_div_0_div_15_Template","allow_recurrence","is_next_day","force_time","hours","minutes","diff","Math","floor","MeetingFormDetailsComponent_Template","MeetingFormDetailsComponent_div_0_Template","notifyInfo","Desk","_ref","_x","apply","arguments","NewDeskFlowComponent_Template","NewDeskFlowComponent_ng_container_2_Template","NewDeskFlowComponent_ng_container_3_Template","NewDeskFlowConfirmComponent_button_0_Template_button_click_0_listener","feat_r9","NewDeskFlowConfirmComponent_section_25_ng_container_17_Template","is_group","item_r13","NewDeskFlowConfirmComponent_div_32_div_6_Template","NewDeskFlowConfirmComponent_div_32_div_11_Template","request_r10","NewDeskFlowConfirmComponent_button_35_Template_button_click_0_listener","needs_locker","NewDeskFlowConfirmComponent_button_0_Template","NewDeskFlowConfirmComponent_mat_spinner_4_Template","NewDeskFlowConfirmComponent_section_25_Template","NewDeskFlowConfirmComponent_div_32_Template","NewDeskFlowConfirmComponent_section_33_Template","NewDeskFlowConfirmComponent_button_35_Template","NewDeskFlowFormComponent_Template_button_click_7_listener","NewDeskFlowSuccessComponent_span_7_Template","NewDeskFlowSuccessComponent_span_8_Template","NewDeskFlowSuccessComponent_span_10_Template","NewDeskFlowSuccessComponent_p_11_Template","NewDeskFlowSuccessComponent_div_12_Template","NewDeskFormDetailsComponent_div_0_section_1_Template_button_click_1_listener","_r10","NewDeskFormDetailsComponent_div_0_section_1_Template_button_click_10_listener","tmp_5_0","NewDeskFormDetailsComponent_div_0_div_27_Template_a_time_field_ngModelChange_5_listener","NewDeskFormDetailsComponent_div_0_div_28_Template_mat_checkbox_ngModelChange_2_listener","NewDeskFormDetailsComponent_div_0_section_29_Template_a_user_list_field_ngModelChange_8_listener","_r17","NewDeskFormDetailsComponent_div_0_section_31_p_8_Template","ɵɵpureFunction3","NewDeskFormDetailsComponent_div_0_section_1_Template","NewDeskFormDetailsComponent_div_0_div_8_Template","NewDeskFormDetailsComponent_div_0_mat_checkbox_26_Template","NewDeskFormDetailsComponent_div_0_div_27_Template","NewDeskFormDetailsComponent_div_0_div_28_Template","NewDeskFormDetailsComponent_div_0_section_29_Template","NewDeskFormDetailsComponent_div_0_section_31_Template","NewDeskFormDetailsComponent_div_0_section_32_Template","selected_desk","NewDeskFormDetailsComponent_div_0_Template","NewParkingFlowComponent_Template","NewParkingFlowComponent_parking_flow_success_1_Template","NewParkingFlowComponent_parking_flow_confirm_2_Template","NewParkingFlowComponent_parking_flow_form_3_Template","NewParkingFlowConfirmComponent_button_0_Template_button_click_0_listener","NewParkingFlowConfirmComponent_section_25_ng_container_16_Template","NewParkingFlowConfirmComponent_section_26_div_6_Template","NewParkingFlowConfirmComponent_button_28_Template_button_click_0_listener","NewParkingFlowConfirmComponent_button_0_Template","NewParkingFlowConfirmComponent_mat_spinner_4_Template","NewParkingFlowConfirmComponent_section_25_Template","NewParkingFlowConfirmComponent_section_26_Template","NewParkingFlowConfirmComponent_button_28_Template","ParkingFlowFormComponent_Template_button_click_12_listener","ParkingFlowFormComponent_Template_button_click_24_listener","ParkingFlowFormComponent_Template_button_click_30_listener","ParkingFlowFormComponent_Template_button_click_32_listener","resource","bld_r3","ParkingFormDetailsComponent_div_0_Template_mat_select_ngModelChange_7_listener","setBuilding","ParkingFormDetailsComponent_div_0_mat_option_9_Template","ParkingFormDetailsComponent_div_0_Template_a_time_field_ngModelChange_33_listener","ParkingFormDetailsComponent_div_0_mat_checkbox_39_Template","active_building","ParkingFormDetailsComponent_div_0_Template","BookParkingFlowComponent_Template","BookParkingFlowComponent_ng_container_2_Template","BookParkingFlowComponent_ng_container_3_Template","BookParkingFlowComponent_ng_container_4_Template","ParkingFlowConfirmComponent_Template","MAP_FEATURE_DATA","ExploreParkingService","ParkingFlowMapComponent_div_0_button_2_Template_button_click_0_listener","date_r8","setDate","counts","lvl_r12","ParkingFlowMapComponent_div_0_div_5_Template_mat_select_ngModelChange_2_listener","ParkingFlowMapComponent_div_0_div_5_mat_option_4_Template","ParkingFlowMapComponent_div_0_button_10_Template_button_click_0_listener","space_r15","setActive","active_space","levelName","ParkingFlowMapComponent_div_0_div_22_p_4_Template","ParkingFlowMapComponent_div_0_div_22_Template_button_click_6_listener","reserveSpace","existing","ParkingFlowMapComponent_div_0_button_2_Template","ParkingFlowMapComponent_div_0_div_5_Template","ParkingFlowMapComponent_div_0_button_10_Template","ParkingFlowMapComponent_div_0_div_22_Template","ParkingFlowMapComponent_div_0_div_24_Template","dates","tmp_12_0","ParkingFlowMapComponent_ng_template_2_div_0_Template","SpacePingComponent","_details","ratio","zoom$","ratio$","SpacePingComponent_Template","ɵɵstyleProp","_booking","_parking","available_spaces","week_availablility","existing_event","Array","idx","events","reset","spaces","full_size","z_index","ParkingFlowMapComponent_Template","ParkingFlowMapComponent_div_0_Template","ParkingFlowMapComponent_ng_template_2_Template","BookSpaceFlowComponent_Template","BookSpaceFlowComponent_ng_container_2_Template","BookSpaceFlowComponent_ng_container_3_Template","BookSpaceFlowComponent_ng_container_4_Template","BookSpaceFlowComponent_ng_container_5_Template","SpaceFlowConfirmComponent_div_41_button_3_Template","space_r6","can_view_location","user_r8","optionsFor","item_r10","SpaceFlowConfirmComponent_div_55_div_12_div_4_Template","SpaceFlowConfirmComponent_div_55_div_12_Template_a_counter_ngModelChange_8_listener","SpaceFlowConfirmComponent_div_55_Template_button_click_7_listener","show_catering","SpaceFlowConfirmComponent_div_55_div_12_Template","show_people","show_spaces","Object","message","SpaceFlowConfirmComponent_Template","SpaceFlowConfirmComponent_span_17_Template","SpaceFlowConfirmComponent_Template_button_click_36_listener","SpaceFlowConfirmComponent_div_41_Template","SpaceFlowConfirmComponent_Template_button_click_49_listener","SpaceFlowConfirmComponent_div_54_Template","SpaceFlowConfirmComponent_div_55_Template","SpaceFlowConfirmComponent_Template_button_click_56_listener","SpaceFlowConfirmComponent_span_57_Template","SpaceFlowConfirmComponent_mat_spinner_58_Template","tmp_7_0","tmp_11_0","tmp_13_0","tmp_16_0","tmp_17_0","CateringStateService","bld_r9","DetailBookSpaceFormComponent_form_0_div_18_mat_form_field_3_Template_mat_select_ngModelChange_1_listener","DetailBookSpaceFormComponent_form_0_div_18_mat_form_field_3_mat_option_2_Template","DetailBookSpaceFormComponent_form_0_div_18_mat_form_field_3_Template","DetailBookSpaceFormComponent_form_0_div_19_Template_mat_select_ngModelChange_4_listener","optionsChange","emit","DetailBookSpaceFormComponent_form_0_div_19_mat_option_5_Template","features_label","hide_actions","DetailBookSpaceFormComponent_form_0_section_20_div_1_Template","DetailBookSpaceFormComponent_form_0_section_20_div_2_Template","DetailBookSpaceFormComponent_form_0_div_33_Template_an_action_field_onAction_3_listener","editCatering","DetailBookSpaceFormComponent_form_0_div_33_div_4_Template","DetailBookSpaceFormComponent_form_0_div_33_div_5_Template","DetailBookSpaceFormComponent_form_0_Template_a_time_field_ngModelChange_11_listener","_r23","ctx_r22","DetailBookSpaceFormComponent_form_0_mat_checkbox_16_Template","DetailBookSpaceFormComponent_form_0_div_18_Template","DetailBookSpaceFormComponent_form_0_div_19_Template","DetailBookSpaceFormComponent_form_0_section_20_Template","DetailBookSpaceFormComponent_form_0_div_32_Template","DetailBookSpaceFormComponent_form_0_div_33_Template","show_features","manageCateringOrder","DetailBookSpaceFormComponent_Template","DetailBookSpaceFormComponent_form_0_Template","Space","MapLocateModalComponent","bookChange","bookSpace","book","multiple","viewLocation","maxWidth","maxHeight","SpaceFlowFindItemComponent_Template","SpaceFlowFindItemComponent_Template_button_click_15_listener","SpaceFlowFindItemComponent_Template_button_click_17_listener","bld_r11","SpaceFlowFindComponent_mat_form_field_12_Template_mat_select_ngModelChange_1_listener","SpaceFlowFindComponent_mat_form_field_12_mat_option_3_Template","item_r15","SpaceFlowFindComponent_mat_form_field_14_Template_mat_select_ngModelChange_1_listener","zone_ids","SpaceFlowFindComponent_mat_form_field_14_mat_option_4_Template","item_r20","SpaceFlowFindComponent_mat_form_field_20_Template_mat_select_ngModelChange_1_listener","SpaceFlowFindComponent_mat_form_field_20_mat_option_3_Template","SpaceFlowFindComponent_ng_container_23_ng_container_1_space_flow_find_item_1_Template_space_flow_find_item_bookChange_0_listener","_r27","space_r25","ctx_r26","handleBookEvent","book_space","SpaceFlowFindComponent_ng_container_23_ng_container_1_space_flow_find_item_1_Template","SpaceFlowFindComponent_ng_container_23_ng_container_1_Template","SpaceFlowFindComponent_div_25_div_8_Template_button_click_6_listener","_r33","space_r31","ctx_r32","SpaceFlowFindComponent_div_25_Template_button_click_4_listener","confirmBooking","SpaceFlowFindComponent_div_25_div_8_Template","SpaceFlowFindComponent_div_25_div_9_Template","opts","quick_capacities","_getSpaceList","_this3","_this4","id_list","keys","k","Promise","all","resolve","SpaceFlowFindComponent_Template","SpaceFlowFindComponent_mat_form_field_12_Template","SpaceFlowFindComponent_mat_form_field_14_Template","SpaceFlowFindComponent_Template_mat_select_ngModelChange_17_listener","SpaceFlowFindComponent_mat_option_19_Template","SpaceFlowFindComponent_mat_form_field_20_Template","SpaceFlowFindComponent_ng_container_23_Template","SpaceFlowFindComponent_div_25_Template","SpaceFlowFindComponent_ng_template_26_Template","SpaceFlowFindComponent_ng_template_28_Template","SpaceFlowFormComponent_button_19_Template_button_click_0_listener","allow_standalone_bookings","findSpace","SpaceFlowFormComponent_Template","SpaceFlowFormComponent_Template_detailed_book_space_form_optionsChange_3_listener","SpaceFlowFormComponent_Template_button_click_7_listener","SpaceFlowFormComponent_Template_button_click_13_listener","SpaceFlowFormComponent_button_19_Template","onDone","VisitorFlowComponent_Template","VisitorFlowComponent_Template_invite_visitor_form_done_2_listener","csvToJson","downloadFile","CateringItem","CateringImportMenuModalComponent_main_4_Template_input_change_6_listener","handleFileEvent","CateringImportMenuModalComponent_main_4_Template_button_click_8_listener","downloadTemplate","CateringImportMenuModalComponent","element","target","files","file","fileReader","FileReader","addEventListener","contents","metadata","category","unit_price","readAsText","CateringImportMenuModalComponent_Template","CateringImportMenuModalComponent_button_3_Template","CateringImportMenuModalComponent_main_4_Template","CateringImportMenuModalComponent_ng_template_5_Template","_r3","COMMA","ENTER","SPACE","FormControl","Validators","MAT_DIALOG_DATA","invalid","touched","CateringItemModalComponent_form_4_div_4_mat_chip_row_6_Template_mat_chip_row_removed_0_listener","removeTag","CateringItemModalComponent_form_4_div_4_mat_chip_row_6_Template","CateringItemModalComponent_form_4_div_4_Template_input_matChipInputTokenEnd_7_listener","_r19","ctx_r18","addTag","tag_list","separators","CateringItemModalComponent_form_4_div_2_Template","CateringItemModalComponent_form_4_div_3_Template","CateringItemModalComponent_form_4_div_4_Template","CateringItemModalComponent_form_4_div_5_Template","CateringItemModalComponent_form_4_div_6_Template","CateringItemModalComponent_form_4_Template_mat_checkbox_ngModelChange_13_listener","CateringItemModalComponent_form_4_Template_mat_checkbox_ngModelChange_15_listener","CateringItemModalComponent_form_4_Template_mat_checkbox_ngModelChange_17_listener","CateringItemModalComponent_form_4_Template_mat_checkbox_ngModelChange_19_listener","CateringItemModalComponent_form_4_Template_mat_checkbox_ngModelChange_21_listener","CateringItemModalComponent_form_4_div_27_Template","hasTag","renderPercent","images","CateringItemModalComponent_footer_5_Template_button_click_1_listener","saveChanges","dirty","option_r28","CateringItemModalComponent","_data","tag","required","accept_points","discount_cap","markAsDirty","input","trim","setValue","existing_tag","index","splice","CateringItemModalComponent_button_3_Template","CateringItemModalComponent_form_4_Template","CateringItemModalComponent_footer_5_Template","CateringItemModalComponent_ng_template_6_Template","CateringItemModalComponent_mat_option_10_Template","forwardRef","NG_VALUE_ACCESSOR","randomString","NewCateringOrderModalComponent","CateringListFieldComponent_div_1_button_12_Template_button_click_0_listener","order_r1","duplicateOrder","CateringListFieldComponent_div_1_button_13_Template_button_click_0_listener","editOrder","CateringListFieldComponent_div_1_button_14_Template_button_click_0_listener","removeOrder","item_r16","CateringListFieldComponent_div_1_div_19_button_9_Template_button_click_0_listener","removeOrderItem","CateringListFieldComponent_div_1_div_19_span_3_Template","CateringListFieldComponent_div_1_div_19_button_9_Template","CateringListFieldComponent_div_1_div_19_Template_button_click_10_listener","_r25","toggleFavourite","disabled","favorites","CateringListFieldComponent_div_1_div_8_Template","CateringListFieldComponent_div_1_button_12_Template","CateringListFieldComponent_div_1_button_13_Template","CateringListFieldComponent_div_1_button_14_Template","CateringListFieldComponent_div_1_Template_button_click_15_listener","show_order","CateringListFieldComponent_div_1_div_19_Template","EMPTY_FAVS","CateringListFieldComponent","currency","orders","selected","registerOnChange","fn","_onChange","registerOnTouched","_onTouch","setDisabledState","new_value","writeValue","updated_list","new_order","custom_id","max","exact_time","deliver_time","offset","deliver_offset","offset_day","deliver_day_offset","option","opt","getHours","getMinutes","cateringitem","fav_list","new_state","saveUserSetting","provide","useExisting","multi","CateringListFieldComponent_Template","CateringListFieldComponent_div_1_Template","CateringListFieldComponent_Template_button_click_2_listener","unique","CateringMenuItemComponent_div_1_Template_mat_checkbox_ngModelChange_1_listener","is_enabled","CateringMenuItemComponent_div_1_button_12_Template","CateringMenuItemComponent_div_1_Template_button_click_13_listener","show_options","symbol","can_edit","CateringMenuItemComponent_div_2_div_1_button_7_Template_button_click_0_listener","option_r8","editOption","CateringMenuItemComponent_div_2_div_1_button_8_Template_button_click_0_listener","removeOption","CateringMenuItemComponent_div_2_div_1_button_7_Template","CateringMenuItemComponent_div_2_div_1_button_8_Template","CateringMenuItemComponent_div_2_div_1_Template","CateringMenuItemComponent","is_editable","state","updateItem","addOption","deleteOption","editItem","addItem","removeItem","deleteItem","attrs","CateringMenuItemComponent_Template","CateringMenuItemComponent_div_1_Template","CateringMenuItemComponent_div_2_Template","CateringMenuItemComponent_Template_button_click_5_listener","CateringMenuItemComponent_Template_button_click_10_listener","CateringMenuItemComponent_Template_button_click_15_listener","item_r5","CateringMenuComponent_ng_container_2_ng_container_1_Template","item_r8","CateringMenuComponent_mat_tab_4_ng_container_1_Template","group_r6","tab_menu","CateringMenuComponent","shown_tab","menu_map","CateringMenuComponent_Template","CateringMenuComponent_Template_mat_tab_group_selectedIndexChange_0_listener","CateringMenuComponent_ng_container_2_Template","CateringMenuComponent_mat_tab_4_Template","CateringMenuComponent_ng_template_5_Template","CateringItemOptionModalComponent_form_4_div_1_Template","CateringItemOptionModalComponent_form_4_div_2_Template","CateringItemOptionModalComponent_form_4_div_3_Template","CateringItemOptionModalComponent_form_4_div_4_Template","CateringItemOptionModalComponent_footer_5_Template_button_click_1_listener","option_r13","CateringItemOptionModalComponent","types","new_option","parent","concat","CateringItemOptionModalComponent_Template","CateringItemOptionModalComponent_button_3_Template","CateringItemOptionModalComponent_form_4_Template","CateringItemOptionModalComponent_footer_5_Template","CateringItemOptionModalComponent_ng_template_6_Template","CateringItemOptionModalComponent_mat_option_10_Template","opt_r2","CateringOrderItemComponent_ng_container_0_ng_container_14_div_1_Template","CateringOrderItemComponent_ng_container_0_Template_button_click_4_listener","toggle","CateringOrderItemComponent_ng_container_0_ng_container_14_Template","ACTIVE_ITEMS","Set","CateringOrderItemComponent","item_key","order_id","delete","add","CateringOrderItemComponent_Template","CateringOrderItemComponent_ng_container_0_Template","CateringOrdersService","order_r3","CateringOrderListComponent","_orders","order_list","filtered","startPolling","stopPolling","trackByFn","CateringOrderListComponent_Template","CateringOrderListComponent_li_20_Template","CateringOrderListComponent_div_22_Template","CateringOrderListComponent_mat_progress_bar_24_Template","cateringItemAvailable","CateringOrderModalComponent_div_0_ng_container_1_ng_container_2_mat_tab_1_div_2_a_counter_8_Template_a_counter_ngModelChange_0_listener","item_r11","updateItemQuantity","CateringOrderModalComponent_div_0_ng_container_1_ng_container_2_mat_tab_1_div_2_div_9_Template_button_click_7_listener","CateringOrderModalComponent_div_0_ng_container_1_ng_container_2_mat_tab_1_div_2_div_4_Template","CateringOrderModalComponent_div_0_ng_container_1_ng_container_2_mat_tab_1_div_2_a_counter_8_Template","CateringOrderModalComponent_div_0_ng_container_1_ng_container_2_mat_tab_1_div_2_div_9_Template","CateringOrderModalComponent_div_0_ng_container_1_ng_container_2_mat_tab_1_div_2_Template","cat_r8","menu_items","CateringOrderModalComponent_div_0_ng_container_1_ng_container_2_mat_tab_1_Template","CateringOrderModalComponent_div_0_ng_container_1_ng_container_2_Template","CateringOrderModalComponent_div_0_ng_container_1_Template","show_order_details","CateringOrderModalComponent_footer_1_ng_container_1_Template_button_click_3_listener","CateringOrderModalComponent_footer_1_ng_template_2_Template_button_click_0_listener","CateringOrderModalComponent_footer_1_ng_template_2_Template_button_click_2_listener","saveOrder","CateringOrderModalComponent_footer_1_ng_container_1_Template","CateringOrderModalComponent_footer_1_ng_template_2_Template","item_r33","CateringOrderModalComponent_ng_template_4_div_4_div_4_Template","CateringOrderModalComponent_ng_template_4_div_4_Template_a_counter_ngModelChange_8_listener","CateringOrderModalComponent_ng_template_4_div_4_Template","CateringOrderModalComponent","rules","getCateringConfig","cat","updateMenuQuantities","choose_options","old_item","itm","selectOptions","new_item","options_string","sort","localeCompare","confirmOrder","CateringOrderModalComponent_Template","CateringOrderModalComponent_div_0_Template","CateringOrderModalComponent_footer_1_Template","CateringOrderModalComponent_ng_template_2_Template","CateringOrderModalComponent_ng_template_4_Template","tag_r6","opt_r12","CateringItemDetailsComponent_ng_container_0_div_21_ng_container_4_mat_radio_button_5_div_4_Template","CateringItemDetailsComponent_ng_container_0_div_21_ng_container_4_Template_mat_radio_group_ngModelChange_1_listener","group_r7","group_state","updateGroupOption","CateringItemDetailsComponent_ng_container_0_div_21_ng_container_4_mat_radio_button_5_Template","in_order","opt_r22","CateringItemDetailsComponent_ng_container_0_div_21_ng_template_5_mat_checkbox_0_Template_mat_checkbox_ngModelChange_0_listener","option_state","updateCheckedState","CateringItemDetailsComponent_ng_container_0_div_21_ng_template_5_mat_checkbox_0_div_4_Template","CateringItemDetailsComponent_ng_container_0_div_21_ng_template_5_mat_checkbox_0_Template","CateringItemDetailsComponent_ng_container_0_div_21_ng_container_4_Template","CateringItemDetailsComponent_ng_container_0_div_21_ng_template_5_Template","CateringItemDetailsComponent_ng_container_0_Template_button_click_3_listener","CateringItemDetailsComponent_ng_container_0_Template_button_click_6_listener","toggleFav","CateringItemDetailsComponent_ng_container_0_p_14_Template","CateringItemDetailsComponent_ng_container_0_Template_a_counter_ngModelChange_15_listener","ctx_r33","activeChange","CateringItemDetailsComponent_ng_container_0_div_17_Template","CateringItemDetailsComponent_ng_container_0_div_21_Template","CateringItemDetailsComponent_ng_container_0_Template_button_click_23_listener","fav","CateringItemDetailsComponent","_update","group_list","g","CateringItemDetailsComponent_ng_container_0_Template","CateringItemDetailsComponent_ng_template_1_Template","day_r6","CateringItemFiltersComponent_div_7_ng_container_3_Template_mat_select_ngModelChange_4_listener","_r8","offset_dayChange","CateringItemFiltersComponent_div_7_ng_container_3_mat_option_5_Template","day_options","CateringItemFiltersComponent_div_7_Template_mat_checkbox_ngModelChange_1_listener","at_time","at_timeChange","CateringItemFiltersComponent_div_7_ng_container_3_Template","CateringItemFiltersComponent_div_7_Template_a_duration_field_ngModelChange_6_listener","offsetChange","exact_tooltip","start_of_date","filters","step_interval","min_offset","max_offset","CateringItemFiltersComponent_mat_checkbox_10_Template_mat_checkbox_ngModelChange_0_listener","toggleCategory","ICONS","coffee","drinks","snacks","meals","CateringItemFiltersComponent","getFilters","_min_offset","min","_max_offset","icons","_updateDayOptions","toggleTag","day","CateringItemFiltersComponent_Template_input_ngModelChange_4_listener","CateringItemFiltersComponent_h3_6_Template","CateringItemFiltersComponent_div_7_Template","CateringItemFiltersComponent_h3_8_Template","CateringItemFiltersComponent_mat_checkbox_10_Template","CateringItemListItemComponent","favourite","select","CateringItemListItemComponent_Template","CateringItemListItemComponent_Template_button_click_1_listener","CateringItemListItemComponent_div_3_Template","CateringItemListItemComponent_img_4_Template","CateringItemListItemComponent_ng_template_5_Template","CateringItemListItemComponent_p_14_Template","CateringItemListItemComponent_div_15_Template","CateringItemListItemComponent_div_16_Template","CateringItemListItemComponent_div_17_Template","CateringItemListItemComponent_div_18_Template","CateringItemListItemComponent_div_19_Template","CateringItemListItemComponent_div_20_Template","CateringItemListItemComponent_Template_button_click_21_listener","CateringItemListComponent_ng_container_1_catering_item_list_item_7_Template_catering_item_list_item_toggleFav_0_listener","item_r7","CateringItemListComponent_ng_container_1_catering_item_list_item_7_Template_catering_item_list_item_select_0_listener","selectItem","isFavourite","CateringItemListComponent_ng_container_1_catering_item_list_item_7_Template","CateringItemListComponent_ng_container_8_ul_1_catering_item_list_item_1_Template_catering_item_list_item_toggleFav_0_listener","CateringItemListComponent_ng_container_8_ul_1_catering_item_list_item_1_Template_catering_item_list_item_select_0_listener","CateringItemListComponent_ng_container_8_ul_1_catering_item_list_item_1_Template","item_list","CateringItemListComponent_ng_container_8_ul_1_Template","CateringItemListComponent","selected_items","onSelect","item_id","clear_state","CateringItemListComponent_Template","CateringItemListComponent_ng_container_1_Template","CateringItemListComponent_ng_container_8_Template","CateringItemListComponent_ng_template_10_Template","CateringItemListComponent_ng_template_12_Template","showMetadata","catchError","shareReplay","getCateringRulesForZone","_options","_filters","asObservable","post","require_notes","t","ɵɵinject","factory","ɵfac","providedIn","NewCateringOrderModalComponent_button_14_Template_button_click_0_listener","displayed","selected_ids","_order","isSelected","setSelected","NewCateringOrderModalComponent_Template_catering_item_filters_at_timeChange_8_listener","NewCateringOrderModalComponent_Template_catering_item_filters_offsetChange_8_listener","NewCateringOrderModalComponent_Template_catering_item_filters_offset_dayChange_8_listener","NewCateringOrderModalComponent_Template_catering_item_list_toggleFav_11_listener","NewCateringOrderModalComponent_Template_catering_item_list_onSelect_11_listener","NewCateringOrderModalComponent_Template_catering_item_details_activeChange_12_listener","NewCateringOrderModalComponent_Template_catering_item_details_toggleFav_12_listener","NewCateringOrderModalComponent_Template_catering_item_details_close_12_listener","NewCateringOrderModalComponent_button_14_Template","NewCateringOrderModalComponent_Template_button_click_26_listener","opt_r6","CateringOrderOptionsModalComponent_div_7_ng_container_4_mat_radio_button_5_div_4_Template","CateringOrderOptionsModalComponent_div_7_ng_container_4_Template_mat_radio_group_ngModelChange_1_listener","group_r1","CateringOrderOptionsModalComponent_div_7_ng_container_4_mat_radio_button_5_Template","opt_r14","CateringOrderOptionsModalComponent_div_7_ng_template_5_mat_checkbox_0_Template_mat_checkbox_ngModelChange_0_listener","CateringOrderOptionsModalComponent_div_7_ng_template_5_mat_checkbox_0_div_4_Template","CateringOrderOptionsModalComponent_div_7_ng_template_5_mat_checkbox_0_Template","CateringOrderOptionsModalComponent_div_7_ng_container_4_Template","CateringOrderOptionsModalComponent_div_7_ng_template_5_Template","CateringOrderOptionsModalComponent","saveOptions","CateringOrderOptionsModalComponent_Template","CateringOrderOptionsModalComponent_div_7_Template","CateringOrderOptionsModalComponent_Template_button_click_9_listener","CATERING_STATUSES","notes","CateringOrderComponent_div_0_span_18_Template","CateringOrderComponent_div_0_span_21_Template","CateringOrderComponent_div_0_button_25_Template","CateringOrderComponent_div_0_span_28_Template","CateringOrderComponent_div_0_Template_button_click_36_listener","show_items","charge_code","invoice_number","colour","CateringOrderComponent_ul_1_li_1_Template","CateringOrderComponent_button_4_Template_button_click_0_listener","status_r13","updateStatus","CateringOrderComponent","statuses","CateringOrderComponent_Template","CateringOrderComponent_div_0_Template","CateringOrderComponent_ul_1_Template","CateringOrderComponent_button_4_Template","flatten","updateEventMetadata","checkOrder","_poll","valid_catering","delay","clearInterval","updated_order","system_id","updateMetadata","notifySuccess","AttachedResourceConfigModalComponent","_menu","_updated","_currency","_change","getCateringForZone","race","findIndex","updateMenu","_this5","_this6","class","_this7","editConfig","_this8","config","saveNotes","saveSettings","updateConfig","importMenu","_this9","updated_menu","_this10","old_settings","addItemToOrder","Type","MatAutocompleteModule","MatCheckboxModule","MatDialogModule","MatMenuModule","MatTabsModule","MatRadioModule","MatTooltipModule","MatFormFieldModule","FormFieldsModule","ComponentsModule","ChargeCodeListModalComponent","COMPONENTS","exports","ChargeCodeListModalComponent_main_6_div_1_Template_input_ngModelChange_2_listener","i_r6","ChargeCodeListModalComponent_main_6_div_1_Template_button_click_3_listener","removeCode","ChargeCodeListModalComponent_main_6_div_1_Template","ChargeCodeListModalComponent_footer_7_Template_input_change_3_listener","addCodesFromFile","ChargeCodeListModalComponent_footer_7_Template_button_click_4_listener","newCode","ChargeCodeListModalComponent_footer_7_Template_button_click_6_listener","saveChargeCodes","reader","evt","srcElement","cleaned_codes","ChargeCodeListModalComponent_Template","ChargeCodeListModalComponent_main_6_Template","ChargeCodeListModalComponent_footer_7_Template","ChargeCodeListModalComponent_ng_template_8_Template","isAfter","subHours","stringToMinutes","RULE_REQUESTS","fresh","is_available","rule","matches","condition","ext","_legacyCanvasSize","DEFAULT_CANVAS_SIZE","_preferredCamera","_maxScansPerSecond","_lastScanTimestamp","_destroyed","_flashOn","_paused","_active","$video","$canvas","document","createElement","_onDecode","warn","_legacyOnDecode","_onDecodeError","onDecodeError","_calculateScanRegion","calculateScanRegion","preferredCamera","maxScansPerSecond","_onPlay","bind","_onLoadedMetaData","_onVisibilityChange","_updateOverlay","disablePictureInPicture","playsInline","muted","h","hidden","appendChild","parentElement","highlightScanRegion","highlightCodeOutline","overlay","$overlay","style","position","display","pointerEvents","classList","innerHTML","firstElementChild","animate","iterations","Infinity","direction","easing","m","insertBefore","nextSibling","insertAdjacentHTML","$codeOutlineHighlight","lastElementChild","_scanRegion","requestAnimationFrame","getComputedStyle","setProperty","visibility","width","height","removeChild","_qrEnginePromise","createQrEngine","WORKER_PATH","hasCamera","listCameras","enumerateDevices","kind","label","audio","deviceId","_stopVideoStream","hasFlash","MediaStream","_getCameraStream","getVideoTracks","getSettings","isFlashOn","toggleFlash","turnFlashOff","turnFlashOn","applyConstraints","advanced","torch","_restartVideoStream","destroy","removeEventListener","_postWorkerMessage","Error","protocol","play","facingMode","_setVideoMirror","pause","setTimeout","setCamera","scanImage","n","scanRegion","qrEngine","canvas","disallowCanvasResizing","alsoTryWithoutScanRegion","p","_loadImage","_drawToCanvas","q","Worker","_postWorkerMessageSync","v","w","u","clearTimeout","cornerPoints","_convertPoints","NO_QR_CODE_FOUND","getImageData","buffer","detect","rawValue","test","_disableBarcodeDetector","setGrayscaleWeights","red","green","blue","useIntegerApproximation","setInversionMode","createWorker","BarcodeDetector","getSupportedFormats","userAgentData","brands","brand","platform","getHighEntropyValues","architecture","platformVersion","parseInt","formats","_scanFrame","round","videoWidth","videoHeight","downScaledWidth","downScaledHeight","offsetWidth","offsetHeight","offsetLeft","offsetTop","objectFit","objectPosition","parseFloat","endsWith","top","left","paused","ended","requestVideoFrameCallback","readyState","_codeOutlineHighlightRemovalTimeout","setAttribute","assign","exact","_getFacingMode","removeTrack","getContext","alpha","imageSmoothingEnabled","drawImage","Image","_awaitImageLoad","HTMLVideoElement","HTMLCanvasElement","SVGImageElement","OffscreenCanvas","ImageBitmap","File","Blob","URL","src","createObjectURL","toString","revokeObjectURL","complete","naturalWidth","ErrorEvent","_workerMessageId","postMessage"],"sourceRoot":"webpack:///","x_google_ignoreList":[68]}