{"version":3,"file":"apps_workplace_src_app_book_book_module_ts.js","mappings":"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","sources":["./apps/workplace/src/app/book/book.component.ts","./apps/workplace/src/app/book/book.module.ts","./apps/workplace/src/app/book/code-flow-error.component.ts","./apps/workplace/src/app/book/code-flow-success.component.ts","./apps/workplace/src/app/book/code-flow.component.ts","./apps/workplace/src/app/book/desk-flow.component.ts","./apps/workplace/src/app/book/desk-flow/confirm.component.ts","./apps/workplace/src/app/book/desk-flow/detailed-form.component.ts","./apps/workplace/src/app/book/desk-flow/form.component.ts","./apps/workplace/src/app/book/desk-flow/map.component.ts","./apps/workplace/src/app/book/flow-success.component.ts","./apps/workplace/src/app/book/locker-flow.component.ts","./apps/workplace/src/app/book/locker-flow/locker-flow-confirm.component.ts","./apps/workplace/src/app/book/locker-flow/locker-flow-form.component.ts","./apps/workplace/src/app/book/locker-flow/locker-flow-success.component.ts","./apps/workplace/src/app/book/locker-flow/locker-form-details.component.ts","./apps/workplace/src/app/book/meeting-flow.component.ts","./apps/workplace/src/app/book/meeting-flow/meeting-flow-confirm-modal.component.ts","./apps/workplace/src/app/book/meeting-flow/meeting-flow-confirm.component.ts","./apps/workplace/src/app/book/meeting-flow/meeting-flow-form.component.ts","./apps/workplace/src/app/book/meeting-flow/meeting-flow-success.component.ts","./apps/workplace/src/app/book/meeting-flow/meeting-form-details.component.ts","./apps/workplace/src/app/book/new-desk-flow.component.ts","./apps/workplace/src/app/book/new-desk-flow/new-desk-flow-confirm.component.ts","./apps/workplace/src/app/book/new-desk-flow/new-desk-flow-form.component.ts","./apps/workplace/src/app/book/new-desk-flow/new-desk-flow-success.component.ts","./apps/workplace/src/app/book/new-desk-flow/new-desk-form-details.component.ts","./apps/workplace/src/app/book/new-parking-flow.component.ts","./apps/workplace/src/app/book/new-parking-flow/parking-flow-confirm.component.ts","./apps/workplace/src/app/book/new-parking-flow/parking-flow-form.component.ts","./apps/workplace/src/app/book/new-parking-flow/parking-flow-success.component.ts","./apps/workplace/src/app/book/new-parking-flow/parking-form-details.component.ts","./apps/workplace/src/app/book/parking-flow.component.ts","./apps/workplace/src/app/book/parking-flow/parking-flow-confirm.component.ts","./apps/workplace/src/app/book/parking-flow/parking-flow-map.component.ts","./apps/workplace/src/app/book/space-flow.component.ts","./apps/workplace/src/app/book/space-flow/confirm.component.ts","./apps/workplace/src/app/book/space-flow/detailed-form.component.ts","./apps/workplace/src/app/book/space-flow/find-item.component.ts","./apps/workplace/src/app/book/space-flow/find.component.ts","./apps/workplace/src/app/book/space-flow/form.component.ts","./apps/workplace/src/app/book/visitor-flow.component.ts","./libs/catering/src/index.ts","./libs/catering/src/lib/catering-import-menu-modal.component.ts","./libs/catering/src/lib/catering-item-modal.component.ts","./libs/catering/src/lib/catering-list-field.component.ts","./libs/catering/src/lib/catering-menu.component.ts","./libs/catering/src/lib/catering-option-modal.component.ts","./libs/catering/src/lib/catering-order-item.component.ts","./libs/catering/src/lib/catering-order-list.component.ts","./libs/catering/src/lib/catering-order-modal.component.ts","./libs/catering/src/lib/catering-order-modal/catering-item-details.component.ts","./libs/catering/src/lib/catering-order-modal/catering-item-filters.component.ts","./libs/catering/src/lib/catering-order-modal/catering-item-list-item.component.ts","./libs/catering/src/lib/catering-order-modal/catering-item-list.component.ts","./libs/catering/src/lib/catering-order-modal/catering-order-state.service.ts","./libs/catering/src/lib/catering-order-modal/new-catering-order-modal.component.ts","./libs/catering/src/lib/catering-order-options-modal.component.ts","./libs/catering/src/lib/catering-orders.service.ts","./libs/catering/src/lib/catering-state.service.ts","./libs/catering/src/lib/catering.interfaces.ts","./libs/catering/src/lib/catering.module.ts","./libs/catering/src/lib/catering.ts","./libs/catering/src/lib/catering.vars.ts","./libs/catering/src/lib/charge-code-list-modal.component.ts","./libs/catering/src/lib/utilities.ts","./node_modules/qr-scanner/qr-scanner.min.js"],"sourcesContent":["import { Component } from '@angular/core';\n\n@Component({\n    selector: 'placeos-book',\n    template: `\n        <topbar *ngIf=\"!hide_nav\"></topbar>\n        <div class=\"flex-1 flex sm:flex-row flex-col-reverse h-1/2\">\n            <main\n                class=\"flex flex-col flex-1 h-1/2 sm:h-auto overflow-hidden\"\n            >\n                <router-outlet></router-outlet>\n            </main>\n        </div>\n        <footer-menu class=\"z-10\" *ngIf=\"!hide_nav\"></footer-menu>\n    `,\n    styles: [\n        `\n            :host {\n                display: flex;\n                flex-direction: column;\n                height: 100%;\n                width: 100%;\n            }\n        `,\n    ],\n})\nexport class BookComponent {\n    public get hide_nav() {\n        return localStorage.getItem('PlaceOS.hide_nav') === 'true';\n    }\n}\n","import { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\nimport { Route, RouterModule } from '@angular/router';\nimport { MatButtonToggleModule } from '@angular/material/button-toggle';\nimport { MatBottomSheetModule } from '@angular/material/bottom-sheet';\n\nimport { SharedExploreModule } from '@placeos/explore';\nimport { SharedBookingsModule } from '@placeos/bookings';\nimport { SharedCateringModule } from '@placeos/catering';\n\nimport { BookComponent } from './book.component';\nimport { BookCodeFlowComponent } from './code-flow.component';\nimport { BookDeskFlowComponent } from './desk-flow.component';\nimport { DeskFlowConfirmComponent } from './desk-flow/confirm.component';\nimport { DeskFlowFormComponent } from './desk-flow/form.component';\nimport { DeskFlowDetailedFormComponent } from './desk-flow/detailed-form.component';\nimport { DeskFlowMapComponent } from './desk-flow/map.component';\nimport { FlowSuccessComponent } from './flow-success.component';\nimport { BookSpaceFlowComponent } from './space-flow.component';\nimport { SpaceFlowConfirmComponent } from './space-flow/confirm.component';\nimport { DetailBookSpaceFormComponent } from './space-flow/detailed-form.component';\nimport { SpaceFlowFindItemComponent } from './space-flow/find-item.component';\nimport { SpaceFlowFindComponent } from './space-flow/find.component';\nimport { SpaceFlowFormComponent } from './space-flow/form.component';\nimport { SharedComponentModule } from '../components/shared.module';\nimport { BookParkingFlowComponent } from './parking-flow.component';\nimport { ParkingFlowMapComponent } from './parking-flow/parking-flow-map.component';\nimport { ParkingFlowConfirmComponent } from './parking-flow/parking-flow-confirm.component';\nimport { BookMeetingFlowComponent } from './meeting-flow.component';\nimport { MeetingFlowFormComponent } from './meeting-flow/meeting-flow-form.component';\nimport { MeetingFormDetailsComponent } from './meeting-flow/meeting-form-details.component';\nimport { MeetingFlowConfirmComponent } from './meeting-flow/meeting-flow-confirm.component';\nimport { MeetingFlowSuccessComponent } from './meeting-flow/meeting-flow-success.component';\nimport { NewDeskFlowComponent } from './new-desk-flow.component';\nimport { NewDeskFlowFormComponent } from './new-desk-flow/new-desk-flow-form.component';\nimport { NewDeskFormDetailsComponent } from './new-desk-flow/new-desk-form-details.component';\nimport { NewDeskFlowConfirmComponent } from './new-desk-flow/new-desk-flow-confirm.component';\nimport { NewDeskFlowSuccessComponent } from './new-desk-flow/new-desk-flow-success.component';\nimport { VisitorFlowComponent } from './visitor-flow.component';\nimport { NewParkingFlowComponent } from './new-parking-flow.component';\nimport { ParkingFlowFormComponent } from './new-parking-flow/parking-flow-form.component';\nimport { ParkingFlowSuccessComponent } from './new-parking-flow/parking-flow-success.component';\nimport { ParkingFormDetailsComponent } from './new-parking-flow/parking-form-details.component';\nimport { MeetingFlowConfirmModalComponent } from './meeting-flow/meeting-flow-confirm-modal.component';\nimport { NewParkingFlowConfirmComponent } from './new-parking-flow/parking-flow-confirm.component';\nimport { CodeFlowSuccessComponent } from './code-flow-success.component';\nimport { CodeFlowErrorComponent } from './code-flow-error.component';\nimport { BookLockerFlowComponent } from './locker-flow.component';\nimport { BookLockerFlowSuccessComponent } from './locker-flow/locker-flow-success.component';\nimport { BookLockerFlowFormComponent } from './locker-flow/locker-flow-form.component';\nimport { BookLockerFlowConfirmComponent } from './locker-flow/locker-flow-confirm.component';\nimport { LockerFormDetailsComponent } from './locker-flow/locker-form-details.component';\n\nconst ROUTES: Route[] = [\n    {\n        path: '',\n        component: BookComponent,\n        children: [\n            { path: 'code', component: BookCodeFlowComponent },\n            { path: 'code/success', component: CodeFlowSuccessComponent },\n            { path: 'code/error', component: CodeFlowErrorComponent },\n            { path: 'new-desk', redirectTo: 'new-desks/form' },\n            { path: 'new-desks', redirectTo: 'new-desks/form' },\n            { path: 'new-desks/:step', component: NewDeskFlowComponent },\n            { path: 'new-desk', redirectTo: 'new-desks/form' },\n            { path: 'desks', redirectTo: 'desks/form' },\n            { path: 'desks/:step', component: BookDeskFlowComponent },\n            { path: 'spaces', redirectTo: 'spaces/form' },\n            { path: 'spaces/:step', component: BookSpaceFlowComponent },\n            { path: 'meeting', redirectTo: 'meeting/form' },\n            { path: 'meeting/:step', component: BookMeetingFlowComponent },\n            { path: 'parking', redirectTo: 'parking/form' },\n            { path: 'parking/:step', component: BookParkingFlowComponent },\n            { path: 'new-parking', redirectTo: 'new-parking/form' },\n            { path: 'new-parking/:step', component: NewParkingFlowComponent },\n            { path: 'visitor', redirectTo: 'visitor/form' },\n            { path: 'visitor/:step', component: VisitorFlowComponent },\n            { path: 'locker', redirectTo: 'locker/form' },\n            { path: 'locker/:step', component: BookLockerFlowComponent },\n            { path: '*', redirectTo: 'spaces/form' },\n        ],\n    },\n    { path: '*', redirectTo: 'spaces/form' },\n];\n\n@NgModule({\n    declarations: [\n        BookComponent,\n        BookSpaceFlowComponent,\n        SpaceFlowFormComponent,\n        SpaceFlowFindComponent,\n        SpaceFlowFindItemComponent,\n        SpaceFlowConfirmComponent,\n        DetailBookSpaceFormComponent,\n        BookDeskFlowComponent,\n        DeskFlowFormComponent,\n        DeskFlowDetailedFormComponent,\n        DeskFlowMapComponent,\n        DeskFlowConfirmComponent,\n        BookCodeFlowComponent,\n        CodeFlowSuccessComponent,\n        CodeFlowErrorComponent,\n        BookParkingFlowComponent,\n        ParkingFlowMapComponent,\n        ParkingFlowConfirmComponent,\n        FlowSuccessComponent,\n        BookMeetingFlowComponent,\n        MeetingFlowFormComponent,\n        MeetingFormDetailsComponent,\n        MeetingFlowConfirmComponent,\n        MeetingFlowConfirmModalComponent,\n        MeetingFlowSuccessComponent,\n        NewDeskFlowFormComponent,\n        NewDeskFormDetailsComponent,\n        NewDeskFlowComponent,\n        NewDeskFlowConfirmComponent,\n        NewDeskFlowSuccessComponent,\n        VisitorFlowComponent,\n\n        NewParkingFlowComponent,\n        ParkingFlowFormComponent,\n        NewParkingFlowConfirmComponent,\n        ParkingFlowSuccessComponent,\n        ParkingFormDetailsComponent,\n\n        BookLockerFlowComponent,\n        BookLockerFlowFormComponent,\n        BookLockerFlowConfirmComponent,\n        BookLockerFlowSuccessComponent,\n        LockerFormDetailsComponent,\n    ],\n    imports: [\n        CommonModule,\n        SharedComponentModule,\n        FormsModule,\n        SharedCateringModule,\n        SharedExploreModule,\n        ReactiveFormsModule,\n        MatButtonToggleModule,\n        MatBottomSheetModule,\n        SharedBookingsModule,\n        RouterModule.forChild(ROUTES),\n    ],\n})\nexport class BookModule {}\n","import { Component } from '@angular/core';\nimport { ActivatedRoute } from '@angular/router';\nimport { BookingFormService } from '@placeos/bookings';\nimport { AsyncHandler } from '@placeos/common';\n\nconst VALID_TYPES = ['not_started', 'wrong_resource', 'other'];\n\n@Component({\n    selector: 'code-flow-success',\n    template: `\n        <div class=\"absolute inset-0 bg-base-100 flex flex-col z-50\">\n            <main\n                class=\"flex-1 flex flex-col items-center justify-center space-y-2 p-8\"\n            >\n                <h2 class=\"text-2xl font-medium\">\n                    {{ 'WPA.RESOURCE_CHECKED_IN_FAILED' | translate }}\n                </h2>\n                <div class=\"py-4\">\n                    <img src=\"assets/icons/not-found.svg\" class=\"h-64\" />\n                </div>\n                <p class=\"text-center max-w-[32rem]\" [ngSwitch]=\"type\">\n                    <ng-container *ngSwitchCase=\"'not_started'\">\n                        Booking has not started yet. Please try again once the\n                        booking has commenced.\n                    </ng-container>\n                    <ng-container *ngSwitchCase=\"'wrong_resource'\">\n                        You have booking with a difference resource.\n                    </ng-container>\n                    <ng-container *ngSwitchDefault>\n                        You do not have a booking. Would you like to book the\n                        set resource?\n                    </ng-container>\n                </p>\n            </main>\n            <footer\n                class=\"p-2 w-full border-t border-base-200 mt-4 flex items-center justify-center space-x-2\"\n            >\n                <a\n                    btn\n                    matRipple\n                    class=\"w-full max-w-[32rem]\"\n                    [routerLink]=\"['/book', 'code']\"\n                    [queryParams]=\"{ asset_id: asset_id }\"\n                    *ngIf=\"type === 'not_started'\"\n                >\n                    {{ 'WPA.TRY_AGAIN' | translate }}\n                </a>\n                <a\n                    btn\n                    matRipple\n                    class=\"w-full max-w-[32rem]\"\n                    [routerLink]=\"['/book', 'new-desk']\"\n                    [queryParams]=\"{ asset_id: asset_id }\"\n                    *ngIf=\"type === 'no_booking'\"\n                >\n                    {{ 'WPA.BOOK' | translate }}\n                </a>\n                <a\n                    btn\n                    matRipple\n                    class=\"w-full max-w-[32rem] inverse\"\n                    [routerLink]=\"['/']\"\n                >\n                    {{ 'COMMON.CONTINUE' | translate }}\n                </a>\n            </footer>\n        </div>\n    `,\n    styles: [``],\n})\nexport class CodeFlowErrorComponent extends AsyncHandler {\n    public type = 'other';\n    public asset = null;\n    public asset_id = '';\n\n    constructor(\n        private _route: ActivatedRoute,\n        private _state: BookingFormService\n    ) {\n        super();\n    }\n\n    public ngOnInit() {\n        this.subscription(\n            'route.query',\n            this._route.queryParamMap.subscribe((params) => {\n                this.type = params.get('type') as any;\n                this.asset_id = params.get('asset_id') as any;\n            })\n        );\n    }\n}\n","import { Component } from '@angular/core';\n\n@Component({\n    selector: 'code-flow-success',\n    template: `\n        <div class=\"absolute inset-0 bg-base-100 flex flex-col z-50\">\n            <main\n                class=\"flex-1 flex flex-col items-center justify-center space-y-2 p-8\"\n            >\n                <h2 class=\"text-2xl font-medium\">\n                    {{ 'WPA.RESOURCE_CHECKED_IN' | translate }}\n                </h2>\n                <img src=\"assets/icons/success.svg\" />\n                <p class=\"text-center max-w-[32rem]\">\n                    {{ 'WPA.CHECKED_IN' | translate }}\n                </p>\n            </main>\n            <footer\n                class=\"p-2 w-full border-t border-base-200 mt-4 flex items-center justify-center\"\n            >\n                <a\n                    btn\n                    matRipple\n                    class=\"w-full max-w-[32rem]\"\n                    [routerLink]=\"['/']\"\n                >\n                    {{ 'WPA.BOOKING_DONE_CONTINUE' | translate }}\n                </a>\n            </footer>\n        </div>\n    `,\n    styles: [``],\n})\nexport class CodeFlowSuccessComponent {}\n","import {\n    Component,\n    OnInit,\n    Output,\n    EventEmitter,\n    ViewChild,\n    ElementRef,\n    OnDestroy,\n} from '@angular/core';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport {\n    Booking,\n    BookingFormService,\n    BookingType,\n    checkinBooking,\n    queryBookings,\n} from '@placeos/bookings';\nimport { AsyncHandler, currentUser, notifyError } from '@placeos/common';\nimport {\n    CalendarEvent,\n    checkinEventGuest,\n    EventFormService,\n    queryEvents,\n} from '@placeos/events';\nimport { showSystem } from '@placeos/ts-client';\nimport { addMinutes, endOfDay, getUnixTime } from 'date-fns';\nimport QrScanner from 'qr-scanner';\n\n@Component({\n    selector: 'book-code-flow',\n    template: `\n        <div\n            class=\"flex-1 overflow-hidden flex items-center justify-center bg-neutral relative\"\n            *ngIf=\"!loading; else load_state\"\n        >\n            <video\n                class=\"min-w-full min-h-full object-cover\"\n                id=\"video\"\n                #video\n            ></video>\n            <div\n                class=\"absolute text-white text-center inset-0 flex flex-col items-center justify-center\"\n            >\n                <div\n                    class=\"flex flex-col z-10 justify-end items-center relative\"\n                    *ngIf=\"is_scanning\"\n                >\n                    <h2 class=\"text-3xl mb-1 uppercase subpixel-antialiased\">\n                        Scan QR Code\n                    </h2>\n                    <span class=\" mb-4 \">\n                        Scan the QR code outisde a PlaceOS room or space.\n                    </span>\n                </div>\n                <div\n                    class=\"flex flex-col z-10 justify-end items-center relative\"\n                    *ngIf=\"!is_scanning\"\n                >\n                    <h2 class=\"text-3xl mb-1 uppercase subpixel-antialiased\">\n                        Enter Room ID\n                    </h2>\n                    <span class=\"mb-4\">\n                        Enter the room ID number outisde a PlaceOS room or\n                        space.\n                    </span>\n                </div>\n                <div class=\"flex items-center justify-center\">\n                    <div\n                        box\n                        class=\"rounded-2xl h-64 w-64 transition-all flex items-center justify-center p-8 m-8 space-x-2\"\n                        [class.input]=\"!is_scanning\"\n                    >\n                        <span class=\"uppercase\">Booking ID</span>\n                        <input\n                            matInput\n                            class=\"border-none bg-none w-full text-3xl text-left\"\n                            [(ngModel)]=\"room_code\"\n                            name=\"booking-id\"\n                            placeholder=\"e.g. 12102910\"\n                        />\n                    </div>\n                </div>\n                <div\n                    class=\"m-4 p-2 flex items-center space-x-2 bg-base-100 bg-opacity-50 rounded\"\n                >\n                    <button\n                        matRipple\n                        [class]=\"\n                            'flex-1 text-black border-none w-40 ' +\n                            (is_scanning\n                                ? 'bg-base-100'\n                                : 'bg-transparent hover:bg-base-100 hover:dark:bg-neutral-600 bg-opacity-50')\n                        \"\n                        (click)=\"is_scanning = true\"\n                    >\n                        Scan Code\n                    </button>\n                    <button\n                        matRipple\n                        [class]=\"\n                            'flex-1 text-black border-none w-40 ' +\n                            (!is_scanning\n                                ? 'bg-base-100'\n                                : 'bg-transparent hover:bg-base-100 hover:dark:bg-neutral-600 bg-opacity-50')\n                        \"\n                        (click)=\"is_scanning = false\"\n                    >\n                        Enter Code\n                    </button>\n                </div>\n            </div>\n        </div>\n        <ng-template #load_state>\n            <div\n                class=\"absolute inset-0 flex flex-col items-center justify-center space-y-2\"\n            >\n                <mat-spinner [diameter]=\"32\"></mat-spinner>\n                <p>Checking in booking...</p>\n            </div>\n        </ng-template>\n    `,\n    styles: [\n        `\n            :host {\n                position: relative;\n                width: 100%;\n                height: 100vh;\n                display: flex;\n                flex-direction: column;\n                background: #f0f0f0;\n            }\n\n            [box] {\n                box-shadow: 0px 0px 0px 100vw rgba(0, 0, 0, 0.5);\n            }\n\n            [box] > * {\n                display: none;\n            }\n\n            [box].input {\n                width: 32rem !important;\n                max-width: calc(100% - 2rem) !important;\n                padding: 1rem !important;\n                height: 4rem !important;\n                color: black !important;\n                background: white;\n                box-shadow: 0px 0px 0px 100vw rgba(0, 0, 0, 0.8);\n            }\n\n            [box].input > * {\n                display: initial;\n            }\n\n            [box] span {\n                font-family: var(--heading-font);\n                font-weight: 500;\n                text-transform: uppercase;\n                letter-spacing: 0.05em;\n            }\n        `,\n    ],\n})\nexport class BookCodeFlowComponent\n    extends AsyncHandler\n    implements OnInit, OnDestroy\n{\n    /** Menu event */\n    @Output() public menu = new EventEmitter(false);\n    /** Boolean to toggle scan/code */\n    public is_scanning = true;\n    /** Room Code input value */\n    public room_code: string;\n    public loading = false;\n\n    private _qr_scanner;\n    /** Video element to emit camera feed */\n    @ViewChild('video')\n    private _video_el: ElementRef<HTMLVideoElement>;\n\n    constructor(\n        private _router: Router,\n        private _route: ActivatedRoute,\n        private _event_form: EventFormService,\n        private _booking_form: BookingFormService\n    ) {\n        super();\n    }\n\n    public ngOnDestroy() {\n        if (this._video_el?.nativeElement?.srcObject) {\n            (this._video_el.nativeElement.srcObject as any)\n                .getTracks()\n                .forEach((track) => track?.stop());\n        }\n        this._qr_scanner?.stop();\n    }\n\n    public ngOnInit(): void {\n        this.subscription(\n            'route.query',\n            this._route.queryParamMap.subscribe((params) => {\n                if (params.has('asset_id'))\n                    this._checkinBooking(params.get('asset_id'));\n                if (params.has('space_id'))\n                    this._checkinEvent(\n                        params.get('space_id'),\n                        params.get('email')\n                    );\n            })\n        );\n    }\n\n    public ngAfterViewInit() {\n        if (!navigator.mediaDevices?.getUserMedia || this.loading) return;\n        navigator.mediaDevices\n            .getUserMedia({ video: true })\n            .then((stream) => (this._video_el.nativeElement.srcObject = stream))\n            .catch((e) => console.error('Unable to fetch media devices!', e));\n        this._qr_scanner = new QrScanner(this._video_el.nativeElement, (r) =>\n            this.handleQrCode(r)\n        );\n        this._qr_scanner.start();\n    }\n\n    private handleQrCode(result: string) {\n        const url = result;\n        const hashindex = url.indexOf('/#/');\n        // could just whole page redirect to url\n        if (hashindex > 0) {\n            const regex = /[?&]([^=#]+)=([^&#]*)/g;\n            const params = {};\n            let match;\n            while ((match = regex.exec(url))) {\n                params[match[1]] = match[2];\n            }\n            this._router.navigate([url.split('/#')[1].split('?')[0]], params);\n        }\n    }\n\n    private async _checkinBooking(\n        asset_id: string,\n        type: BookingType = 'desk'\n    ) {\n        this.loading = true;\n        let bookings = await queryBookings({\n            period_start: getUnixTime(Date.now()),\n            period_end: getUnixTime(addMinutes(Date.now(), 5)),\n            type,\n            email: currentUser().email,\n        })\n            .toPromise()\n            .catch((_) => [] as Booking[]);\n        const item = bookings.find((_) => _.asset_id === asset_id);\n        if (item) {\n            await checkinBooking(item.id, true)\n                .toPromise()\n                .catch((_) => {\n                    notifyError(\n                        `Unable to checkin booking with resource \"${asset_id}\"`\n                    );\n                    this.loading = false;\n                    throw _;\n                });\n            this._router.navigate(['/book', 'code', 'success']);\n        } else {\n            bookings = await queryBookings({\n                period_start: getUnixTime(Date.now()),\n                period_end: getUnixTime(endOfDay(Date.now())),\n                type,\n            })\n                .toPromise()\n                .catch((_) => [] as Booking[]);\n            let item = bookings.find((_) => _.asset_id === asset_id);\n            if (item) {\n                this._router.navigate(['/book', 'code', 'error'], {\n                    queryParams: { type: 'not_started', asset_id },\n                });\n                return;\n            }\n            bookings = await queryBookings({\n                period_start: getUnixTime(Date.now()),\n                period_end: getUnixTime(addMinutes(Date.now(), 5)),\n                type,\n            })\n                .toPromise()\n                .catch((_) => [] as Booking[]);\n            item = bookings.find((_) => _.asset_id === asset_id);\n            if (item) {\n                this._router.navigate(['/book', 'code', 'error'], {\n                    queryParams: { type: 'wrong_resource', asset_id },\n                });\n                return;\n            }\n            this._router.navigate(['/book', 'code', 'error'], {\n                queryParams: { type: 'no_booking', asset_id },\n            });\n            this._booking_form.newForm(new Booking({ asset_id, type }));\n            this._booking_form.setOptions({ type });\n        }\n        this.loading = false;\n    }\n\n    private async _checkinEvent(space_id: string, email?: string) {\n        if (!email) email = currentUser().email;\n        this.loading = true;\n        const bookings = await queryEvents({\n            period_start: getUnixTime(Date.now()),\n            period_end: getUnixTime(Date.now() + 5 * 60 * 1000),\n        })\n            .toPromise()\n            .catch((_) => []);\n        const item = bookings.find((_) =>\n            _.resources.find((s) => s.id === space_id || s.email === space_id)\n        );\n        if (item) {\n            await checkinEventGuest(item.id, email, true)\n                .toPromise()\n                .catch((_) => {\n                    notifyError(\n                        `Unable to checkin event with resource \"${space_id}\"`\n                    );\n                    this.loading = false;\n                    throw _;\n                });\n            this._router.navigate(['/book', 'code', 'success']);\n            this.loading = false;\n        } else {\n            const space = await showSystem(space_id).toPromise();\n            if (space) {\n                this._event_form.newForm(new CalendarEvent({ system: space }));\n            }\n            this._router.navigate(['/book', 'meeting']);\n        }\n        this.loading = false;\n    }\n}\n","import { Component, OnInit } from '@angular/core';\nimport { ActivatedRoute } from '@angular/router';\nimport { BookingFormService } from '@placeos/bookings';\nimport { AsyncHandler } from '@placeos/common';\nimport { OrganisationService } from '@placeos/organisation';\nimport { first } from 'rxjs/operators';\n\n@Component({\n    selector: 'placeos-book-desk-flow',\n    template: `\n        <div class=\"bg-base-100 h-full w-full\">\n            <ng-container [ngSwitch]=\"view\">\n                <ng-container *ngSwitchCase=\"'map'\">\n                    <desk-flow-map></desk-flow-map>\n                </ng-container>\n                <ng-container *ngSwitchCase=\"'confirm'\">\n                    <desk-flow-confirm></desk-flow-confirm>\n                </ng-container>\n                <ng-container *ngSwitchCase=\"'success'\">\n                    <flow-success\n                        type=\"desk\"\n                        route=\"desks\"\n                        [calendar]=\"last_success?.user_email\"\n                        [extra]=\"\n                            last_success?.extension_data?.secondary_resource\n                                ? 'Locker E-093 has been allocated for this booking.'\n                                : ''\n                        \"\n                    ></flow-success>\n                </ng-container>\n                <ng-container *ngSwitchDefault>\n                    <desk-flow-form></desk-flow-form>\n                </ng-container>\n            </ng-container>\n        </div>\n    `,\n    styles: [\n        `\n            :host {\n                position: relative;\n                height: 100%;\n                width: 100%;\n            }\n        `,\n    ],\n})\nexport class BookDeskFlowComponent extends AsyncHandler implements OnInit {\n    public get view() {\n        return this._state.view;\n    }\n    public get last_success() {\n        return this._state.last_success;\n    }\n\n    constructor(\n        private _state: BookingFormService,\n        private _route: ActivatedRoute,\n        private _org: OrganisationService\n    ) {\n        super();\n    }\n\n    public async ngOnInit() {\n        await this._org.initialised.pipe(first((_) => _)).toPromise();\n        this._state.loadForm();\n        if (!this._state.form) this._state.newForm();\n        this._state.form.patchValue({ booking_type: 'desk' });\n        this.subscription(\n            'route.params',\n            this._route.paramMap.subscribe((param) => {\n                if (param.has('step'))\n                    this._state.setView(param.get('step') as any);\n            })\n        );\n        this.subscription(\n            'route.query',\n            this._route.queryParamMap.subscribe((param) => {\n                if (param.has('success'))\n                    this._state.setView(param.get('success') as any);\n            })\n        );\n    }\n}\n","import { Component } from '@angular/core';\n\n@Component({\n    selector: 'desk-flow-confirm',\n    template: `\n        <div topbar class=\"\">\n            <a\n                btn\n                matRipple\n                class=\"clear h-[2.75rem] text-white\"\n                [routerLink]=\"['/book', 'desks', 'map']\"\n            >\n                <div class=\"flex items-center justify-center h-full\">\n                    <app-icon class=\"text-xl\">arrow_back</app-icon>\n                    <span class=\"ml-2 mx-4\">Back</span>\n                </div>\n            </a>\n        </div>\n    `,\n    styles: [\n        `\n            :host {\n                height: 100%;\n                width: 100%;\n                display: flex;\n                flex-direction: column;\n            }\n\n            [topbar] {\n                background-color: #00539f;\n            }\n        `,\n    ],\n})\nexport class DeskFlowConfirmComponent {}\n","import { Component, Input } from '@angular/core';\nimport { FormGroup } from '@angular/forms';\nimport { BookingFormService } from '@placeos/bookings';\nimport { SettingsService } from '@placeos/common';\nimport { OrganisationService } from '@placeos/organisation';\nimport { addDays, endOfDay, format } from 'date-fns';\n\n@Component({\n    selector: 'detailed-book-desks-form',\n    template: `\n        <form *ngIf=\"form\" [formGroup]=\"form\">\n            <div\n                class=\"w-[640px] max-w-[calc(100%-2rem)] mx-auto mb-4\"\n                *ngIf=\"allow_groups\"\n            >\n                <mat-button-toggle-group\n                    class=\"w-full\"\n                    [ngModel]=\"(options | async)?.group ? 'group' : 'single'\"\n                    (ngModelChange)=\"\n                        setOptions({\n                            group: $event === 'group'\n                        })\n                    \"\n                    [ngModelOptions]=\"{ standalone: true }\"\n                >\n                    <mat-button-toggle class=\"w-1/2\" value=\"single\">\n                        Single\n                    </mat-button-toggle>\n                    <mat-button-toggle class=\"w-1/2\" value=\"group\">\n                        Group\n                    </mat-button-toggle>\n                </mat-button-toggle-group>\n            </div>\n            <div\n                class=\"flex flex-col sm:flex-row space-x-0 sm:space-x-2 w-[640px] max-w-[calc(100%-2rem)] mx-auto\"\n            >\n                <div class=\"flex flex-col flex-1 w-full sm:w-1/4\">\n                    <label>Date</label>\n                    <a-date-field [to]=\"book_until\" formControlName=\"date\">\n                        Date and time must be in the future\n                    </a-date-field>\n                </div>\n                <div\n                    class=\"flex flex-col flex-1 w-full sm:w-1/4\"\n                    *ngIf=\"(buildings | async)?.length > 1\"\n                >\n                    <label>Building</label>\n                    <mat-form-field appearance=\"outline\">\n                        <mat-select\n                            placeholder=\"Select building\"\n                            [(ngModel)]=\"building\"\n                            (ngModelChange)=\"\n                                setOptions({\n                                    zone_id: $event?.id\n                                })\n                            \"\n                            [ngModelOptions]=\"{ standalone: true }\"\n                        >\n                            <mat-option\n                                *ngFor=\"let bld of buildings | async\"\n                                [value]=\"bld\"\n                            >\n                                {{ bld.display_name || bld.name }}\n                            </mat-option>\n                        </mat-select>\n                    </mat-form-field>\n                </div>\n                <div\n                    class=\"flex flex-col flex-1 w-full sm:w-1/4\"\n                    *ngIf=\"(levels | async)?.length > 1\"\n                >\n                    <label>Level</label>\n                    <mat-form-field appearance=\"outline\">\n                        <mat-select\n                            placeholder=\"Any Level\"\n                            ngModel\n                            [disabled]=\"!building\"\n                            (ngModelChange)=\"\n                                setOptions({\n                                    zone_id: $event || building.id\n                                })\n                            \"\n                            [ngModelOptions]=\"{ standalone: true }\"\n                        >\n                            <mat-option\n                                *ngFor=\"let lvl of levels | async\"\n                                [value]=\"lvl.id\"\n                            >\n                                {{ lvl.display_name || lvl.name }}\n                            </mat-option>\n                        </mat-select>\n                    </mat-form-field>\n                </div>\n            </div>\n            <div\n                class=\"flex flex-col sm:flex-row space-x-0 sm:space-x-2 w-[640px] max-w-[calc(100%-2rem)] mx-auto\"\n                *ngIf=\"allow_time_changes\"\n            >\n                <div class=\"flex flex-col flex-1 w-full sm:w-1/3\">\n                    <label>Start Time</label>\n                    <a-time-field\n                        [ngModel]=\"form.value.date\"\n                        (ngModelChange)=\"form.patchValue({ date: $event })\"\n                        [ngModelOptions]=\"{ standalone: true }\"\n                    ></a-time-field>\n                </div>\n                <div class=\"flex flex-col flex-1 w-full sm:w-1/3 relative\">\n                    <label>End Time</label>\n                    <a-duration-field\n                        formControlName=\"duration\"\n                        [time]=\"form.get('date')?.value\"\n                        [max]=\"10 * 60\"\n                        [min]=\"60\"\n                        [step]=\"60\"\n                        [disabled]=\"form.value.all_day\"\n                    >\n                    </a-duration-field>\n                    <mat-checkbox\n                        formControlName=\"all_day\"\n                        *ngIf=\"allow_all_day\"\n                        class=\"absolute top-0 right-0\"\n                    >\n                        All Day\n                    </mat-checkbox>\n                </div>\n            </div>\n            <div\n                class=\"flex flex-col w-[640px] max-w-[calc(100%-2rem)] mx-auto\"\n                *ngIf=\"can_book_for_others\"\n            >\n                <label>Host</label>\n                <a-user-search-field\n                    formControlName=\"user\"\n                    class=\"mb-4\"\n                ></a-user-search-field>\n            </div>\n            <div\n                class=\"flex flex-col flex-1 w-[640px] max-w-[calc(100%-2rem)] mx-auto\"\n                *ngIf=\"needs_reason\"\n            >\n                <label>Details</label>\n                <mat-form-field class=\"w-full\" appearance=\"outline\">\n                    <input\n                        matInput\n                        formControlName=\"description\"\n                        placeholder=\"Reason for booking...\"\n                    />\n                </mat-form-field>\n            </div>\n            <div\n                class=\"flex flex-col flex-1 w-[640px] max-w-[calc(100%-2rem)] mx-auto\"\n                *ngIf=\"(options | async)?.group\"\n            >\n                <label>Group Members</label>\n                <a-user-list-field\n                    [simple]=\"true\"\n                    [ngModel]=\"(options | async)?.members || []\"\n                    (ngModelChange)=\"setOptions({ members: $event })\"\n                    [ngModelOptions]=\"{ standalone: true }\"\n                ></a-user-list-field>\n            </div>\n            <div\n                class=\"flex flex-col sm:flex-row space-x-0 sm:space-x-2 w-[640px] max-w-[calc(100%-2rem)] mx-auto\"\n                *ngIf=\"can_recurr\"\n            >\n                <div class=\"flex flex-col flex-1 w-full sm:w-1/3\">\n                    <label>Recurrence Period</label>\n                    <mat-form-field appearance=\"outline\">\n                        <mat-select\n                            [ngModel]=\"(options | async)?.recurrence_pattern\"\n                            (ngModelChange)=\"setOptions({ pattern: $event })\"\n                            [ngModelOptions]=\"{ standalone: true }\"\n                            placeholder=\"None\"\n                        >\n                            <mat-option value=\"none\">None</mat-option>\n                            <mat-option\n                                *ngFor=\"let opt of recurrence_options\"\n                                [value]=\"opt\"\n                            >\n                                <span class=\"capitalize\">{{ opt }}</span>\n                            </mat-option>\n                        </mat-select>\n                    </mat-form-field>\n                </div>\n                <div class=\"flex flex-col flex-1 w-full sm:w-1/3\">\n                    <label>Recurrence End</label>\n                    <a-date-field\n                        [disabled]=\"\n                            !(options | async)?.pattern ||\n                            (options | async)?.pattern === 'none'\n                        \"\n                        [ngModel]=\"\n                            (options | async)?.recurr_end || form?.value?.date\n                        \"\n                        (ngModelChange)=\"\n                            setOptions({\n                                recurr_end: $event\n                            })\n                        \"\n                        [ngModelOptions]=\"{ standalone: true }\"\n                        [to]=\"book_until\"\n                    >\n                        Date and time must be in the future\n                    </a-date-field>\n                </div>\n            </div>\n            <div\n                class=\"flex flex-col flex-1 w-[640px] max-w-[calc(100%-2rem)] mx-auto\"\n                *ngIf=\"(features | async)?.length\"\n            >\n                <label>Desk Features</label>\n                <mat-form-field class=\"w-full\" appearance=\"outline\">\n                    <mat-select\n                        multiple\n                        [ngModel]=\"(options | async)?.features || []\"\n                        (ngModelChange)=\"\n                            setOptions({\n                                features: $event || []\n                            })\n                        \"\n                        [ngModelOptions]=\"{ standalone: true }\"\n                        placeholder=\"Any Feature\"\n                    >\n                        <mat-option\n                            *ngFor=\"let opt of features | async\"\n                            class=\"capitalize\"\n                            [value]=\"opt\"\n                        >\n                            {{ opt }}\n                        </mat-option>\n                    </mat-select>\n                </mat-form-field>\n            </div>\n            <div\n                class=\"flex flex-col flex-1 w-[640px] max-w-[calc(100%-2rem)] mx-auto mb-4\"\n                *ngIf=\"can_book_lockers\"\n            >\n                <mat-checkbox\n                    [ngModel]=\"!!form.value.secondary_resource\"\n                    (ngModelChange)=\"\n                        form.patchValue({\n                            secondary_resource: $event ? 'locker' : ''\n                        })\n                    \"\n                    [ngModelOptions]=\"{ standalone: true }\"\n                >\n                    Require locker\n                </mat-checkbox>\n            </div>\n        </form>\n    `,\n    styles: [``],\n})\nexport class DeskFlowDetailedFormComponent {\n    @Input() public form: FormGroup;\n    /** List of available buildings to select */\n    public readonly buildings = this._org.building_list;\n    /** List of available levels for the selected building */\n    public readonly levels = this._org.active_levels;\n    /** List of set options for desk booking */\n    public readonly options = this._state.options;\n    /** List of set options for desk booking */\n    public readonly features = this._state.features;\n\n    public readonly recurrence_options = ['daily', 'weekly', 'monthly'];\n\n    public get building() {\n        return this._org.building;\n    }\n    public set building(bld) {\n        this._org.building = bld;\n    }\n\n    public readonly setOptions = (o) => this._state.setOptions(o);\n\n    public get can_book_lockers() {\n        return this._settings.get('app.desks.can_book_lockers');\n    }\n\n    public get can_book_for_others() {\n        return this._settings.get('app.desks.can_book_for_others');\n    }\n\n    public get can_recurr() {\n        return this._settings.get('app.desks.recurrence_allowed');\n    }\n\n    public get allow_groups() {\n        return this._settings.get('app.desks.allow_groups');\n    }\n\n    public get needs_reason() {\n        return this._settings.get('app.desks.needs_reason') === true;\n    }\n\n    public get allow_time_changes() {\n        return !!this._settings.get('app.desks.allow_time_changes');\n    }\n\n    public get allow_all_day() {\n        return (\n            this.allow_time_changes &&\n            !!this._settings.get('app.desks.allow_all_day')\n        );\n    }\n\n    public get book_until() {\n        return endOfDay(\n            addDays(\n                Date.now(),\n                this._settings.get('app.desks.available_period') || 90\n            )\n        );\n    }\n\n    constructor(\n        private _state: BookingFormService,\n        private _org: OrganisationService,\n        private _settings: SettingsService\n    ) {}\n}\n","import { Component, OnInit } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { BookingFormService, findNearbyFeature } from '@placeos/bookings';\nimport {\n    currentUser,\n    getInvalidFields,\n    notifyError,\n    randomInt,\n    SettingsService,\n} from '@placeos/common';\nimport { OrganisationService } from '@placeos/organisation';\nimport { addDays, setHours, addMinutes, roundToNearestMinutes } from 'date-fns';\nimport { first, take } from 'rxjs/operators';\n\n@Component({\n    selector: 'desk-flow-form',\n    template: `\n        <section form class=\"flex-1 min-h-[50%]\">\n            <h2\n                class=\"text-xl uppercase font-medium mb-2 mt-4 w-[640px] max-w-[calc(100%-2rem)] mx-auto\"\n            >\n                {{ is_edit ? 'Edit' : 'Detailed' }} Desk Booking\n            </h2>\n            <detailed-book-desks-form [form]=\"form\"></detailed-book-desks-form>\n            <div class=\"mb-4 border-b border-base-200 w-full\"></div>\n            <div\n                class=\"flex flex-col sm:flex-row items-center justify-center space-x-0 space-y-2 sm:space-y-0 sm:space-x-2 w-[640px] max-w-[calc(100%-2rem)] mx-auto mb-4\"\n            >\n                <button\n                    class=\"sm:flex-1 w-full sm:w-auto h-[2.75rem] inverse\"\n                    btn\n                    matRipple\n                    clear\n                    (click)=\"clearForm()\"\n                >\n                    <div class=\"flex items-center justify-center\">\n                        <app-icon class=\"text-xl\">clear</app-icon>\n                        <span class=\"ml-2 mx-4\">{{\n                            is_edit ? 'Cancel Edit' : 'Clear Form'\n                        }}</span>\n                    </div>\n                </button>\n                <button\n                    class=\"sm:flex-1 w-full sm:w-auto h-[2.75rem]\"\n                    find\n                    btn\n                    matRipple\n                    *ngIf=\"!auto_allocation; else alloc_button\"\n                    (click)=\"findDesk()\"\n                >\n                    <div class=\"flex items-center justify-center\">\n                        <app-icon class=\"text-xl\">search</app-icon>\n                        <span class=\"ml-2 mx-4\">{{\n                            is_edit ? 'Update Desk' : 'Find Desk'\n                        }}</span>\n                    </div>\n                </button>\n            </div>\n        </section>\n        <ng-template #alloc_button>\n            <button\n                class=\"sm:flex-1 w-full sm:w-auto h-[2.75rem]\"\n                find\n                btn\n                matRipple\n                (click)=\"allocateDesk()\"\n            >\n                {{ is_edit ? 'Update Desk' : 'Book Desk' }}\n            </button>\n        </ng-template>\n    `,\n    styles: [\n        `\n            :host {\n                height: 100%;\n                width: 100%;\n                display: flex;\n                flex-direction: column;\n                overflow: auto;\n            }\n\n            [quick] {\n                background-color: #007ac8;\n            }\n        `,\n    ],\n})\nexport class DeskFlowFormComponent implements OnInit {\n    public time = 0;\n    public level = '';\n\n    public readonly quick_times = [\n        { name: 'Now', value: 0 },\n        {\n            name: 'Tomorrow',\n            value: setHours(addDays(new Date(), 1), 9).valueOf(),\n        },\n    ];\n\n    public levels = [];\n\n    public get is_edit() {\n        return !!this.form?.get('id')?.value;\n    }\n\n    public get auto_allocation() {\n        return !!this._settings.get('app.desks.auto_allocation');\n    }\n\n    public get form() {\n        return this._state.form;\n    }\n\n    public readonly clearForm = () => {\n        this.time = 0;\n        this.level = this._org.building.id;\n        this._state.clearForm();\n    };\n\n    constructor(\n        private _state: BookingFormService,\n        private _router: Router,\n        private _org: OrganisationService,\n        private _settings: SettingsService\n    ) {}\n\n    public async ngOnInit() {\n        await this._org.initialised.pipe(first((_) => _));\n        await this._org.active_levels.pipe(first((_) => _?.length > 0));\n        this.level = this._org.building?.id;\n        this.levels = [\n            { id: this._org.building?.id, name: 'Any Level' },\n            ...this._org.levelsForBuilding(this._org.building),\n        ];\n    }\n\n    public quickBook() {\n        this.form.patchValue({\n            date: (this.time < 24 * 60\n                ? addMinutes(\n                      roundToNearestMinutes(new Date(), { nearestTo: 5 }),\n                      this.time\n                  )\n                : setHours(addDays(new Date(), 1), 8)\n            ).valueOf(),\n            title: 'Ad-hoc Desk Booking',\n        });\n        this.findDesk();\n    }\n\n    public findDesk() {\n        this.form.markAllAsTouched();\n        this.form.patchValue({ asset_id: ' ' });\n        if (!this.form.valid) return;\n        this.form.patchValue({ asset_id: '' });\n        this._router.navigate(['/book', 'desks', 'map']);\n    }\n\n    public async allocateDesk() {\n        this.form.markAllAsTouched();\n        this.form.patchValue({ asset_id: ' ' });\n        if (!this.form.valid)\n            return notifyError(\n                `Some fields are invalid. [${getInvalidFields(this.form).join(\n                    ', '\n                )}]`\n            );\n        // Find nearby desk for user's department\n        const settings = this._settings.get('app.departments') || {\n            '*': {\n                level: this._org.levelsForBuilding()[0]?.id,\n                centered_at: { x: 0.5, y: 0.5 },\n            },\n        };\n        const group = currentUser().groups.find((_) => _ in settings) ?? '*';\n        if (!settings[group]) {\n            this._router.navigate(['/book', 'desks', 'map']);\n            return;\n        }\n        const { level, centered_at } = settings[group];\n        const lvl = this._org.levelWithID([level]);\n        if (!lvl) {\n            this._router.navigate(['/book', 'desks', 'map']);\n            return;\n        }\n        const desk_list = await this._state.available_resources\n            .pipe(take(1))\n            .toPromise();\n        const desk_id = level.map_id\n            ? await findNearbyFeature(\n                  lvl.map_id,\n                  centered_at,\n                  desk_list.map((_) => _?.map_id || _?.id || '')\n              )\n            : desk_list[randomInt(desk_list.length)].id;\n        const desk = desk_list.find(\n            (_) => _.map_id === desk_id || _.id === desk_id\n        );\n        if (!desk) {\n            this._router.navigate(['/book', 'desks', 'map']);\n            return;\n        }\n        this._state.form.patchValue({\n            asset_id: desk?.id,\n            asset_name: desk.name || desk.id,\n            map_id: desk?.map_id || desk?.id,\n            description: desk.name || desk.id,\n            booking_type: 'desk',\n            zones: desk.zone ? [desk.zone?.parent_id, desk.zone?.id] : [],\n        });\n        await this._state.confirmPost().catch((_) => console.error(_));\n    }\n}\n","import { Component, OnInit } from '@angular/core';\nimport { BookingFormService } from '@placeos/bookings';\nimport {\n    AsyncHandler,\n    formatRecurrence,\n    SettingsService,\n} from '@placeos/common';\nimport { ExploreStateService } from '@placeos/explore';\nimport { Desk } from '@placeos/organisation';\nimport { format } from 'date-fns';\nimport { BehaviorSubject, combineLatest, of } from 'rxjs';\nimport { debounceTime, map, startWith } from 'rxjs/operators';\n\n@Component({\n    selector: 'desk-flow-map',\n    template: `\n        <div topbar class=\"\">\n            <a\n                class=\"clear h-[2.75rem] text-white\"\n                btn\n                matRipple\n                [routerLink]=\"['/book', 'desks', 'form']\"\n            >\n                <div class=\"flex items-center justify-center h-full\">\n                    <app-icon class=\"text-xl\">arrow_back</app-icon>\n                    <span class=\"ml-2 mx-4\">Back</span>\n                </div>\n            </a>\n        </div>\n        <div class=\"flex flex-col flex-1 h-1/2 w-full \">\n            <h2 class=\"text-2xl px-4 pt-4 text-center\">Available Desks</h2>\n            <an-action-field\n                class=\"my-4 mx-auto w-[640px] max-w-[calc(100vw-2rem)]\"\n                [matMenuTriggerFor]=\"menu\"\n            >\n                {{ (option_details | async) || 'No Filters' }}\n            </an-action-field>\n            <mat-menu #menu=\"matMenu\">\n                <div\n                    (click)=\"$event.stopPropagation(); ($event.preventDefault)\"\n                    class=\"pt-4 max-h-[65vh] overflow-auto\"\n                >\n                    <detailed-book-desks-form\n                        [form]=\"form\"\n                    ></detailed-book-desks-form>\n                </div>\n            </mat-menu>\n            <div listing class=\"flex flex-1 h-1/2 relative space-x-2\">\n                <ul\n                    class=\"list-style-none w-full sm:w-[20rem] max-w-[48rem] mx-auto bg-base-200 pb-32 overflow-auto h-full rounded-tr-lg space-y-2\"\n                    [class.!w-full]=\"hide_map\"\n                    [class.rounded-tl-lg]=\"hide_map\"\n                >\n                    <div\n                        class=\"py-2 px-4 sticky top-0 inset-x-0 bg-base-200 border-b border-base-200 z-10\"\n                    >\n                        {{ (desks | async)?.length || '0' }} matches available\n                    </div>\n                    <li\n                        matRipple\n                        *ngFor=\"let desk of desks | async\"\n                        [attr.desk-id]=\"desk.id\"\n                        class=\"flex items-center p-2 mx-2 bg-base-100 rounded shadow cursor-pointer space-x-2 min-h-[5rem] border\"\n                        [class.border-primary]=\"active_desk?.id === desk.id\"\n                        (click)=\"setActiveDesk(desk)\"\n                    >\n                        <app-icon class=\"text-2xl\">place</app-icon>\n                        <div class=\"flex flex-col w-1/2 flex-1\">\n                            <div name class=\"\">{{ desk.name || desk.id }}</div>\n                            <div level class=\"text-xs\">\n                                {{\n                                    desk.zone?.display_name ||\n                                        desk.zone?.name ||\n                                        '&lt;No Level&gt;'\n                                }}\n                            </div>\n                            <div features class=\"w-full flex flex-wrap\">\n                                <div\n                                    *ngFor=\"let feat of desk.features || []\"\n                                    class=\"text-xs bg-primary text-white rounded-xl px-2 py-1 mt-1 mr-2\"\n                                >\n                                    {{ feat }}\n                                </div>\n                            </div>\n                        </div>\n                    </li>\n                </ul>\n                <div\n                    class=\"hidden sm:block flex-1 bg-base-200 rounded-tl-lg border-l border-t border-base-200 relative overflow-hidden h-full\"\n                    *ngIf=\"!hide_map\"\n                >\n                    <interactive-map\n                        [src]=\"url | async\"\n                        [zoom]=\"(positions | async)?.zoom\"\n                        [center]=\"(positions | async)?.center\"\n                        [styles]=\"styles | async\"\n                        [features]=\"features | async\"\n                        [actions]=\"actions | async\"\n                        [labels]=\"labels | async\"\n                        [focus]=\"active_desk?.map_id || active_desk?.id\"\n                    ></interactive-map>\n                    <div\n                        class=\"absolute top-2 left-2 bg-base-100 rounded-3xl h-10 px-3 flex items-center border border-base-200\"\n                        *ngIf=\"level | async\"\n                    >\n                        {{\n                            (level | async)?.display_name ||\n                                (level | async)?.name\n                        }}\n                    </div>\n                </div>\n                <div\n                    *ngIf=\"loading | async\"\n                    class=\"absolute inset-0 bg-base-100 bg-opacity-60 flex flex-col items-center justify-center space-y-2 !m-0 z-20\"\n                >\n                    <mat-spinner [diameter]=\"32\"></mat-spinner>\n                    <p>{{ loading | async }}</p>\n                </div>\n                <div\n                    selection\n                    class=\"absolute bottom-2 left-1/2 transform -translate-x-1/2 p-2 bg-base-100 shadow rounded w-[24rem] max-w-[calc(100vw-1rem)] space-y-2 !m-0 border border-base-200\"\n                    *ngIf=\"active_desk\"\n                >\n                    <div class=\"\">\n                        <div name class=\"\">{{ active_desk.name }}</div>\n                        <div level class=\"text-xs\">\n                            {{\n                                active_desk.zone?.display_name ||\n                                    active_desk.zone.name ||\n                                    '&lt;No Level&gt;'\n                            }}\n                        </div>\n                    </div>\n                    <div class=\"flex items-center space-x-2\">\n                        <button\n                            matRipple\n                            class=\"inverse flex-1\"\n                            (click)=\"setActiveDesk(null)\"\n                        >\n                            Clear\n                        </button>\n                        <button\n                            matRipple\n                            class=\"flex-1\"\n                            (click)=\"makeBooking()\"\n                        >\n                            Book\n                        </button>\n                    </div>\n                </div>\n            </div>\n        </div>\n    `,\n    styles: [\n        `\n            :host {\n                height: 100%;\n                width: 100%;\n                display: flex;\n                flex-direction: column;\n            }\n\n            [topbar] {\n                background-color: #00539f;\n            }\n        `,\n    ],\n})\nexport class DeskFlowMapComponent extends AsyncHandler implements OnInit {\n    /** Observable for the active map */\n    public readonly url = this._explore.map_url;\n    /** Observable for the active map */\n    public readonly styles = this._explore.map_styles;\n    /** Observable for the active map */\n    public readonly positions = this._explore.map_positions;\n    /** Observable for the active map */\n    public readonly features = this._explore.map_features;\n    /** Observable for the active map */\n    public readonly actions = this._explore.map_actions;\n    /** Observable for the labels map */\n    public readonly labels = this._explore.map_labels;\n    public readonly level = this._explore.level;\n\n    public readonly desks = this._state.available_resources;\n\n    public readonly loading = this._state.loading;\n\n    public readonly form = this._state.form;\n\n    public readonly option_details = combineLatest([\n        this._state.options,\n        this.form.valueChanges.pipe(startWith({})),\n    ]).pipe(\n        map(([options]) => {\n            const form = this._state.form;\n            const recurrence = formatRecurrence({\n                pattern: options.pattern as any,\n                end: options.recurr_end,\n                start: form.value.date,\n                interval: 1,\n                days_of_week: [],\n            });\n            const details = `${format(form.value.date, 'dd MMM yyyy')}${\n                options.pattern && options.pattern !== 'none'\n                    ? ', ' + recurrence\n                    : ''\n            }${options.group ? ', ' + options.group : ''}, ${\n                options.features?.length || 'Any'\n            } Feature${(options.features?.length || 0) < 2 ? '' : 's'}`;\n            if (options.zone_id) this._explore.setLevel(options.zone_id);\n            return details;\n        })\n    );\n\n    private _active_desk = new BehaviorSubject<Desk>(null);\n\n    public readonly makeBooking = () => this._state.confirmPost();\n\n    public get active_desk(): Desk {\n        return this._active_desk.getValue();\n    }\n\n    public get hide_map() {\n        return !!this._settings.get('app.desks.hide_map');\n    }\n\n    constructor(\n        private _state: BookingFormService,\n        private _settings: SettingsService,\n        private _explore: ExploreStateService\n    ) {\n        super();\n    }\n\n    public ngOnInit() {\n        this.subscription(\n            'assets-statue',\n            combineLatest([\n                this._state.resources,\n                this._state.available_resources,\n                this._active_desk,\n            ])\n                .pipe(debounceTime(200))\n                .subscribe(([assets, available]) => {\n                    const status = {};\n                    const actions = [];\n                    for (const desk of assets) {\n                        const active =\n                            desk.bookable &&\n                            available.find((d) => d.id === desk.id);\n                        status[`#${desk.map_id || desk.id}`] = {\n                            fill: desk.bookable\n                                ? available.find((d) => d.id === desk.id)\n                                    ? '#43a047'\n                                    : '#e53935'\n                                : '#999',\n                            opacity: 0.6,\n                        };\n                        if (active)\n                            actions.push({\n                                id: desk.map_id || desk.id,\n                                action: 'click',\n                                callback: () => this.setActiveDesk(desk as any),\n                            });\n                    }\n                    this._explore.setStyles('desks', status);\n                    this._explore.setActions('desks', actions);\n                    this._explore.setFeatures(\n                        'desks',\n                        this.active_desk\n                            ? [\n                                  {\n                                      location:\n                                          this.active_desk.map_id ||\n                                          this.active_desk.id,\n                                      content: `\n                    <span class=\"flex h-4 w-4 rounded-full absolute top-1/4 left-1/4 transform -translate-x-1/2 -translate-y-1/2 border-[3px] border-whiteå00 shadow\" >\n                        <span class=\"animate-ping absolute inline-flex h-full w-full rounded-full bg-primary opacity-75\"></span>\n                        <span class=\"relative inline-flex rounded-full h-full w-full bg-primary\"></span>\n                    </span>`,\n                                  },\n                              ]\n                            : []\n                    );\n                })\n        );\n    }\n\n    public setActiveDesk(desk: Desk) {\n        this._explore.setLevel(desk?.zone?.id);\n        this._active_desk.next(desk);\n        this._state.form.patchValue({\n            asset_id: desk?.id,\n            asset_name: desk.name,\n            map_id: desk?.map_id || desk?.id,\n            description: desk.name,\n            booking_type: 'desk',\n            zones: desk.zone ? [desk.zone?.parent_id, desk.zone?.id] : [],\n        });\n    }\n}\n","import { Component, Input } from '@angular/core';\nimport { currentUser } from '@placeos/common';\n\n@Component({\n    selector: 'flow-success',\n    template: `\n        <div\n            name=\"success\"\n            class=\"fixed inset-0 flex flex-col bg-indigo-900 items-center justify-center z-50\"\n        >\n            <div class=\"text-7xl rounded-full bg-base-100 text-success mb-4\">\n                <app-icon>done</app-icon>\n            </div>\n            <div class=\"text-center text-lg text-white mb-4 leading-10\">\n                Thank you, your {{ type }} booking was successful!<br />\n                {{ extra }} <br *ngIf=\"extra\" />\n                An event has been added to {{ title }} calendar\n            </div>\n            <div class=\"flex items-center space-x-2\">\n                <a\n                    btn\n                    matRipple\n                    class=\"w-32 border border-white\"\n                    [routerLink]=\"['/book', route]\"\n                    [queryParams]=\"{}\"\n                >\n                    New Booking\n                </a>\n                <a\n                    btn\n                    matRipple\n                    class=\"w-32 border border-white\"\n                    [routerLink]=\"['/schedule']\"\n                    [queryParams]=\"{ email: calendar }\"\n                >\n                    Your Bookings\n                </a>\n            </div>\n        </div>\n    `,\n    styles: [``],\n})\nexport class FlowSuccessComponent {\n    @Input() public calendar: string;\n    @Input() public extra = '';\n    @Input() public route = 'spaces';\n    @Input() public type = 'space';\n\n    public get is_host(): boolean {\n        return this.calendar === currentUser()?.email;\n    }\n\n    public get title() {\n        return this.is_host ? 'your' : \"the host'\";\n    }\n}\n","import { Component, OnInit } from '@angular/core';\nimport { ActivatedRoute } from '@angular/router';\nimport { AsyncHandler } from '@placeos/common';\nimport { EventFormService } from '@placeos/events';\n\n@Component({\n    selector: 'placeos-book-locker-flow',\n    template: `\n        <div class=\"bg-base-100 h-full w-full z-50\" [ngSwitch]=\"view\">\n            <locker-flow-success *ngSwitchCase=\"'success'\">\n            </locker-flow-success>\n            <locker-flow-confirm *ngSwitchCase=\"'confirm'\">\n            </locker-flow-confirm>\n            <locker-flow-form *ngSwitchDefault></locker-flow-form>\n        </div>\n    `,\n    styles: [\n        `\n            :host {\n                height: 100%;\n                width: 100%;\n            }\n        `,\n    ],\n})\nexport class BookLockerFlowComponent extends AsyncHandler implements OnInit {\n    public get view() {\n        return this._state.view;\n    }\n    public get last_success() {\n        return this._state.last_success;\n    }\n\n    constructor(\n        private _state: EventFormService,\n        private _route: ActivatedRoute\n    ) {\n        super();\n    }\n\n    public ngOnInit() {\n        this._state.loadForm();\n        this._state.listenForStatusChanges();\n        this.subscription(\n            'route.params',\n            this._route.paramMap.subscribe((param) => {\n                if (param.has('step'))\n                    this._state.setView(param.get('step') as any);\n            })\n        );\n        this.subscription(\n            'route.query',\n            this._route.queryParamMap.subscribe((param) => {\n                if (param.has('success')) this._state.setView('success');\n            })\n        );\n    }\n}\n","import { Component, Input, Optional } from '@angular/core';\nimport { MatBottomSheetRef } from '@angular/material/bottom-sheet';\nimport { BookingAsset, BookingFormService } from '@placeos/bookings';\nimport { AsyncHandler, SettingsService, notifyError } from '@placeos/common';\nimport { OrganisationService } from '@placeos/organisation';\nimport { take } from 'rxjs/operators';\n\n@Component({\n    selector: 'locker-flow-confirm',\n    styles: [\n        `\n            section > app-icon {\n                font-size: 1.5rem;\n                margin-top: 0.3rem;\n            }\n\n            h3 {\n                font-size: 1.25rem;\n                font-weight: medium;\n                margin: 0.5rem 0;\n            }\n        `,\n    ],\n    template: `\n        <button\n            icon\n            name=\"close-locker-confirm\"\n            matRipple\n            *ngIf=\"show_close\"\n            (click)=\"dismiss()\"\n        >\n            <app-icon>close</app-icon>\n        </button>\n        <header class=\"flex items-center justify-between px-2\">\n            <h2 class=\"text-2xl font-medium mb-2\" i18n>\n                Confirm Locker Booking\n            </h2>\n            <mat-spinner diameter=\"32\" *ngIf=\"loading | async\"></mat-spinner>\n        </header>\n        <section period class=\"flex space-x-1 py-4 px-2\">\n            <app-icon class=\"text-success\">done</app-icon>\n            <div details class=\"leading-6\">\n                <h3>{{ booking.title || '~Untitled~' }}</h3>\n                <div class=\"flex items-center space-x-2\">\n                    <app-icon>calendar_today</app-icon>\n                    <div date>{{ booking.date | date: 'fullDate' }}</div>\n                </div>\n                <div class=\"flex items-center space-x-2\">\n                    <app-icon>schedule</app-icon>\n                    <div time>\n                        {{\n                            booking.all_day\n                                ? 'All Day'\n                                : (booking.date | date: time_format) +\n                                  ' - ' +\n                                  (booking.date + booking.duration * 60 * 1000\n                                      | date: time_format + ' (z)')\n                        }}\n                    </div>\n                </div>\n            </div>\n        </section>\n        <section\n            locker\n            class=\"flex space-x-1 py-4 px-2 border-t\"\n            *ngIf=\"booking_asset?.id\"\n        >\n            <app-icon class=\"text-success\">done</app-icon>\n            <div details class=\"leading-6\">\n                <h3 name>\n                    {{ booking_asset?.name || booking_asset?.id || '' }}\n                </h3>\n                <div class=\"flex items-center space-x-2\">\n                    <app-icon>place</app-icon>\n                    <div>{{ location }}</div>\n                </div>\n                <ng-container *ngFor=\"let feat of booking_asset.features\">\n                    <div features class=\"flex items-center space-x-2\">\n                        <app-icon>arrow_upward</app-icon>\n                        <div>{{ feat }}</div>\n                    </div>\n                </ng-container>\n            </div>\n        </section>\n        <section\n            assets\n            class=\"flex space-x-1 py-4 px-2 border-t\"\n            *ngIf=\"assets?.length\"\n        >\n            <app-icon class=\"text-success\">done</app-icon>\n            <div details class=\"leading-6\">\n                <h3 i18n>{{ assets_count }} Asset(s)</h3>\n                <div class=\"flex space-x-2\" *ngFor=\"let asset of assets\">\n                    <div class=\"h-5 w-5 bg-base-200 rounded-full\">\n                        {{ asset.amount }}\n                    </div>\n                    <span>{{ asset.name }}</span>\n                </div>\n            </div>\n        </section>\n        <footer class=\"p-2 w-full border-t border-base-200 mt-4\">\n            <button\n                name=\"confirm-locker\"\n                btn\n                matRipple\n                class=\"w-full\"\n                *ngIf=\"!(loading | async)\"\n                (click)=\"postForm()\"\n                i18n\n            >\n                Confirm\n            </button>\n        </footer>\n    `,\n})\nexport class BookLockerFlowConfirmComponent extends AsyncHandler {\n    @Input() public show_close: boolean = false;\n\n    public readonly loading = this._state.loading;\n\n    public readonly postForm = async () => {\n        try {\n            if ((await this._state.options.pipe(take(1)).toPromise())?.group) {\n                await this._state.postFormForGroup();\n            } else {\n                await this._state.postForm();\n            }\n            this.dismiss(true);\n        } catch (e) {\n            notifyError(e);\n        }\n    };\n    public readonly dismiss = (e?) => this._sheet_ref?.dismiss(e);\n\n    public get time_format() {\n        return this._settings.time_format;\n    }\n\n    public get booking() {\n        return this._state.form.value as any;\n    }\n\n    public get assets() {\n        return this.booking.assets || null;\n    }\n\n    public get assets_count() {\n        return this.assets?.length\n            ? this.assets.reduce((a, b) => a + b.amount, 0)\n            : 0;\n    }\n\n    public get booking_asset() {\n        return this.booking.booking_asset as BookingAsset;\n    }\n\n    public get location() {\n        const building = this._org.buildings.find(\n            (b) => b.id === this.booking_asset?.zone?.parent_id\n        );\n        const level = this._org.levels.find(\n            (l) => l.id === this.booking_asset?.zone?.id\n        );\n        return `${level?.display_name || level?.name}${building ? ',' : ''} ${\n            building?.address || building?.display_name || building?.name || ''\n        }`;\n    }\n\n    constructor(\n        private _state: BookingFormService,\n        private _org: OrganisationService,\n        @Optional() private _sheet_ref: MatBottomSheetRef,\n        private _settings: SettingsService\n    ) {\n        super();\n    }\n}\n","import { Component, OnInit } from '@angular/core';\nimport {\n    MatBottomSheet,\n    MatBottomSheetRef,\n} from '@angular/material/bottom-sheet';\nimport { Router } from '@angular/router';\nimport { BookingFormService } from '@placeos/bookings';\nimport {\n    getInvalidFields,\n    notifyError,\n    SettingsService,\n} from '@placeos/common';\nimport { OrganisationService } from '@placeos/organisation';\nimport { isBefore, startOfMinute } from 'date-fns';\nimport { first } from 'rxjs/operators';\nimport { BookLockerFlowConfirmComponent } from './locker-flow-confirm.component';\n\n@Component({\n    selector: 'locker-flow-form',\n    styles: [],\n    template: `\n        <div class=\"h-full w-full bg-base-200 overflow-auto\">\n            <div\n                class=\"max-w-full w-[48rem] mx-auto sm:my-4 bg-base-100 border border-base-200\"\n            >\n                <h2\n                    class=\"w-full p-4 sm:py-4 sm:px-16 text-2xl font-medium border-b border-base-200\"\n                    i18n\n                >\n                    Book Locker\n                </h2>\n                <new-locker-form-details\n                    [form]=\"form\"\n                ></new-locker-form-details>\n                <div class=\"sm:mb-2 border-b border-base-200 w-full\"></div>\n                <section\n                    class=\"flex flex-col sm:flex-row items-center sm:space-x-2 p-2 sm:px-16 sm:mb-2\"\n                >\n                    <button\n                        btn\n                        name=\"open-locker-confirm\"\n                        matRipple\n                        confirm\n                        class=\"w-full sm:w-auto\"\n                        (click)=\"viewConfirm()\"\n                        i18n\n                    >\n                        Confirm Locker\n                    </button>\n                </section>\n            </div>\n        </div>\n    `,\n})\nexport class BookLockerFlowFormComponent implements OnInit {\n    public sheet_ref: MatBottomSheetRef<any>;\n    public level = '';\n    public levels = [];\n\n    public get form() {\n        return this._state.form;\n    }\n\n    public readonly clearForm = () => {\n        this.level = this._org.building.id;\n        this._state.clearForm();\n    };\n\n    public readonly viewConfirm = () => {\n        if (!this.form.valid)\n            return notifyError(\n                `Some fields are invalid. [${getInvalidFields(this.form).join(\n                    ', '\n                )}]`\n            );\n        this.sheet_ref = this._bottom_sheet.open(\n            BookLockerFlowConfirmComponent\n        );\n        this.sheet_ref.instance.show_close = true;\n        this.sheet_ref.afterDismissed().subscribe((value) => {\n            if (value) {\n                this._router.navigate(['/book', 'locker', 'success']);\n                this._state.setView('success');\n            }\n        });\n    };\n\n    constructor(\n        private _state: BookingFormService,\n        private _router: Router,\n        private _org: OrganisationService,\n        private _bottom_sheet: MatBottomSheet,\n        private _settings: SettingsService\n    ) {}\n\n    public async ngOnInit() {\n        await this._org.initialised.pipe(first((_) => _));\n        await this._org.active_levels.pipe(first((_) => _?.length > 0));\n        this._state.setOptions({ type: 'locker' });\n        this.level = this._org.building?.id;\n        this.levels = [\n            { id: this._org.building?.id, name: 'Any Level' },\n            ...this._org.levelsForBuilding(this._org.building),\n        ];\n        if (isBefore(this.form.value.date, Date.now())) {\n            this.form.patchValue({ date: startOfMinute(Date.now()).valueOf() });\n        }\n    }\n}\n","import { Component } from '@angular/core';\nimport { BookingFormService } from '@placeos/bookings';\nimport { SettingsService } from '@placeos/common';\nimport {\n    generateCalendarFileLink,\n    generateGoogleCalendarLink,\n    generateMicrosoftCalendarLink,\n} from 'libs/common/src/lib/calendar-links';\n\n@Component({\n    selector: 'locker-flow-success',\n    styles: [],\n    template: `\n        <div\n            class=\"absolute inset-0 bg-base-100 flex flex-col z-50 overflow-auto\"\n        >\n            <main\n                class=\"flex-1 flex flex-col items-center justify-center space-y-2 p-8\"\n            >\n                <h2 class=\"text-2xl font-medium text-center\" i18n>\n                    {{ last_event.asset_name || last_event.asset_id\n                    }}{{ location }} Booked!\n                </h2>\n                <img src=\"assets/icons/locker-success.svg\" />\n                <p class=\"text-center\" i18n>\n                    Your\n                    <span group *ngIf=\"last_event?.attendees?.length\">\n                        group of\n                        {{ last_event?.attendees?.length + 1 }}\n                    </span>\n                    locker{{ last_event?.attendees?.length ? 's' : '' }} has\n                    been successfully booked\n                    <span\n                        assets\n                        *ngIf=\"last_event?.extension_data?.assets?.length\"\n                    >\n                        including\n                        {{ last_event?.extension_data?.assets?.length }}\n                        asset(s)\n                    </span>\n                    for the\n                    {{ last_event.date | date: 'mediumDate' }} at\n                    {{ last_event.date | date: time_format }}-{{\n                        last_event.date + last_event.duration * 60 * 1000\n                            | date: time_format\n                    }}.\n                </p>\n                <div\n                    class=\"flex flex-col items-center space-y-4 p-4 relative\"\n                    *ngIf=\"show_links\"\n                >\n                    <a\n                        btn\n                        matRipple\n                        name=\"locker-outlook-link\"\n                        class=\"flex items-center p-2 space-x-2 pr-4 w-64 rounded inverse\"\n                        [href]=\"outlook_link | sanitize: 'url'\"\n                        target=\"_blank\"\n                        rel=\"noopener noreferer\"\n                    >\n                        <img src=\"assets/icons/outlook.svg\" class=\"w-6\" />\n                        <span i18n>Add to Outlook</span>\n                    </a>\n                    <a\n                        btn\n                        matRipple\n                        name=\"locker-google-link\"\n                        class=\"flex items-center p-2 space-x-2 pr-4 w-64 rounded inverse\"\n                        [href]=\"google_link | sanitize: 'url'\"\n                        target=\"_blank\"\n                        rel=\"noopener noreferer\"\n                    >\n                        <img src=\"assets/icons/gcal.svg\" class=\"w-6\" />\n                        <span i18n>Add to Google Calendar</span>\n                    </a>\n                    <a\n                        btn\n                        matRipple\n                        name=\"locker-ical-link\"\n                        class=\"flex items-center p-2 space-x-2 pr-4 w-64 rounded inverse\"\n                        [href]=\"ical_link | safe: 'url'\"\n                        target=\"_blank\"\n                        rel=\"noopener noreferer\"\n                    >\n                        <app-icon class=\"text-xl\">download</app-icon>\n                        <span i18n>Download iCal File</span>\n                    </a>\n                </div>\n            </main>\n            <footer\n                class=\"sticky bottom-0 bg-base-100 p-2 w-full border-t border-base-200 mt-4 flex items-center justify-center\"\n            >\n                <a\n                    btn\n                    name=\"locker-confirm-continue\"\n                    matRipple\n                    class=\"w-full max-w-[32rem] mx-auto\"\n                    [routerLink]=\"['/']\"\n                    i18n\n                >\n                    Great, thanks!\n                </a>\n            </footer>\n        </div>\n    `,\n})\nexport class BookLockerFlowSuccessComponent {\n    public outlook_link = '';\n    public google_link = '';\n    public ical_link = '';\n    public get location() {\n        const locker = this.last_event?.extension_data?.booking_asset;\n        if (!locker) return '';\n        return locker.zone\n            ? `, ${\n                  locker.zone.display_name || locker.zone.name || locker.zone.id\n              }`\n            : '';\n    }\n\n    public get last_event() {\n        return this._state.last_success;\n    }\n\n    public get show_links() {\n        return this._settings.get('app.lockers.show_calendar_links');\n    }\n\n    public get time_format() {\n        return this._settings.time_format;\n    }\n\n    public readonly viewCalendarLinks = () =>\n        this._state.openBookingLinkModal();\n\n    constructor(\n        private _state: BookingFormService,\n        private _settings: SettingsService\n    ) {}\n\n    public ngOnInit() {\n        this.outlook_link = generateMicrosoftCalendarLink(\n            this.last_event as any\n        );\n        this.google_link = generateGoogleCalendarLink(this.last_event as any);\n        this.ical_link = generateCalendarFileLink(this.last_event as any);\n    }\n}\n","import {\n    Component,\n    EventEmitter,\n    Input,\n    Output,\n    SimpleChanges,\n} from '@angular/core';\nimport { FormGroup } from '@angular/forms';\nimport { BookingFormService, Locker } from '@placeos/bookings';\nimport { AsyncHandler, SettingsService } from '@placeos/common';\nimport { OrganisationService } from '@placeos/organisation';\n\n@Component({\n    selector: 'new-locker-form-details',\n    styles: [],\n    template: `\n        <div\n            class=\"p-0 sm:py-4 sm:px-16 divide-y divide-base-200 space-y-2\"\n            *ngIf=\"form\"\n            [formGroup]=\"form\"\n        >\n            <section class=\"p-2\" [class.!border-none]=\"allow_groups\">\n                <h3 class=\"space-x-2 flex items-center mb-4\">\n                    <div\n                        class=\"bg-base-200 rounded-full h-6 w-6 flex items-center justify-center\"\n                    >\n                        1\n                    </div>\n                    <div class=\"text-xl\" i18n>Details</div>\n                </h3>\n                <div class=\"flex items-center flex-wrap sm:space-x-2\">\n                    <div class=\"flex-1 min-w-[256px]\">\n                        <label for=\"date\" i18n>Building<span>*</span></label>\n                        <mat-form-field appearance=\"outline\" class=\"w-full\">\n                            <mat-select\n                                [(ngModel)]=\"building\"\n                                [ngModelOptions]=\"{ standalone: true }\"\n                                placeholder=\"Select Building\"\n                            >\n                                <mat-option\n                                    *ngFor=\"let b of buildings | async\"\n                                    [value]=\"b\"\n                                >\n                                    {{ b.display_name || b.name }}\n                                </mat-option>\n                            </mat-select>\n                        </mat-form-field>\n                    </div>\n                    <div class=\"flex-1 min-w-[256px]\">\n                        <label for=\"date\" i18n>Date<span>*</span></label>\n                        <a-date-field name=\"date\" formControlName=\"date\" i18n>\n                            Date and time must be in the future\n                        </a-date-field>\n                    </div>\n                </div>\n                <div class=\"flex items-center space-x-2\">\n                    <div class=\"flex-1 w-1/3\">\n                        <label for=\"start-time\" i18n>\n                            Start Time<span>*</span>\n                        </label>\n                        <a-time-field\n                            name=\"start-time\"\n                            [ngModel]=\"form.value.date\"\n                            (ngModelChange)=\"form.patchValue({ date: $event })\"\n                            [ngModelOptions]=\"{ standalone: true }\"\n                            [use_24hr]=\"use_24hr\"\n                            [disabled]=\"form.value.duration > 24 * 60 - 1\"\n                        ></a-time-field>\n                    </div>\n                    <div class=\"flex-1 w-1/3 relative\">\n                        <label for=\"end-time\" i18n>\n                            End Time<span>*</span>\n                        </label>\n                        <a-duration-field\n                            name=\"end-time\"\n                            formControlName=\"duration\"\n                            [time]=\"form.get('date')?.value\"\n                            [max]=\"10 * 60\"\n                            [min]=\"60\"\n                            [step]=\"60\"\n                            [use_24hr]=\"use_24hr\"\n                            [custom_options]=\"custom_durations\"\n                        >\n                        </a-duration-field>\n                    </div>\n                </div>\n            </section>\n            <section class=\"p-2\" *ngIf=\"form.contains('resources')\">\n                <h3 class=\"space-x-2 flex items-center mb-4\">\n                    <div\n                        class=\"bg-base-200 rounded-full h-6 w-6 flex items-center justify-center\"\n                    >\n                        {{ (options | async)?.group ? 3 : 2 }}\n                    </div>\n                    <div class=\"text-xl\" i18n>Locker</div>\n                </h3>\n                <locker-list-field\n                    formControlName=\"resources\"\n                ></locker-list-field>\n            </section>\n        </div>\n    `,\n})\nexport class LockerFormDetailsComponent extends AsyncHandler {\n    @Input() public form: FormGroup;\n    @Output() public find = new EventEmitter<void>();\n    /** List of available buildings to select */\n    public readonly buildings = this._org.building_list;\n    /** List of available levels for the selected building */\n    public readonly levels = this._org.active_levels;\n    /** List of set options for locker booking */\n    public readonly options = this._state.options;\n    /** List of set options for locker booking */\n    public readonly features = this._state.features;\n\n    /** Selected locker for booking */\n    public selected_locker: Locker;\n    public from_id = false;\n    public custom_durations = [];\n\n    public readonly recurrence_options = ['daily', 'weekly', 'monthly'];\n\n    public get building() {\n        return this._org.building;\n    }\n    public set building(bld) {\n        this._org.building = bld;\n    }\n\n    public get use_24hr() {\n        return this._settings.get('app.use_24_hour_time');\n    }\n\n    public readonly setOptions = (o) => this._state.setOptions(o);\n\n    public readonly setFeature = (f, e) => this._state.setFeature(f, e);\n\n    constructor(\n        private _state: BookingFormService,\n        private _org: OrganisationService,\n        private _settings: SettingsService\n    ) {\n        super();\n    }\n\n    public ngOnChanges(changes: SimpleChanges) {\n        if (changes.form && this.form) {\n            this.subscription(\n                'change',\n                this.form\n                    .get('resources')\n                    ?.valueChanges?.subscribe((list) =>\n                        list?.length ? this.setBookingAsset(list[0]) : ''\n                    )\n            );\n            this.subscription(\n                'date',\n                this.form\n                    .get('date')\n                    ?.valueChanges?.subscribe((d) =>\n                        this._setCustomDateOptions()\n                    )\n            );\n            this._setCustomDateOptions();\n        }\n    }\n\n    private _setCustomDateOptions() {\n        for (const i of [1, 2, 3, 4, 5, 6, 7]) {\n            this.custom_durations.push(i * 24 * 60);\n        }\n    }\n\n    private setBookingAsset(locker: Locker) {\n        this._state.form.patchValue({ asset_id: undefined });\n        if (!locker) return;\n        this.selected_locker = locker;\n        this._state.form.patchValue({\n            asset_id: locker?.id,\n            asset_name: locker.name,\n            map_id: locker?.bank_id || locker?.id,\n            description: locker.name,\n            booking_type: 'locker',\n            zones: [this.building.id],\n            booking_asset: locker,\n        });\n    }\n}\n","import { Component, OnInit } from '@angular/core';\nimport { ActivatedRoute } from '@angular/router';\nimport { AsyncHandler } from '@placeos/common';\nimport { EventFormService } from '@placeos/events';\n\n@Component({\n    selector: 'placeos-book-meeting-flow',\n    template: `\n        <div class=\"bg-base-100 h-full w-full z-50\" [ngSwitch]=\"view\">\n            <meeting-flow-success *ngSwitchCase=\"'success'\">\n            </meeting-flow-success>\n            <meeting-flow-confirm *ngSwitchCase=\"'confirm'\">\n            </meeting-flow-confirm>\n            <meeting-flow-form *ngSwitchDefault></meeting-flow-form>\n        </div>\n    `,\n    styles: [\n        `\n            :host {\n                height: 100%;\n                width: 100%;\n            }\n        `,\n    ],\n})\nexport class BookMeetingFlowComponent extends AsyncHandler implements OnInit {\n    public get view() {\n        return this._state.view;\n    }\n    public get last_success() {\n        return this._state.last_success;\n    }\n\n    constructor(\n        private _state: EventFormService,\n        private _route: ActivatedRoute\n    ) {\n        super();\n    }\n\n    public ngOnInit() {\n        this._state.loadForm();\n        this._state.listenForStatusChanges();\n        this.subscription(\n            'route.params',\n            this._route.paramMap.subscribe((param) => {\n                if (param.has('step'))\n                    this._state.setView(param.get('step') as any);\n            })\n        );\n        this.subscription(\n            'route.query',\n            this._route.queryParamMap.subscribe((param) => {\n                if (param.has('success')) this._state.setView('success');\n            })\n        );\n    }\n}\n","import { Component, Input, Optional } from '@angular/core';\nimport { MatDialog, MatDialogRef } from '@angular/material/dialog';\nimport { validateAssetRequestsForResource } from '@placeos/assets';\nimport { CateringItem, CateringOrder } from '@placeos/catering';\nimport {\n    AsyncHandler,\n    SettingsService,\n    notifyError,\n    openConfirmModal,\n} from '@placeos/common';\nimport { EventFormService, formatRecurrence } from '@placeos/events';\nimport { OrganisationService } from '@placeos/organisation';\nimport { Space } from '@placeos/spaces';\nimport { addMinutes, endOfDay, startOfDay } from 'date-fns';\nimport { AssetRequest } from 'libs/assets/src/lib/asset-request.class';\nimport { SpacePipe } from 'libs/spaces/src/lib/space.pipe';\nimport { BehaviorSubject, combineLatest } from 'rxjs';\nimport { map } from 'rxjs/operators';\n\n@Component({\n    selector: 'meeting-flow-confirm-modal',\n    template: `\n        <div\n            header\n            class=\"p-4 flex items-center justify-center border-b border-base-200 relative\"\n        >\n            <button\n                icon\n                name=\"close-meeting-confirm\"\n                matRipple\n                mat-dialog-close\n                *ngIf=\"show_close\"\n                class=\"absolute left-2 top-1/2 -translate-y-1/2\"\n            >\n                <app-icon>close</app-icon>\n            </button>\n            <h2 class=\"text-xl font-medium\" i18n>Confirm Meeting booking</h2>\n            <mat-spinner\n                diameter=\"32\"\n                class=\"absolute right-2 top-1/2 -translate-y-1/2\"\n                [class.opacity-0]=\"!(loading | async)\"\n            ></mat-spinner>\n        </div>\n        <main\n            class=\"flex-1 min-w-[48rem] divide-y divide-base-200 p-4 space-y-4 max-h-[65vh] overflow-auto\"\n        >\n            <div class=\"flex divide-x divide-base-200\">\n                <div class=\"pr-4 py-4 pl-16 relative space-y-2 flex-1\">\n                    <div\n                        class=\"absolute top-4 left-4 flex items-center justify-center rounded-full border border-success text-success text-2xl\"\n                    >\n                        <app-icon>done</app-icon>\n                    </div>\n                    <h3 class=\"text-xl !mt-0\">\n                        {{ event.title || 'Meeting Details' }}\n                    </h3>\n                    <div class=\"flex items-center space-x-2\">\n                        <app-icon>today</app-icon>\n                        <div date>{{ event.date | date: 'fullDate' }}</div>\n                    </div>\n                    <div\n                        class=\"flex items-center space-x-2\"\n                        *ngIf=\"event.recurrence?.pattern\"\n                    >\n                        <app-icon>update</app-icon>\n                        <div date>{{ formatted_recurrence }}</div>\n                    </div>\n                    <div class=\"flex items-center space-x-2\">\n                        <app-icon>schedule</app-icon>\n                        <div time>\n                            {{\n                                is_multiday\n                                    ? (event.date | date: 'MMM d') +\n                                      (event.all_day\n                                          ? ''\n                                          : (event.date\n                                            | date: ', ' + time_format)) +\n                                      ' - ' +\n                                      (event.date_end | date: 'MMM d') +\n                                      (event.all_day\n                                          ? ''\n                                          : (event.date_end\n                                            | date: ', ' + time_format))\n                                    : event.all_day\n                                    ? 'All Day'\n                                    : (event.date | date: time_format) +\n                                      ' - ' +\n                                      (event.date + event.duration * 60 * 1000\n                                          | date: time_format + ' (z)')\n                            }}\n                        </div>\n                    </div>\n                </div>\n                <div\n                    class=\"pr-4 py-4 pl-16 relative space-y-2 flex-1\"\n                    *ngIf=\"event.resources.length\"\n                >\n                    <div\n                        class=\"absolute top-4 left-4 flex items-center justify-center rounded-full border border-success text-success text-2xl\"\n                    >\n                        <app-icon>done</app-icon>\n                    </div>\n                    <h3 class=\"text-xl !mt-0\" i18n>Booked Room</h3>\n                    <ng-container *ngFor=\"let s of event.resources\">\n                        <div class=\"flex items-center space-x-2\">\n                            <app-icon>layers</app-icon>\n                            <div>\n                                {{ level?.display_name || level?.name }},\n                                {{ s.display_name || s.name }}\n                            </div>\n                        </div>\n                    </ng-container>\n                    <div class=\"flex items-center space-x-2\">\n                        <app-icon>place</app-icon>\n                        <div>{{ location }}</div>\n                    </div>\n                </div>\n            </div>\n            <div\n                class=\"pr-4 py-4 pl-16 relative space-y-2\"\n                *ngIf=\"event.attendees.length\"\n            >\n                <div\n                    class=\"absolute top-4 left-4 flex items-center justify-center rounded-full border border-success text-success text-2xl\"\n                >\n                    <app-icon>done</app-icon>\n                </div>\n                <h3 class=\"text-xl !mt-0\" i18n>\n                    {{ event.attendees.length }} { event.attendees.length,\n                    plural, =1 { Attendee } other { Attendees } }\n                </h3>\n                <div attendee-list>\n                    <mat-chip-list #chipList aria-label=\"User selection\">\n                        <mat-chip *ngFor=\"let user of event.attendees\">\n                            <div class=\"flex items-center\">\n                                <app-icon class=\"mr-2\">business</app-icon>\n                                {{ user.name || user.email }}\n                            </div>\n                        </mat-chip>\n                    </mat-chip-list>\n                </div>\n            </div>\n            <div\n                class=\"flex divide-x divide-base-200\"\n                *ngIf=\"event.catering?.length || event.assets?.length\"\n            >\n                <div\n                    class=\"pr-4 py-4 pl-16 relative space-y-2 flex-1\"\n                    *ngIf=\"event.catering?.length\"\n                >\n                    <div\n                        class=\"absolute top-4 left-4 flex items-center justify-center rounded-full border border-success text-success text-2xl\"\n                    >\n                        <app-icon>done</app-icon>\n                    </div>\n                    <h3 class=\"text-xl !mt-0\" i18n>Catering</h3>\n                    <div class=\"flex flex-col space-y-2\">\n                        <div\n                            order\n                            *ngFor=\"let order of catering_orders\"\n                            class=\"border bg-base-100 rounded-xl overflow-hidden\"\n                            [class.border-error]=\"end_time < order.deliver_at\"\n                            [class.border-base-300]=\"\n                                end_time >= order.deliver_at\n                            \"\n                        >\n                            <div class=\"flex items-center space-x-2 p-3\">\n                                <div class=\"flex-1 flex items-center space-x-2\">\n                                    <div class=\"text-sm\">\n                                        Order at\n                                        {{\n                                            order.deliver_at\n                                                | date: 'MMM d, ' + time_format\n                                        }}\n                                    </div>\n                                    <div\n                                        class=\"flex items-center justify-center h-6 w-6 rounded-full bg-error text-error-content\"\n                                        [matTooltip]=\"err_tooltip\"\n                                        *ngIf=\"end_time < order.deliver_at\"\n                                    >\n                                        <app-icon>priority_high</app-icon>\n                                    </div>\n                                    <div class=\"flex-1\"></div>\n                                    <div\n                                        class=\"text-xs bg-success text-success-content px-2 py-1 rounded\"\n                                    >\n                                        {{ order.item_count }} item(s)\n                                    </div>\n                                    <div\n                                        class=\"text-xs bg-info text-info-content px-2 py-1 rounded\"\n                                    >\n                                        Total:\n                                        {{\n                                            order.total_cost / 100\n                                                | currency: currency_code\n                                        }}\n                                    </div>\n                                </div>\n                            </div>\n                            <div\n                                class=\"flex flex-col bg-base-200 divide-y divide-base-100\"\n                            >\n                                <div\n                                    class=\"flex items-center px-3 py-1 space-x-2 hover:opacity-90\"\n                                    *ngFor=\"let item of order.items\"\n                                >\n                                    <div class=\"flex items-center flex-1\">\n                                        <span class=\"text-sm\">{{\n                                            item.name || 'Item'\n                                        }}</span>\n                                        <span\n                                            class=\"text-xs opacity-60 ml-4 font-normal\"\n                                            *ngIf=\"item.option_list?.length\"\n                                            [matTooltip]=\"optionList(item)\"\n                                        >\n                                            {{\n                                                item.option_list?.length || '0'\n                                            }}\n                                            option(s)\n                                        </span>\n                                    </div>\n                                    <div\n                                        class=\"rounded bg-success text-success-content text-xs px-2 py-1\"\n                                    >\n                                        x{{ item.quantity }}\n                                    </div>\n                                    <div\n                                        class=\"rounded bg-info text-info-content text-xs px-2 py-1\"\n                                    >\n                                        {{\n                                            item.unit_price_with_options / 100\n                                                | currency: currency_code\n                                        }}\n                                        ea\n                                    </div>\n                                    <div\n                                        class=\"rounded bg-info text-info-content text-xs px-2 py-1\"\n                                    >\n                                        {{\n                                            item.total_cost / 100\n                                                | currency: currency_code\n                                        }}\n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n                <div\n                    class=\"pr-4 py-4 pl-16 relative space-y-2 flex-1\"\n                    *ngIf=\"assets?.length\"\n                >\n                    <div\n                        class=\"absolute top-4 left-4 flex items-center justify-center rounded-full border border-success text-success text-2xl\"\n                        [class.!border-error]=\"has_conflict\"\n                        [class.!text-error]=\"has_conflict\"\n                    >\n                        <app-icon>{{\n                            has_conflict ? 'close' : 'done'\n                        }}</app-icon>\n                    </div>\n                    <h3 class=\"text-xl !mt-0\" i18n>Assets</h3>\n                    <div\n                        request\n                        *ngFor=\"let request of assets\"\n                        class=\"border bg-base-100 rounded-xl overflow-hidden\"\n                        [class.border-error]=\"end_time < request.deliver_at\"\n                        [class.border-base-300]=\"end_time >= request.deliver_at\"\n                    >\n                        <div class=\"flex items-center space-x-2 p-3\">\n                            <div class=\"flex-1 flex items-center space-x-2\">\n                                <div class=\"text-sm\">\n                                    Requested for\n                                    {{\n                                        request.deliver_at_time\n                                            | date: 'MMM d, ' + time_format\n                                    }}\n                                </div>\n                                <div\n                                    class=\"flex items-center justify-center h-6 w-6 rounded-full bg-error text-error-content\"\n                                    [matTooltip]=\"err_tooltip(request)\"\n                                    *ngIf=\"\n                                        end_time < request.deliver_at ||\n                                        request.conflict\n                                    \"\n                                >\n                                    <app-icon>priority_high</app-icon>\n                                </div>\n                                <div class=\"flex-1\"></div>\n                                <div\n                                    class=\"text-xs bg-success text-success-content px-2 py-1 rounded\"\n                                >\n                                    {{ request.item_count }} item(s)\n                                </div>\n                            </div>\n                        </div>\n                        <div\n                            class=\"flex flex-col bg-base-200 divide-y divide-base-100\"\n                        >\n                            <div\n                                class=\"flex items-center px-3 py-1 space-x-2 hover:opacity-90\"\n                                *ngFor=\"let item of request.items\"\n                            >\n                                <div class=\"flex items-center flex-1\">\n                                    <span class=\"text-sm\">{{\n                                        item.name || 'Item'\n                                    }}</span>\n                                </div>\n                                <div\n                                    class=\"rounded bg-success text-success-content text-xs px-2 py-1\"\n                                >\n                                    x{{ item.quantity }}\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n            <div class=\"pr-4 py-4 pl-16 relative space-y-2\" *ngIf=\"event.body\">\n                <div\n                    class=\"absolute top-4 left-4 flex items-center justify-center rounded-full border border-success text-success text-2xl\"\n                >\n                    <app-icon>done</app-icon>\n                </div>\n                <h3 class=\"text-xl !mt-0\" i18n>Notes</h3>\n                <div [innerHTML]=\"event.body | sanitize\"></div>\n            </div>\n        </main>\n        <footer\n            class=\"p-2 border-t border-base-200 flex items-center justify-end\"\n            *ngIf=\"!(loading | async)\"\n        >\n            <button\n                btn\n                name=\"confirm-meeting\"\n                matRipple\n                class=\"w-32\"\n                (click)=\"postForm()\"\n                i18n\n            >\n                Confirm\n            </button>\n            <!-- <button\n                btn\n                matRipple\n                class=\"inverse w-32\"\n                *ngIf=\"loading | async\"\n                (click)=\"cancelPost()\"\n                i18n\n            >\n                Undo\n            </button> -->\n        </footer>\n    `,\n    styles: [``],\n    providers: [SpacePipe],\n})\nexport class MeetingFlowConfirmModalComponent extends AsyncHandler {\n    @Input() public show_close: boolean = false;\n\n    private _loading = new BehaviorSubject(false);\n\n    public readonly loading = combineLatest([\n        this._event_form.loading,\n        this._loading,\n    ]).pipe(map(([a, b]) => a || b));\n    public readonly catering_orders;\n    public readonly assets;\n    public err_tooltip(request: AssetRequest) {\n        return request.conflict\n            ? 'Some of the items are not available for the selected date and time.'\n            : 'Delivery time is outside of the event time.\\nThis order will be ignored.';\n    }\n\n    public get has_conflict() {\n        return this.assets?.some((_) => _.conflict);\n    }\n\n    public readonly postForm = async () => {\n        if (!this.space) {\n            const result = await openConfirmModal(\n                {\n                    title: 'Make Booking without a Room',\n                    content:\n                        'You are creating a booking without a room, are you sure?',\n                    icon: { content: 'event_available' },\n                },\n                this._dialog\n            );\n            if (result.reason !== 'done') return;\n            result.close();\n        }\n        const resp = await this._event_form.postForm().catch((_) => {\n            notifyError(_);\n            return false;\n        });\n        if (resp) this.dismiss(true);\n    };\n    public readonly cancelPost = () => this._event_form.cancelPostForm();\n    public readonly dismiss = (e?) => this._dialog_ref?.close(e);\n\n    private _space = this.event.resources[0];\n\n    public get is_multiday() {\n        return this.event.duration > 24 * 60;\n    }\n\n    public get time_format() {\n        return this._settings.time_format;\n    }\n\n    public get end_time() {\n        return this.event.all_day\n            ? endOfDay(this.event.date_end).valueOf()\n            : this.event.date_end;\n    }\n\n    public get event() {\n        return this._event_form.form.getRawValue() as any;\n    }\n\n    public get space(): Space {\n        return this.event.resources[0];\n    }\n\n    public get level() {\n        return this._org.levelWithID(this.space.zones);\n    }\n\n    public get location() {\n        const building = this._org.buildings.find((_) =>\n            this.space.zones.includes(_.id)\n        );\n        return building?.address || building?.display_name || building?.name;\n    }\n\n    public get code() {\n        return this._org.currency_code;\n    }\n\n    public get formatted_recurrence() {\n        return formatRecurrence({\n            ...this.event.recurrence,\n            start: this.event.date || this.event.recurrence.start,\n        });\n    }\n\n    constructor(\n        private _event_form: EventFormService,\n        private _org: OrganisationService,\n        private _space_pipe: SpacePipe,\n        @Optional()\n        private _dialog_ref: MatDialogRef<MeetingFlowConfirmModalComponent>,\n        private _dialog: MatDialog,\n        private _settings: SettingsService\n    ) {\n        super();\n    }\n\n    public async ngOnInit() {\n        const date = this.event.all_day\n            ? startOfDay(this.event.date).valueOf()\n            : this.event.date;\n        (this as any).catering_orders = this.event.catering?.map(\n            (order) =>\n                new CateringOrder({\n                    ...order,\n                    event: {\n                        ...this.event,\n                        date: date,\n                        date_end: addMinutes(\n                            date,\n                            this.event.duration\n                        ).valueOf(),\n                    },\n                })\n        );\n        (this as any).assets = this.event.assets?.map(\n            (_) => new AssetRequest({ ..._, event: this.event })\n        );\n        this._space =\n            (await this._space_pipe.transform(\n                this.event.resources[0]?.email\n            )) || this._space;\n        const changed_spaces =\n            !this._event_form.event ||\n            this.event.resources[0]?.id !== this._event_form.event?.space?.id;\n        const changed_times =\n            !this._event_form.event ||\n            this.event.date !== this._event_form.event.date ||\n            this.event.date_end !== this._event_form.event.date_end;\n        const event = this._event_form.form.value;\n        console.log('Changes:', changed_spaces, changed_times);\n        this._loading.next(true);\n        await validateAssetRequestsForResource(\n            this._event_form.event || {},\n            {\n                date: this.event.date,\n                duration: this.event.duration,\n                host: this.event.host,\n                all_day: this.event.all_day,\n                location_name:\n                    this._space?.display_name || this._space?.name || '',\n                location_id: this._space?.id || '',\n                zones: this._space?.level?.parent_id\n                    ? [this._space?.level?.parent_id]\n                    : [this._org.building?.id],\n                reset_state: changed_times,\n            },\n            event.assets,\n            changed_spaces || changed_times\n        ).catch((e) => notifyError(e));\n        this.timeout(\n            'update_assets',\n            () => {\n                (this as any).assets = event.assets?.map(\n                    (_) => new AssetRequest({ ..._, event })\n                );\n                this._event_form.form.patchValue({ assets: event.assets });\n            },\n            100\n        );\n        this.timeout('assets', () => console.log('Assets', event.assets));\n        this._loading.next(false);\n    }\n\n    public optionList(item: CateringItem) {\n        return item.option_list?.map((_) => _.name).join('\\n');\n    }\n}\n","import { Component, Input, Optional } from '@angular/core';\nimport { MatBottomSheetRef } from '@angular/material/bottom-sheet';\nimport { MatDialog } from '@angular/material/dialog';\nimport { CateringItem } from '@placeos/catering';\nimport {\n    AsyncHandler,\n    SettingsService,\n    notifyError,\n    openConfirmModal,\n} from '@placeos/common';\nimport {\n    CalendarEvent,\n    EventFormService,\n    formatRecurrence,\n} from '@placeos/events';\nimport { OrganisationService } from '@placeos/organisation';\nimport { SpacePipe } from 'libs/spaces/src/lib/space.pipe';\n\n@Component({\n    selector: 'meeting-flow-confirm',\n    template: `\n        <button\n            icon\n            matRipple\n            name=\"close-meeting-confirm\"\n            *ngIf=\"show_close\"\n            (click)=\"dismiss()\"\n        >\n            <app-icon>close</app-icon>\n        </button>\n        <header class=\"flex items-center justify-between px-2\">\n            <h2 i18n>Confirm Meeting booking</h2>\n            <mat-spinner diameter=\"32\" *ngIf=\"loading | async\"></mat-spinner>\n        </header>\n        <section period class=\"flex space-x-1 px-2\">\n            <app-icon class=\"text-success mt-1\">done</app-icon>\n            <div details class=\"leading-6\">\n                <h3>{{ event.title || 'Meeting Details' }}</h3>\n                <div class=\"flex items-center space-x-2\">\n                    <app-icon>today</app-icon>\n                    <div date>{{ event.date | date: 'fullDate' }}</div>\n                </div>\n                <div\n                    class=\"flex items-center space-x-2\"\n                    *ngIf=\"event.recurrence?.pattern\"\n                >\n                    <app-icon>update</app-icon>\n                    <div date>{{ formatted_recurrence }}</div>\n                </div>\n                <div class=\"flex items-center space-x-2\">\n                    <app-icon>schedule</app-icon>\n                    <div time>\n                        {{\n                            is_multiday\n                                ? (event.date | date: 'MMM d') +\n                                  (event.all_day\n                                      ? ''\n                                      : (event.date\n                                        | date: ', ' + time_format)) +\n                                  ' - ' +\n                                  (event.date_end | date: 'MMM d') +\n                                  (event.all_day\n                                      ? ''\n                                      : (event.date_end\n                                        | date: ', ' + time_format))\n                                : event.all_day\n                                ? 'All Day'\n                                : (event.date | date: time_format) +\n                                  ' - ' +\n                                  (event.date + event.duration * 60 * 1000\n                                      | date: time_format + ' (z)')\n                        }}\n                    </div>\n                </div>\n            </div>\n        </section>\n        <section\n            attendees\n            class=\"flex space-x-1 px-2\"\n            *ngIf=\"event.attendees.length\"\n        >\n            <app-icon class=\"text-success mt-1\">done</app-icon>\n            <div details class=\"leading-6\">\n                <h3 i18n>\n                    {{ event.attendees.length }} { event.attendees.length,\n                    plural, =1 { attendee } other { attendees } }\n                </h3>\n                <div attendee-list>\n                    <mat-chip-list #chipList aria-label=\"User selection\">\n                        <mat-chip *ngFor=\"let user of event.attendees\">\n                            <div class=\"flex items-center\">\n                                <app-icon class=\"mr-2\">business</app-icon>\n                                {{ user.name || user.email }}\n                            </div>\n                        </mat-chip>\n                    </mat-chip-list>\n                </div>\n            </div>\n        </section>\n        <section spaces class=\"flex space-x-1 px-2\" *ngIf=\"space?.id\">\n            <app-icon class=\"text-success mt-1\">done</app-icon>\n            <div details class=\"leading-6\">\n                <h3 i18n>Booked Room</h3>\n                <ng-container *ngFor=\"let s of event.resources\">\n                    <div class=\"flex items-center space-x-2\">\n                        <app-icon>meeting_room</app-icon>\n                        <div>\n                            {{ level?.display_name || level?.name }},\n                            {{ s.display_name || s.name }}\n                        </div>\n                    </div>\n                </ng-container>\n                <div class=\"flex items-center space-x-2\">\n                    <app-icon>place</app-icon>\n                    <div>{{ location }}</div>\n                </div>\n            </div>\n        </section>\n        <footer class=\"p-2 w-full border-t border-base-200 mt-4\">\n            <button\n                btn\n                name=\"confirm-meeting\"\n                matRipple\n                class=\"w-full\"\n                *ngIf=\"!(loading | async)\"\n                (click)=\"postForm()\"\n                i18n\n            >\n                Confirm\n            </button>\n            <!-- <button\n                btn\n                matRipple\n                class=\"inverse w-full\"\n                *ngIf=\"loading | async\"\n                (click)=\"cancelPost()\"\n                i18n\n            >\n                Undo\n            </button> -->\n        </footer>\n    `,\n    styles: [\n        `\n            section > app-icon {\n                font-size: 1.5rem;\n            }\n\n            h2 {\n                font-size: 1.5rem;\n                font-weight: medium;\n                margin-bottom: 0.5rem;\n            }\n\n            h3 {\n                font-size: 1.25rem;\n                font-weight: medium;\n                margin: 0.5rem 0;\n            }\n        `,\n    ],\n    providers: [SpacePipe],\n})\nexport class MeetingFlowConfirmComponent extends AsyncHandler {\n    @Input() public show_close: boolean = false;\n\n    public readonly loading = this._event_form.loading;\n\n    public readonly postForm = async () => {\n        if (!this.space) {\n            const result = await openConfirmModal(\n                {\n                    title: 'Make Booking without a Room',\n                    content:\n                        'You are creating a booking without a room, are you sure?',\n                    icon: { content: 'event_available' },\n                },\n                this._dialog\n            );\n            if (result.reason !== 'done') return;\n        }\n        await this._event_form.postForm().catch((_) => {\n            notifyError(_);\n            throw _;\n        });\n        this.dismiss(true);\n    };\n    public readonly cancelPost = () => this._event_form.cancelPostForm();\n    public readonly dismiss = (e?) => this._sheet_ref?.dismiss(e);\n\n    private _space = this.event.resources[0];\n\n    public get is_multiday() {\n        return this.event.duration > 24 * 60;\n    }\n\n    public get time_format() {\n        return this._settings.time_format;\n    }\n\n    public get formatted_recurrence() {\n        return formatRecurrence({\n            ...this.event.recurrence,\n            start: this.event.date || this.event.recurrence.start,\n        });\n    }\n\n    public get event(): CalendarEvent {\n        return this._event_form.form.getRawValue() as any;\n    }\n\n    public get space() {\n        return this._space;\n    }\n\n    public get level() {\n        return this._org.levelWithID(this.space.zones);\n    }\n\n    public get location() {\n        const building = this._org.buildings.find((_) =>\n            this.space.zones.includes(_.id)\n        );\n        return building?.address || building?.display_name || building?.name;\n    }\n\n    constructor(\n        @Optional() private _sheet_ref: MatBottomSheetRef,\n        private _event_form: EventFormService,\n        private _org: OrganisationService,\n        private _space_pipe: SpacePipe,\n        private _dialog: MatDialog,\n        private _settings: SettingsService\n    ) {\n        super();\n    }\n\n    public async ngOnInit() {\n        this._space =\n            (await this._space_pipe.transform(this.event.resources[0].email)) ||\n            this._space;\n    }\n\n    public optionList(item: CateringItem) {\n        return item.option_list?.map((_) => _.name).join('\\n');\n    }\n}\n","import { Component, ElementRef, TemplateRef, ViewChild } from '@angular/core';\nimport {\n    MatBottomSheet,\n    MatBottomSheetRef,\n} from '@angular/material/bottom-sheet';\nimport { MatDialog, MatDialogRef } from '@angular/material/dialog';\nimport { Router } from '@angular/router';\nimport {\n    ANIMATION_SHOW_CONTRACT_EXPAND,\n    AsyncHandler,\n    currentUser,\n    getInvalidFields,\n    notifyError,\n    notifyWarn,\n    openConfirmModal,\n    SettingsService,\n    UserIdleTimeService,\n} from '@placeos/common';\nimport { EventFormService } from '@placeos/events';\nimport { OrganisationService } from '@placeos/organisation';\nimport { Space } from '@placeos/spaces';\nimport { FindAvailabilityModalComponent } from '@placeos/users';\nimport { CateringOrderStateService } from 'libs/catering/src/lib/catering-order-modal/catering-order-state.service';\nimport { BehaviorSubject, combineLatest, of } from 'rxjs';\nimport { debounceTime, first, map, switchMap, tap } from 'rxjs/operators';\nimport { MeetingFlowConfirmModalComponent } from './meeting-flow-confirm-modal.component';\nimport { MeetingFlowConfirmComponent } from './meeting-flow-confirm.component';\nimport { AssetStateService } from 'libs/assets/src/lib/asset-state.service';\n\n@Component({\n    selector: 'meeting-flow-form',\n    template: `\n        <div class=\"h-full w-full bg-base-200 overflow-auto\">\n            <div\n                class=\"max-w-full w-[48rem] mx-auto sm:my-4 bg-base-100 border border-base-300\"\n            >\n                <h2\n                    class=\"w-full p-4 sm:py-4 sm:px-16 text-2xl font-medium border-b border-base-300\"\n                >\n                    {{ !!form.value.id ? 'Edit' : 'Book' }}\n                    {{ 'WPA.BOOK_MEETING_HEADING' | translate }}\n                </h2>\n                <form\n                    class=\"p-0 sm:py-4 sm:px-16 divide-y divide-base-200 space-y-2\"\n                    [formGroup]=\"form\"\n                    *ngIf=\"form\"\n                >\n                    <section class=\"p-2\">\n                        <h3 class=\"space-x-2 flex items-center\">\n                            <div\n                                class=\"bg-base-200 rounded-full h-6 w-6 flex items-center justify-center\"\n                            >\n                                1\n                            </div>\n                            <div class=\"text-xl\">\n                                {{ 'WPA.DETAILS' | translate }}\n                            </div>\n                            <div class=\"flex-1 w-px\"></div>\n                            <button\n                                icon\n                                name=\"toggle-details-meeting\"\n                                matRipple\n                                (click)=\"\n                                    hide_block.details = !hide_block.details\n                                \"\n                            >\n                                <app-icon>{{\n                                    hide_block.details\n                                        ? 'expand_more'\n                                        : 'expand_less'\n                                }}</app-icon>\n                            </button>\n                        </h3>\n                        <div\n                            class=\"overflow-hidden\"\n                            [@show]=\"hide_block.details ? 'hide' : 'show'\"\n                        >\n                            <meeting-form-details\n                                class=\"mt-4\"\n                                [form]=\"form\"\n                            ></meeting-form-details>\n                        </div>\n                    </section>\n                    <section class=\"p-2\" *ngIf=\"!hide_attendees\">\n                        <h3 class=\"space-x-2 flex items-center\">\n                            <div\n                                class=\"bg-base-200 rounded-full h-6 w-6 flex items-center justify-center\"\n                            >\n                                2\n                            </div>\n                            <div class=\"text-xl\">\n                                {{ 'FORM.ATTENDEES' | translate }}\n                            </div>\n                            <div class=\"flex-1 w-px\"></div>\n                            <button\n                                matRipple\n                                name=\"find-attendee-availability\"\n                                class=\"bg-none underline text-xs text-info\"\n                                (click)=\"findAvailableTime()\"\n                            >\n                                {{ 'WPA.AVAILABILITY' | translate }}\n                            </button>\n                            <button\n                                icon\n                                name=\"toggle-attendees-meeting\"\n                                matRipple\n                                (click)=\"\n                                    hide_block.attendees = !hide_block.attendees\n                                \"\n                            >\n                                <app-icon>{{\n                                    hide_block.attendees\n                                        ? 'expand_more'\n                                        : 'expand_less'\n                                }}</app-icon>\n                            </button>\n                        </h3>\n                        <div\n                            class=\"overflow-hidden\"\n                            [@show]=\"hide_block.attendees ? 'hide' : 'show'\"\n                        >\n                            <a-user-list-field\n                                class=\"mt-4\"\n                                formControlName=\"attendees\"\n                                [time]=\"form.value.date\"\n                                [guests]=\"allow_externals\"\n                            ></a-user-list-field>\n                        </div>\n                    </section>\n                    <section class=\"p-2\">\n                        <h3 class=\"space-x-2 flex items-center\">\n                            <div\n                                class=\"bg-base-200 rounded-full h-6 w-6 flex items-center justify-center\"\n                            >\n                                3\n                            </div>\n                            <div class=\"text-xl\">\n                                {{ 'WPA.ROOM' | translate }}\n                            </div>\n                            <div class=\"flex-1 w-px\"></div>\n                            <button\n                                icon\n                                name=\"toggle-spaces-meeting\"\n                                matRipple\n                                (click)=\"\n                                    hide_block.resources = !hide_block.resources\n                                \"\n                            >\n                                <app-icon>{{\n                                    hide_block.resources\n                                        ? 'expand_more'\n                                        : 'expand_less'\n                                }}</app-icon>\n                            </button>\n                        </h3>\n                        <div\n                            class=\"overflow-hidden flex flex-col items-center\"\n                            [@show]=\"hide_block.resources ? 'hide' : 'show'\"\n                        >\n                            <div\n                                *ngIf=\"\n                                    !strict_capacity_check &&\n                                    total_capacity &&\n                                    total_capacity <=\n                                        form.value.attendees?.length\n                                \"\n                                class=\"bg-warning text-warning-content rounded shadow p-2 text-xs mx-auto my-2 inline-flex\"\n                            >\n                                The selected room has less capacity than the\n                                number of meeting attendees.\n                            </div>\n                            <space-list-field\n                                class=\"w-full\"\n                                formControlName=\"resources\"\n                                [multiday]=\"allow_multiday\"\n                            ></space-list-field>\n                        </div>\n                    </section>\n                    <section class=\"p-2\" *ngIf=\"has_catering | async\">\n                        <h3 class=\"space-x-2 flex items-center\">\n                            <div\n                                class=\"bg-base-200 rounded-full h-6 w-6 flex items-center justify-center\"\n                            >\n                                4\n                            </div>\n                            <div class=\"text-xl\">\n                                {{ 'WPA.CATERING' | translate }}\n                            </div>\n                            <div class=\"flex-1 w-px\"></div>\n                            <button\n                                icon\n                                name=\"toggle-catering-meeting\"\n                                matRipple\n                                (click)=\"\n                                    hide_block.catering = !hide_block.catering\n                                \"\n                            >\n                                <app-icon>{{\n                                    hide_block.catering\n                                        ? 'expand_more'\n                                        : 'expand_less'\n                                }}</app-icon>\n                            </button>\n                        </h3>\n                        <div\n                            class=\"overflow-hidden\"\n                            [@show]=\"hide_block.catering ? 'hide' : 'show'\"\n                        >\n                            <catering-list-field\n                                formControlName=\"catering\"\n                                [options]=\"{\n                                    date: form.getRawValue().date,\n                                    duration: form.value.duration,\n                                    all_day: form.value.all_day,\n                                    zone_id: form.value?.resources?.length\n                                        ? form.value?.resources[0]?.level\n                                              ?.parent_id\n                                        : ''\n                                }\"\n                            ></catering-list-field>\n                            <mat-form-field\n                                appearance=\"outline\"\n                                class=\"w-full mt-2\"\n                                *ngIf=\"\n                                    form.value.catering?.length && has_codes\n                                        | async\n                                \"\n                                (openedChange)=\"focusInput()\"\n                            >\n                                <mat-select\n                                    formControlName=\"catering_charge_code\"\n                                    placeholder=\"Charge Code\"\n                                >\n                                    <input\n                                        #input\n                                        class=\"sticky top-0 bg-base-100 px-4 py-3 text-base border-x-0 border-t-0 border-b focus:border-b border-base-200 w-full rounded-none z-50\"\n                                        [ngModel]=\"code_filter.getValue()\"\n                                        (ngModelChange)=\"\n                                            code_filter.next($event)\n                                        \"\n                                        [ngModelOptions]=\"{ standalone: true }\"\n                                        placeholder=\"Search charge codes...\"\n                                    />\n                                    <mat-option class=\"hidden\"></mat-option>\n                                    <mat-option\n                                        *ngFor=\"\n                                            let code of filtered_codes | async\n                                        \"\n                                        [value]=\"code\"\n                                    >\n                                        {{ code }}\n                                    </mat-option>\n                                </mat-select>\n                                <mat-error>\n                                    Catering charge code is required\n                                </mat-error>\n                            </mat-form-field>\n                            <mat-form-field\n                                appearance=\"outline\"\n                                class=\"w-full\"\n                                [class.mt-2]=\"\n                                    !(\n                                        form.value.catering?.length && has_codes\n                                        | async\n                                    )\n                                \"\n                                *ngIf=\"form.value.catering?.length\"\n                            >\n                                <textarea\n                                    matInput\n                                    formControlName=\"catering_notes\"\n                                    placeholder=\"Extra catering details...\"\n                                ></textarea>\n                                <mat-error>\n                                    Catering Order notes are required\n                                </mat-error>\n                            </mat-form-field>\n                        </div>\n                    </section>\n                    <section class=\"p-2\" *ngIf=\"has_assets\">\n                        <h3 class=\"space-x-2 flex items-center\">\n                            <div\n                                class=\"bg-base-200 rounded-full h-6 w-6 flex items-center justify-center\"\n                            >\n                                {{ !(has_catering | async) ? '4' : '5' }}\n                            </div>\n                            <div class=\"text-xl\">\n                                {{ 'WPA.ASSETS' | translate }}\n                            </div>\n                            <div class=\"flex-1 w-px\"></div>\n                            <button\n                                icon\n                                name=\"toggle-assets-meeting\"\n                                matRipple\n                                (click)=\"hide_block.assets = !hide_block.assets\"\n                            >\n                                <app-icon>{{\n                                    hide_block.assets\n                                        ? 'expand_more'\n                                        : 'expand_less'\n                                }}</app-icon>\n                            </button>\n                        </h3>\n                        <div\n                            class=\"overflow-hidden\"\n                            [@show]=\"hide_block.assets ? 'hide' : 'show'\"\n                        >\n                            <asset-list-field\n                                [options]=\"{\n                                    date: form.getRawValue().date,\n                                    duration: form.value.duration,\n                                    all_day: form.value.all_day,\n                                    zone_id: form.value?.resources?.length\n                                        ? form.value?.resources[0]?.level\n                                              ?.parent_id\n                                        : ''\n                                }\"\n                                [rejected_ids]=\"invalid_assets\"\n                                formControlName=\"assets\"\n                            ></asset-list-field>\n                        </div>\n                    </section>\n                    <section class=\"p-2\" *ngIf=\"!hide_notes\">\n                        <h3 class=\"space-x-2 flex items-center mb-4\">\n                            <div\n                                class=\"bg-base-200 rounded-full h-6 w-6 flex items-center justify-center\"\n                            >\n                                {{\n                                    !(has_catering | async) || !has_assets\n                                        ? !(has_catering | async) && !has_assets\n                                            ? '4'\n                                            : '5'\n                                        : '6'\n                                }}\n                            </div>\n                            <div class=\"text-xl\">\n                                {{ 'FORM.NOTES' | translate }}\n                            </div>\n                        </h3>\n                        <div class=\"w-full flex flex-col\">\n                            <label for=\"notes\">\n                                {{ 'WPA.NOTES_INFO' | translate }}\n                            </label>\n                            <rich-text-input\n                                name=\"notes\"\n                                formControlName=\"body\"\n                                placeholder=\"Notes...\"\n                            ></rich-text-input>\n                        </div>\n                    </section>\n                    <section\n                        class=\"flex flex-col sm:flex-row items-center sm:space-x-2 p-2\"\n                    >\n                        <button\n                            btn\n                            name=\"open-meeting-confirm\"\n                            matRipple\n                            confirm\n                            class=\"mb-2 sm:mb-0 w-full sm:w-auto\"\n                            (click)=\"viewConfirm()\"\n                        >\n                            {{ 'WPA.CONFIRM_MEETING' | translate }}\n                        </button>\n                        <button\n                            btn\n                            name=\"clear-form-meeting\"\n                            matRipple\n                            clear-form\n                            class=\"inverse w-full sm:w-auto\"\n                            (click)=\"clearForm()\"\n                        >\n                            { !!form.value.id, select, true { Reset } false {\n                            Clear } } {{ 'WPA.CLEAR_FORM' | translate }}\n                        </button>\n                    </section>\n                </form>\n            </div>\n        </div>\n    `,\n    styles: [],\n    animations: [ANIMATION_SHOW_CONTRACT_EXPAND],\n})\nexport class MeetingFlowFormComponent extends AsyncHandler {\n    public sheet_ref: MatBottomSheetRef<any>;\n    public dialog_ref: MatDialogRef<any>;\n    public hide_block: Record<string, boolean> = {};\n    public code_filter = new BehaviorSubject('');\n    public invalid_assets: string[] = [];\n\n    public readonly has_catering = this._catering.available_menu.pipe(\n        map((l) => l.length > 0)\n    );\n\n    public readonly has_codes = this._catering.charge_codes.pipe(\n        map((l) => l.length > 0),\n        tap((has_codes) => {\n            if (!has_codes) {\n                this.form.get('catering_charge_code').setValidators([]);\n                this.form.updateValueAndValidity();\n            }\n        })\n    );\n\n    public readonly filtered_codes = combineLatest([\n        this.code_filter,\n        this._catering.charge_codes,\n    ]).pipe(\n        map(([s, l]) =>\n            l.filter((_) => _.toLowerCase().includes(s.toLowerCase()))\n        )\n    );\n\n    public get form() {\n        return this._state.form;\n    }\n\n    public get event() {\n        return this._state.event;\n    }\n\n    public get has_assets() {\n        return !!this._settings.get('app.events.has_assets');\n    }\n\n    public get hide_notes() {\n        return !!this._settings.get('app.events.hide_notes');\n    }\n\n    public get hide_attendees() {\n        return !!this._settings.get('app.events.hide_attendees');\n    }\n\n    public get allow_externals() {\n        return this._settings.get('app.events.allow_externals');\n    }\n\n    public get strict_capacity_check() {\n        return this._settings.get('app.events.strict_capacity_check');\n    }\n\n    public get total_capacity() {\n        return (\n            this.form.value.resources?.reduce((c, i) => c + i.capacity, 0) || 0\n        );\n    }\n\n    public get allow_multiday() {\n        return (\n            this._settings.get('app.events.allow_multiday') ||\n            this._state.is_multiday\n        );\n    }\n\n    public get attendee_count() {\n        const user = currentUser();\n        let count = this.form.value.attendees?.length || 0;\n        if (\n            !this.form.value.attendees.find(\n                (_) => _.email.toLowerCase() === user.email.toLowerCase()\n            )\n        ) {\n            count += 1;\n        }\n        return count;\n    }\n\n    private _space_list = new BehaviorSubject<Space[]>([]);\n\n    private _assets_available = this._space_list.pipe(\n        debounceTime(300),\n        switchMap((space_list) => {\n            if (!space_list?.length) return of(false);\n            const value = this.form.getRawValue();\n            this._assets.setOptions({\n                date: value.date,\n                duration: value.duration,\n                resources: space_list,\n                zone_id: this._org.levelWithID(space_list[0].zones)?.parent_id,\n                tags: [],\n                categories: [],\n            } as any);\n            return combineLatest([\n                this._assets.filtered_assets,\n                this._assets.disabled_rooms,\n            ]).pipe(\n                map(([items, disabled_rooms]) => {\n                    const assets_available = space_list.every(\n                        (s) =>\n                            items.filter(\n                                (_) =>\n                                    !(_ as any).hide_for_zones?.find((z) =>\n                                        s.zones.includes(z)\n                                    )\n                            ).length > 0\n                    );\n                    if (\n                        assets_available &&\n                        !disabled_rooms.find((_) =>\n                            space_list.find((i) => i.id === _)\n                        )\n                    )\n                        return true;\n                    const event = this._state.event;\n                    const { id, assets, date, date_end } =\n                        this.form.getRawValue();\n                    const time_changed =\n                        !id ||\n                        (assets?.length &&\n                            (date !== event.date ||\n                                date_end !== event.date_end));\n                    if (time_changed) {\n                        this.form.patchValue({ assets: [] });\n                        notifyWarn(\n                            `Assets are unavailable for some of the selected spaces.`\n                        );\n                    }\n                    return false;\n                })\n            );\n        })\n    );\n\n    private _catering_available = this._space_list.pipe(\n        debounceTime(300),\n        switchMap((space_list) => {\n            if (!space_list?.length) return of(false);\n            const value = this.form.getRawValue();\n            this._catering.setFilters({\n                search: '',\n                date: value.date,\n                duration: value.duration,\n                resources: space_list,\n                zone_id: this._org.levelWithID(space_list[0].zones)?.parent_id,\n                tags: [],\n                categories: [],\n            });\n            return combineLatest([\n                this._catering.filtered_menu,\n                this._catering.availability,\n            ]).pipe(\n                map(([menu, disabled_rooms]) => {\n                    const can_cater = space_list.every(\n                        (s) =>\n                            menu.filter(\n                                (_) =>\n                                    !_.hide_for_zones.find((z) =>\n                                        s.zones.includes(z)\n                                    )\n                            ).length > 0\n                    );\n                    if (\n                        can_cater &&\n                        !disabled_rooms.find((_) =>\n                            space_list.find((i) => i.id === _)\n                        )\n                    )\n                        return true;\n                    const event = this._state.event;\n                    const { id, catering, date, date_end } =\n                        this.form.getRawValue();\n                    const time_changed =\n                        !id ||\n                        (catering?.length &&\n                            (date !== event.date ||\n                                date_end !== event.date_end));\n                    if (time_changed) {\n                        this.form.patchValue({ catering: [] });\n                        notifyWarn(\n                            `Catering is unavailable for some of the selected spaces.`\n                        );\n                    }\n                    return false;\n                })\n            );\n        })\n    );\n\n    public readonly clearForm = () => this._state.resetForm();\n\n    public readonly viewConfirm = () => {\n        if (!this.form.value.host)\n            this.form.patchValue({ host: currentUser()?.email });\n        if (\n            this.strict_capacity_check &&\n            this.attendee_count > this.total_capacity\n        ) {\n            return notifyError(\n                'Attendee count is greater than the capacity of the selected rooms'\n            );\n        }\n        this.form.markAllAsTouched();\n        if (!this.form.valid)\n            return notifyError(\n                `Some fields are invalid. [${getInvalidFields(this.form).join(\n                    ', '\n                )}]`\n            );\n        if (\n            this._settings.get('app.events.no_standalone') &&\n            !this.form.value.resources.length\n        )\n            return notifyError('You need to select a room to make a booking');\n        if (this._settings.get('app.events.booking_unavailable'))\n            return this._state.openEventLinkModal();\n        if (window.innerWidth >= 768) {\n            this.dialog_ref = this._dialog.open(\n                MeetingFlowConfirmModalComponent\n            );\n            this.dialog_ref.componentInstance.show_close = true;\n            this.dialog_ref.afterClosed().subscribe((value) => {\n                if (value) {\n                    this.unsubWith('idle');\n                    this._router.navigate(['/book', 'meeting', 'success']);\n                    this._state.setView('success');\n                }\n            });\n        } else {\n            this.sheet_ref = this._bottom_sheet.open(\n                MeetingFlowConfirmComponent\n            );\n            this.sheet_ref.instance.show_close = true;\n            this.sheet_ref.afterDismissed().subscribe((value) => {\n                if (value) {\n                    this.unsubWith('idle');\n                    this._router.navigate(['/book', 'meeting', 'success']);\n                    this._state.setView('success');\n                }\n            });\n        }\n    };\n\n    @ViewChild('confirm_ref') private _confirm_ref: TemplateRef<any>;\n    @ViewChild('input') private _input_el: ElementRef<HTMLInputElement>;\n\n    constructor(\n        private _state: EventFormService,\n        private _catering: CateringOrderStateService,\n        private _assets: AssetStateService,\n        private _settings: SettingsService,\n        private _router: Router,\n        private _dialog: MatDialog,\n        private _bottom_sheet: MatBottomSheet,\n        private _org: OrganisationService,\n        private _idle: UserIdleTimeService\n    ) {\n        super();\n    }\n\n    private _updateValidAssets() {\n        this.invalid_assets = [];\n        if (!this.event?.id) return;\n        const requested_assets = this.form.value.assets || [];\n        const linked_bookings = this.event?.linked_bookings || [];\n        this.invalid_assets = requested_assets\n            .filter(\n                (_) =>\n                    !_._changed &&\n                    !linked_bookings.find(\n                        (bkn) => bkn.extension_data?.request_id === _.id\n                    )\n            )\n            .map((_) => _.id);\n    }\n\n    public async ngOnInit() {\n        await this._org.initialised.pipe(first((_) => _)).toPromise();\n        this.subscription(\n            'asset_changes',\n            this.form.controls.assets.valueChanges.subscribe(() =>\n                this._updateValidAssets()\n            )\n        );\n        for (const key of ['resources', 'date', 'duration', 'date_end']) {\n            this.subscription(\n                `${key}_changes`,\n                this.form.controls[key].valueChanges.subscribe(() =>\n                    this.timeout('check_resources', () =>\n                        this._space_list.next(this.form.value.resources || [])\n                    )\n                )\n            );\n        }\n        this._catering.setOptions({ zone: '' });\n        this._space_list.next(this.form.value.resources || []);\n        this.subscription(\n            'assets_available',\n            this._assets_available.subscribe((a) => {\n                if (!a) this.form.controls.assets.disable();\n                else this.form.controls.assets.enable();\n            })\n        );\n        this.subscription(\n            'catering_available',\n            this._catering_available.subscribe((a) => {\n                if (!a) this.form.controls.catering.disable();\n                else this.form.controls.catering.enable();\n            })\n        );\n        this.subscription(\n            'idle-listen',\n            this._idle\n                .idleFor(\n                    (this._settings.get('app.idle_timeout') || 5) * 60 * 1000\n                )\n                .subscribe(async () => {\n                    this.unsub('idle');\n                    await openConfirmModal(\n                        {\n                            title: 'Idle Timeout',\n                            content: 'Your form data is out of date',\n                            icon: { content: 'update' },\n                            confirm_text: 'Refresh',\n                        },\n                        this._dialog\n                    );\n                    this._state.newForm();\n                    location.reload();\n                })\n        );\n        this.timeout(\n            'init_valid_assets',\n            () => this._updateValidAssets(),\n            1000\n        );\n    }\n\n    public focusInput() {\n        this.timeout(\n            'input-focus',\n            () => {\n                this._input_el.nativeElement.value = '';\n                this._input_el?.nativeElement?.focus();\n            },\n            300\n        );\n    }\n\n    public findAvailableTime() {\n        const { attendees, organiser, date, duration } = this.form.value;\n        const ref = this._dialog.open(FindAvailabilityModalComponent, {\n            data: {\n                users: attendees,\n                host: organiser || currentUser(),\n                date,\n                duration,\n            },\n        });\n        ref.afterClosed().subscribe((d) => {\n            if (!d) return;\n            this.form.patchValue({\n                date: ref.componentInstance.date,\n                attendees: ref.componentInstance.users.getValue(),\n                duration: ref.componentInstance.duration,\n            });\n        });\n    }\n}\n","import { Component } from '@angular/core';\nimport { SettingsService } from '@placeos/common';\nimport { EventFormService } from '@placeos/events';\nimport { OrganisationService } from '@placeos/organisation';\n\n@Component({\n    selector: 'meeting-flow-success',\n    template: `\n        <div\n            class=\"absolute inset-0 bg-base-100 flex flex-col z-50 overflow-auto\"\n        >\n            <main\n                class=\"flex-1 flex flex-col items-center justify-center space-y-2 p-8\"\n            >\n                <h2 class=\"text-2xl font-medium\">\n                    {{ 'WPA.BOOKING_CONFIRMED' | translate }}\n                </h2>\n                <img src=\"assets/icons/success.svg\" />\n                <p class=\"text-center max-w-[32rem]\" i18n>\n                    Your\n                    <span *ngIf=\"space\">\n                        room booking for\n                        {{ level?.display_name || level?.name\n                        }}<span *ngIf=\"level\">,</span>\n                        {{ space?.display_name || space?.name }}\n                    </span>\n                    <span *ngIf=\"!space\">meeting</span> has been successfully\n                    booked for {{ last_event.date | date: 'mediumDate'\n                    }}<span *ngIf=\"!last_event?.all_day\">\n                        at {{ last_event.date | date: time_format }}-{{\n                            last_event.date + last_event.duration * 60 * 1000\n                                | date: time_format\n                        }}</span\n                    >.\n                </p>\n                <p *ngIf=\"true\">\n                    Please allow up to 5 minutes for you booking to be approved.\n                </p>\n            </main>\n            <footer\n                class=\"sticky bottom-0 bg-base-100 p-2 w-full border-t border-base-200 mt-4 flex items-center justify-center\"\n            >\n                <a\n                    btn\n                    name=\"meeting-created-continue\"\n                    matRipple\n                    class=\"w-full max-w-[32rem]\"\n                    [routerLink]=\"['/']\"\n                >\n                    {{ 'WPA.BOOKING_DONE_CONTINUE' | translate }}\n                </a>\n            </footer>\n        </div>\n    `,\n    styles: [``],\n})\nexport class MeetingFlowSuccessComponent {\n    public get last_event() {\n        return this._event_form.last_success;\n    }\n\n    public get space() {\n        return this.last_event.space;\n    }\n\n    public get level() {\n        return this._org.levelWithID(this.space?.zones);\n    }\n\n    public get time_format() {\n        return this._settings.time_format;\n    }\n\n    constructor(\n        private _event_form: EventFormService,\n        private _org: OrganisationService,\n        private _settings: SettingsService\n    ) {}\n}\n","import { Component, Input } from '@angular/core';\nimport { FormGroup } from '@angular/forms';\nimport { SettingsService } from '@placeos/common';\nimport { EventFormService } from '@placeos/events';\nimport {\n    addDays,\n    addMinutes,\n    differenceInMinutes,\n    endOfDay,\n    format,\n    formatDuration,\n    set,\n    startOfDay,\n} from 'date-fns';\n\n@Component({\n    selector: 'meeting-form-details',\n    template: `\n        <div *ngIf=\"form\" [formGroup]=\"form\">\n            <div class=\"flex items-center flex-wrap sm:space-x-2\">\n                <div class=\"flex-1 min-w-[256px]\">\n                    <label for=\"title\">{{ 'FORM.TITLE' | translate }}</label>\n                    <mat-form-field appearance=\"outline\" class=\"w-full\">\n                        <input\n                            matInput\n                            name=\"title\"\n                            formControlName=\"title\"\n                            placeholder=\"e.g. Team Meeting\"\n                        />\n                        <mat-error>{{\n                            'FORM.TITLE_ERROR' | translate\n                        }}</mat-error>\n                    </mat-form-field>\n                </div>\n                <div\n                    class=\"flex-1 min-w-[256px] relative\"\n                    *ngIf=\"!allow_multiday\"\n                >\n                    <label for=\"date\">\n                        {{ 'FORM.DATE' | translate }}<span>*</span>\n                    </label>\n                    <a-date-field\n                        name=\"date\"\n                        formControlName=\"date\"\n                        [to]=\"end_date\"\n                    >\n                        {{ 'FORM.DATE_ERROR' | translate }}\n                    </a-date-field>\n                    <mat-checkbox\n                        formControlName=\"all_day\"\n                        *ngIf=\"allow_all_day\"\n                        class=\"absolute -top-2 right-2\"\n                    >\n                        {{ 'FORM.ALL_DAY' | translate }}\n                    </mat-checkbox>\n                </div>\n            </div>\n            <div\n                class=\"flex items-center flex-wrap sm:space-x-2\"\n                *ngIf=\"allow_multiday\"\n            >\n                <div class=\"flex-1 min-w-[256px] relative\">\n                    <label for=\"date\">\n                        {{ 'FORM.DATE' | translate }}<span>*</span>\n                    </label>\n                    <a-date-field\n                        name=\"date\"\n                        formControlName=\"date\"\n                        [to]=\"end_date\"\n                    >\n                        {{ 'FORM.DATE_ERROR' | translate }}\n                    </a-date-field>\n                    <mat-checkbox\n                        formControlName=\"all_day\"\n                        *ngIf=\"allow_all_day\"\n                        class=\"absolute -top-2 right-2\"\n                    >\n                        {{ 'FORM.ALL_DAY' | translate }}\n                    </mat-checkbox>\n                </div>\n                <div class=\"flex-1 min-w-[256px] relative\">\n                    <label for=\"date\">\n                        {{ 'FORM.END_DATE' | translate }}<span>*</span>\n                    </label>\n                    <a-date-field\n                        name=\"date\"\n                        formControlName=\"date_end\"\n                        [from]=\"start_date\"\n                        [to]=\"end_date\"\n                    >\n                        {{ 'FORM.DATE_ERROR' | translate }}\n                    </a-date-field>\n                </div>\n            </div>\n            <div\n                class=\"flex items-center space-x-2\"\n                *ngIf=\"!form.value.all_day\"\n            >\n                <div class=\"flex-1 w-1/3\">\n                    <label for=\"start-time\">\n                        {{ 'FORM.START_TIME' | translate }}\n                        <span>*</span>\n                    </label>\n                    <a-time-field\n                        name=\"start-time\"\n                        [ngModel]=\"form.getRawValue().date\"\n                        (ngModelChange)=\"form.patchValue({ date: $event })\"\n                        [ngModelOptions]=\"{ standalone: true }\"\n                        [use_24hr]=\"use_24hr\"\n                    ></a-time-field>\n                </div>\n                <div class=\"flex-1 w-1/3\" *ngIf=\"allow_multiday\">\n                    <label for=\"end-time\">\n                        {{ 'FORM.END_TIME' | translate }}<span>*</span>\n                    </label>\n                    <a-time-field\n                        name=\"end-time\"\n                        [ngModel]=\"form.value.date_end\"\n                        (ngModelChange)=\"form.patchValue({ date_end: $event })\"\n                        [ngModelOptions]=\"{ standalone: true }\"\n                        [from]=\"form?.getRawValue()?.date + 30 * 60 * 1000\"\n                        [use_24hr]=\"use_24hr\"\n                        [extra_info_fn]=\"duration_info\"\n                    ></a-time-field>\n                </div>\n                <div class=\"flex-1 w-1/3\" *ngIf=\"!allow_multiday\">\n                    <label for=\"end-time\">\n                        {{ 'FORM.END_TIME' | translate }}<span>*</span>\n                    </label>\n                    <a-duration-field\n                        name=\"end-time\"\n                        formControlName=\"duration\"\n                        [time]=\"form?.getRawValue()?.date\"\n                        [max]=\"max_duration\"\n                        [use_24hr]=\"use_24hr\"\n                    ></a-duration-field>\n                </div>\n            </div>\n            <div *ngIf=\"can_book_for_others\" class=\"w-full flex flex-col\">\n                <label for=\"host\">\n                    {{ 'FORM.HOST' | translate }}<span>*</span>\n                </label>\n                <host-select-field\n                    name=\"host\"\n                    formControlName=\"organiser\"\n                ></host-select-field>\n            </div>\n            <div *ngIf=\"allow_recurrence\" class=\"w-full flex flex-col\">\n                <label for=\"recurrence\">\n                    {{ 'FORM.RECURRENCE' | translate }}<span>*</span>\n                </label>\n                <recurrence-field\n                    name=\"recurrence\"\n                    [date]=\"form.getRawValue().date\"\n                    formControlName=\"recurrence\"\n                ></recurrence-field>\n                <mat-checkbox\n                    *ngIf=\"form.value.id\"\n                    formControlName=\"update_master\"\n                >\n                    Update all future events\n                </mat-checkbox>\n            </div>\n        </div>\n    `,\n    styles: [],\n})\nexport class MeetingFormDetailsComponent {\n    @Input() public form: FormGroup;\n\n    public readonly force_time = set(Date.now(), {\n        hours: 6,\n        minutes: 0,\n    }).valueOf();\n\n    public get max_duration() {\n        return this._settings.get('app.events.max_duration') || 480;\n    }\n\n    public get can_book_for_others() {\n        return this._settings.get('app.events.can_book_for_others');\n    }\n\n    public get allow_all_day() {\n        return this._settings.get('app.events.allow_all_day');\n    }\n\n    public get allow_recurrence() {\n        return (\n            this._settings.get('app.events.allow_recurrence') &&\n            this.form.value.duration <= 24 * 60\n        );\n    }\n\n    public get allow_multiday() {\n        return (\n            this._settings.get('app.events.allow_multiday') ||\n            this._event_form.is_multiday\n        );\n    }\n\n    public get start_date() {\n        const date = this.form.getRawValue().date;\n        const date_end = this.form.getRawValue().date_end;\n        const is_next_day =\n            format(date, 'yyyy-MM-dd') !== format(date_end, 'yyyy-MM-dd');\n        return is_next_day\n            ? startOfDay(date).valueOf()\n            : addMinutes(date, 30).valueOf();\n    }\n\n    public get end_date() {\n        return endOfDay(\n            addDays(\n                Date.now(),\n                this._settings.get('app.events.allowed_future_days') || 180\n            )\n        ).valueOf();\n    }\n\n    public get use_24hr() {\n        return this._settings.get('app.use_24_hour_time');\n    }\n\n    public readonly duration_info = (time: number) => {\n        const date = this.form.getRawValue().date;\n        if (format(date, 'yyyy-MM-dd') !== format(time, 'yyyy-MM-dd'))\n            return '';\n        const diff = differenceInMinutes(time, date);\n        return ` (${formatDuration({\n            hours: Math.floor(diff / 60),\n            minutes: diff % 60,\n        })})`;\n    };\n\n    constructor(\n        private _settings: SettingsService,\n        private _event_form: EventFormService\n    ) {}\n}\n","import { Component, OnInit } from '@angular/core';\nimport { ActivatedRoute } from '@angular/router';\nimport { BookingFormService } from '@placeos/bookings';\nimport { AsyncHandler, notifyInfo } from '@placeos/common';\nimport { Desk, OrganisationService } from '@placeos/organisation';\nimport { first, take } from 'rxjs/operators';\n\n@Component({\n    selector: 'placeos-new-book-desk-flow',\n    template: `\n        <div class=\"bg-base-100 h-full w-full z-50\">\n            <ng-container [ngSwitch]=\"view\">\n                <ng-container *ngSwitchCase=\"'success'\">\n                    <new-desk-flow-success></new-desk-flow-success>\n                </ng-container>\n                <ng-container *ngSwitchDefault>\n                    <new-desk-flow-form></new-desk-flow-form>\n                </ng-container>\n            </ng-container>\n        </div>\n    `,\n    styles: [\n        `\n            :host {\n                height: 100%;\n                width: 100%;\n            }\n        `,\n    ],\n})\nexport class NewDeskFlowComponent extends AsyncHandler implements OnInit {\n    public get view() {\n        return this._state.view;\n    }\n    public get last_success() {\n        return this._state.last_success;\n    }\n\n    constructor(\n        private _state: BookingFormService,\n        private _route: ActivatedRoute,\n        private _org: OrganisationService\n    ) {\n        super();\n    }\n\n    public async ngOnInit() {\n        await this._org.initialised.pipe(first((_) => _)).toPromise();\n        this._state.loadForm();\n        this._state.setOptions({ type: 'desk' });\n        this._state.form.patchValue({ booking_type: 'desk' });\n        this.subscription(\n            'route.params',\n            this._route.paramMap.subscribe((param) => {\n                if (param.has('step'))\n                    this._state.setView(param.get('step') as any);\n            })\n        );\n        this.subscription(\n            'route.query',\n            this._route.queryParamMap.subscribe(async (params) => {\n                if (params.has('success')) {\n                    this._state.setView(params.get('success') as any);\n                }\n                if (params.has('asset_id')) {\n                    const id = params.get('asset_id');\n                    const resources = await this._state.resources\n                        .pipe(take(1))\n                        .toPromise();\n                    let asset = resources.find((_) => _.id === id);\n                    if (!asset) {\n                        return notifyInfo(\n                            'Unable to find desk with given asset ID.'\n                        );\n                    }\n                    this._state.form.patchValue({\n                        resources: [\n                            new Desk({\n                                id: asset.id,\n                                name: asset.name || asset.id,\n                            }),\n                        ],\n                    });\n                }\n            })\n        );\n    }\n}\n","import { Component, Input, Optional } from '@angular/core';\nimport { MatBottomSheetRef } from '@angular/material/bottom-sheet';\nimport { BookingFormService } from '@placeos/bookings';\nimport { AsyncHandler, SettingsService, notifyError } from '@placeos/common';\nimport { Desk, OrganisationService } from '@placeos/organisation';\nimport { addMinutes, endOfDay } from 'date-fns';\nimport { map, take } from 'rxjs/operators';\n\n@Component({\n    selector: 'new-desk-flow-confirm',\n    styles: [\n        `\n            section > app-icon {\n                font-size: 1.5rem;\n                margin-top: 0.3rem;\n            }\n\n            h3 {\n                font-size: 1.25rem;\n                font-weight: medium;\n                margin: 0.5rem 0;\n            }\n        `,\n    ],\n    template: `\n        <button\n            icon\n            name=\"close-desk-confirm\"\n            matRipple\n            class=\"absolute right-2 top-2 bg-base-200\"\n            *ngIf=\"show_close\"\n            (click)=\"dismiss()\"\n        >\n            <app-icon>close</app-icon>\n        </button>\n        <header class=\"flex items-center justify-between px-4 pt-4\">\n            <h2 class=\"text-2xl font-medium mb-2\" i18n>Confirm Desk Booking</h2>\n            <mat-spinner diameter=\"32\" *ngIf=\"loading | async\"></mat-spinner>\n        </header>\n        <section period class=\"flex space-x-1 py-4 px-2\">\n            <app-icon class=\"text-success\">done</app-icon>\n            <div details class=\"leading-6\">\n                <h3>{{ booking.title || '~Untitled~' }}</h3>\n                <div class=\"flex items-center space-x-2\">\n                    <app-icon>calendar_today</app-icon>\n                    <div date>{{ booking.date | date: 'fullDate' }}</div>\n                </div>\n                <div class=\"flex items-center space-x-2\">\n                    <app-icon>schedule</app-icon>\n                    <div time>\n                        {{\n                            booking.all_day\n                                ? 'All Day'\n                                : (booking.date | date: time_format) +\n                                  ' - ' +\n                                  (booking.date + booking.duration * 60 * 1000\n                                      | date: time_format + ' (z)')\n                        }}\n                    </div>\n                </div>\n            </div>\n        </section>\n        <section\n            desk\n            class=\"flex space-x-1 py-4 px-2 border-t border-neutral\"\n            *ngIf=\"booking_asset?.id\"\n        >\n            <app-icon class=\"text-success\">done</app-icon>\n            <div details class=\"leading-6\">\n                <h3 name>\n                    {{ booking_asset?.name || booking_asset?.id || '' }}\n                </h3>\n                <div class=\"flex items-center space-x-2\">\n                    <app-icon>person</app-icon>\n                    <span i18n>{{\n                        (is_group | async) ? 'Multiple Desks' : 'Single desk'\n                    }}</span>\n                </div>\n                <div class=\"flex items-center space-x-2\">\n                    <app-icon>place</app-icon>\n                    <div>{{ location }}</div>\n                </div>\n                <ng-container *ngFor=\"let feat of booking_asset.features\">\n                    <div features class=\"flex items-center space-x-2\">\n                        <app-icon>arrow_upward</app-icon>\n                        <div>{{ feat }}</div>\n                    </div>\n                </ng-container>\n            </div>\n        </section>\n        <section\n            assets\n            class=\"flex space-x-1 py-4 px-2 border-t max-h-[50vh] overflow-auto\"\n        >\n            <app-icon class=\"text-success\">done</app-icon>\n            <div details class=\"flex-1 leading-6 w-1/2 pr-2\">\n                <h3 i18n>Asset Requests</h3>\n                <div\n                    request\n                    *ngFor=\"let request of assets\"\n                    class=\"border bg-base-100 rounded-xl overflow-hidden\"\n                    [class.border-error]=\"end_time < request.deliver_at\"\n                    [class.border-base-300]=\"end_time >= request.deliver_at\"\n                >\n                    <div class=\"flex items-center space-x-2 p-3\">\n                        <div class=\"flex-1 flex items-center space-x-2\">\n                            <div class=\"text-sm\">\n                                Requested for\n                                {{\n                                    request.deliver_at_time\n                                        | date: 'MMM d, ' + time_format\n                                }}\n                            </div>\n                            <div\n                                class=\"flex items-center justify-center h-6 w-6 rounded-full bg-error text-error-content\"\n                                [matTooltip]=\"err_tooltip\"\n                                *ngIf=\"end_time < request.deliver_at\"\n                            >\n                                <app-icon>priority_high</app-icon>\n                            </div>\n                            <div class=\"flex-1\"></div>\n                            <div\n                                class=\"text-xs bg-success text-success-content px-2 py-1 rounded\"\n                            >\n                                {{ request.item_count }} item(s)\n                            </div>\n                        </div>\n                    </div>\n                    <div\n                        class=\"flex flex-col bg-base-200 divide-y divide-base-100\"\n                    >\n                        <div\n                            class=\"flex items-center px-3 py-1 space-x-2 hover:opacity-90\"\n                            *ngFor=\"let item of request.items\"\n                        >\n                            <div class=\"flex items-center flex-1\">\n                                <span class=\"text-sm\">{{\n                                    item.name || 'Item'\n                                }}</span>\n                            </div>\n                            <div\n                                class=\"rounded bg-success text-success-content text-xs px-2 py-1\"\n                            >\n                                x{{ item.quantity }}\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </section>\n        <section\n            locker\n            class=\"flex space-x-1 py-4 px-2 border-t\"\n            *ngIf=\"needs_locker\"\n        >\n            <app-icon class=\"text-success\">done</app-icon>\n            <div details class=\"leading-6\">\n                <h3 i18n>Requested Locker</h3>\n                <div class=\"flex space-x-2\">\n                    <span>Locker E-043</span>\n                </div>\n            </div>\n        </section>\n        <footer class=\"p-2 w-full border-t border-base-200 mt-4\">\n            <button\n                name=\"confirm-desk\"\n                btn\n                matRipple\n                class=\"w-full\"\n                *ngIf=\"!(loading | async)\"\n                (click)=\"postForm()\"\n                i18n\n            >\n                Confirm\n            </button>\n        </footer>\n    `,\n})\nexport class NewDeskFlowConfirmComponent extends AsyncHandler {\n    @Input() public show_close: boolean = false;\n\n    public readonly loading = this._state.loading;\n    public readonly is_group = this._state.options.pipe(map((_) => _.group));\n\n    public readonly postForm = async () => {\n        try {\n            if ((await this._state.options.pipe(take(1)).toPromise())?.group) {\n                await this._state.postFormForGroup();\n            } else {\n                await this._state.postForm();\n            }\n            this.dismiss(true);\n        } catch (e) {\n            console.log('Booking Error:', e);\n            notifyError(\n                typeof e === 'string'\n                    ? e\n                    : `Desk unavailable at the selected time`\n            );\n        }\n    };\n    public readonly dismiss = (e?) => this._sheet_ref?.dismiss(e);\n\n    public get end_time() {\n        const end = addMinutes(\n            this.booking.date,\n            this.booking.duration\n        ).valueOf();\n        return this.booking.all_day ? endOfDay(end).valueOf() : end;\n    }\n\n    public get booking() {\n        return this._state.form.value as any;\n    }\n\n    public get time_format() {\n        return this._settings.time_format;\n    }\n\n    public get assets() {\n        return this.booking.assets || null;\n    }\n\n    public get needs_locker() {\n        return !!this.booking.secondary_resource;\n    }\n\n    public get assets_count() {\n        return this.assets?.length\n            ? this.assets.reduce((a, b) => a + b.amount, 0)\n            : 0;\n    }\n\n    public get booking_asset() {\n        return this.booking.booking_asset as Desk;\n    }\n\n    public get location() {\n        const building = this._org.buildings.find(\n            (b) => b.id === this.booking_asset?.zone?.parent_id\n        );\n        const level = this._org.levels.find(\n            (l) => l.id === this.booking_asset?.zone?.id\n        );\n        return `${level?.display_name || level?.name}${building ? ',' : ''} ${\n            building?.address || building?.display_name || building?.name || ''\n        }`;\n    }\n\n    constructor(\n        private _state: BookingFormService,\n        private _org: OrganisationService,\n        @Optional() private _sheet_ref: MatBottomSheetRef,\n        private _settings: SettingsService\n    ) {\n        super();\n    }\n}\n","import { Component, OnInit } from '@angular/core';\nimport {\n    MatBottomSheet,\n    MatBottomSheetRef,\n} from '@angular/material/bottom-sheet';\nimport { Router } from '@angular/router';\nimport { BookingFormService } from '@placeos/bookings';\nimport {\n    getInvalidFields,\n    notifyError,\n    SettingsService,\n} from '@placeos/common';\nimport { Desk, OrganisationService } from '@placeos/organisation';\nimport { isBefore, startOfMinute } from 'date-fns';\nimport { first } from 'rxjs/operators';\nimport { NewDeskFlowConfirmComponent } from './new-desk-flow-confirm.component';\n\n@Component({\n    selector: 'new-desk-flow-form',\n    styles: [],\n    template: `\n        <div class=\"h-full w-full bg-base-200 overflow-auto\">\n            <div\n                class=\"max-w-full w-[48rem] mx-auto sm:my-4 bg-base-100 border border-base-200\"\n            >\n                <h2\n                    class=\"w-full p-4 sm:py-4 sm:px-16 text-2xl font-medium border-b border-base-200\"\n                    i18n\n                >\n                    Book Desk\n                </h2>\n                <new-desk-form-details [form]=\"form\"></new-desk-form-details>\n                <div class=\"sm:mb-2 border-b border-base-200 w-full\"></div>\n                <section\n                    class=\"flex flex-col sm:flex-row items-center sm:space-x-2 p-2 sm:px-16 sm:mb-2\"\n                >\n                    <button\n                        btn\n                        name=\"open-desk-confirm\"\n                        matRipple\n                        confirm\n                        class=\"w-full sm:w-auto\"\n                        (click)=\"viewConfirm()\"\n                        i18n\n                    >\n                        Confirm Desk\n                    </button>\n                </section>\n            </div>\n        </div>\n    `,\n})\nexport class NewDeskFlowFormComponent implements OnInit {\n    public sheet_ref: MatBottomSheetRef<any>;\n    public level = '';\n    public levels = [];\n\n    public get form() {\n        return this._state.form;\n    }\n\n    public readonly clearForm = () => {\n        this.level = this._org.building.id;\n        this._state.clearForm();\n    };\n\n    public readonly viewConfirm = () => {\n        const { asset_id, resources } = this.form.getRawValue();\n        if (resources?.length && !asset_id) {\n            this.form.patchValue({ asset_id: resources[0].id });\n        }\n        if (!this.form.valid)\n            return notifyError(\n                `Some fields are invalid. [${getInvalidFields(this.form).join(\n                    ', '\n                )}]`\n            );\n        this.sheet_ref = this._bottom_sheet.open(NewDeskFlowConfirmComponent);\n        this.sheet_ref.instance.show_close = true;\n        this.sheet_ref.afterDismissed().subscribe((value) => {\n            if (value) {\n                this._state.setView('success');\n                this._router.navigate(['/book', 'new-desks', 'success']);\n            }\n        });\n    };\n\n    constructor(\n        private _state: BookingFormService,\n        private _router: Router,\n        private _org: OrganisationService,\n        private _bottom_sheet: MatBottomSheet,\n        private _settings: SettingsService\n    ) {}\n\n    public async ngOnInit() {\n        await this._org.initialised.pipe(first((_) => _));\n        await this._org.active_levels.pipe(first((_) => _?.length > 0));\n        this._state.setOptions({ type: 'desk' });\n        this.level = this._org.building?.id;\n        this.levels = [\n            { id: this._org.building?.id, name: 'Any Level' },\n            ...this._org.levelsForBuilding(this._org.building),\n        ];\n        if (isBefore(this.form.value.date, Date.now())) {\n            this.form.patchValue({ date: startOfMinute(Date.now()).valueOf() });\n        }\n    }\n}\n","import { Component } from '@angular/core';\nimport { BookingFormService } from '@placeos/bookings';\nimport { SettingsService } from '@placeos/common';\nimport {\n    generateCalendarFileLink,\n    generateGoogleCalendarLink,\n    generateMicrosoftCalendarLink,\n} from 'libs/common/src/lib/calendar-links';\n\n@Component({\n    selector: 'new-desk-flow-success',\n    styles: [],\n    template: `\n        <div\n            class=\"absolute inset-0 bg-base-100 flex flex-col z-50 overflow-auto\"\n        >\n            <main\n                class=\"flex-1 flex flex-col items-center justify-center space-y-2 p-8\"\n            >\n                <h2 class=\"text-2xl font-medium text-center\" i18n>\n                    {{ last_event.asset_name || last_event.asset_id\n                    }}{{ location }} Booked!\n                </h2>\n                <img src=\"assets/icons/success.svg\" />\n                <p class=\"text-center\" i18n>\n                    Your\n                    <span group *ngIf=\"last_event?.attendees?.length\">\n                        group of\n                        {{ last_event?.attendees?.length + 1 }}\n                    </span>\n                    desk{{ last_event?.attendees?.length ? 's' : '' }} has been\n                    successfully booked\n                    <span\n                        assets\n                        *ngIf=\"last_event?.extension_data?.assets?.length\"\n                    >\n                        including\n                        {{ last_event?.extension_data?.assets?.length }}\n                        asset(s)\n                    </span>\n                    for {{ last_event.date | date: 'mediumDate' }}\n                    <span *ngIf=\"!last_event?.all_day\">\n                        at {{ last_event.date | date: time_format }}-{{\n                            last_event.date + last_event.duration * 60 * 1000\n                                | date: time_format\n                        }}</span\n                    >.\n                </p>\n                <p *ngIf=\"true\">\n                    Please allow up to 5 minutes for you booking to be approved.\n                </p>\n                <div\n                    class=\"flex flex-col items-center space-y-4 p-4 relative\"\n                    *ngIf=\"show_links\"\n                >\n                    <a\n                        btn\n                        matRipple\n                        name=\"desk-outlook-link\"\n                        class=\"flex items-center p-2 space-x-2 pr-4 w-64 rounded inverse\"\n                        [href]=\"outlook_link | sanitize: 'url'\"\n                        target=\"_blank\"\n                        rel=\"noopener noreferer\"\n                    >\n                        <img src=\"assets/icons/outlook.svg\" class=\"w-6\" />\n                        <span i18n>Add to Outlook</span>\n                    </a>\n                    <a\n                        btn\n                        matRipple\n                        name=\"desk-google-link\"\n                        class=\"flex items-center p-2 space-x-2 pr-4 w-64 rounded inverse\"\n                        [href]=\"google_link | sanitize: 'url'\"\n                        target=\"_blank\"\n                        rel=\"noopener noreferer\"\n                    >\n                        <img src=\"assets/icons/gcal.svg\" class=\"w-6\" />\n                        <span i18n>Add to Google Calendar</span>\n                    </a>\n                    <a\n                        btn\n                        matRipple\n                        name=\"desk-ical-link\"\n                        class=\"flex items-center p-2 space-x-2 pr-4 w-64 rounded inverse\"\n                        [href]=\"ical_link | safe: 'url'\"\n                        target=\"_blank\"\n                        rel=\"noopener noreferer\"\n                    >\n                        <app-icon class=\"text-xl\">download</app-icon>\n                        <span i18n>Download iCal File</span>\n                    </a>\n                </div>\n            </main>\n            <footer\n                class=\"sticky bottom-0 p-2 w-full border-t bg-base-100 border-base-200 mt-4 flex items-center justify-center\"\n            >\n                <a\n                    btn\n                    name=\"desk-confirm-continue\"\n                    matRipple\n                    class=\"w-full max-w-[32rem] mx-auto\"\n                    [routerLink]=\"['/']\"\n                    i18n\n                >\n                    Great, thanks!\n                </a>\n            </footer>\n        </div>\n    `,\n})\nexport class NewDeskFlowSuccessComponent {\n    public outlook_link = '';\n    public google_link = '';\n    public ical_link = '';\n    public get location() {\n        const desk = this.last_event?.extension_data?.booking_asset;\n        if (!desk) return '';\n        return desk.zone\n            ? `, ${desk.zone.display_name || desk.zone.name || desk.zone.id}`\n            : '';\n    }\n\n    public get last_event() {\n        return this._state.last_success;\n    }\n\n    public get show_links() {\n        return this._settings.get('app.desks.show_calendar_links');\n    }\n\n    public readonly viewCalendarLinks = () =>\n        this._state.openBookingLinkModal();\n\n    public get time_format() {\n        return this._settings.time_format;\n    }\n\n    constructor(\n        private _state: BookingFormService,\n        private _settings: SettingsService\n    ) {}\n\n    public ngOnInit() {\n        const event: any = {\n            ...this.last_event,\n            location: `${this.location}, ${this.last_event.asset_name || ''}`,\n        };\n        this.outlook_link = generateMicrosoftCalendarLink(event);\n        this.google_link = generateGoogleCalendarLink(event);\n        this.ical_link = generateCalendarFileLink(event);\n    }\n}\n","import {\n    Component,\n    EventEmitter,\n    Input,\n    Output,\n    SimpleChanges,\n} from '@angular/core';\nimport { FormGroup } from '@angular/forms';\nimport { BookingFormService } from '@placeos/bookings';\nimport { AsyncHandler, SettingsService } from '@placeos/common';\nimport { Desk, OrganisationService } from '@placeos/organisation';\nimport { addDays, endOfDay, set } from 'date-fns';\n\n@Component({\n    selector: 'new-desk-form-details',\n    styles: [],\n    template: `\n        <!-- <div class=\"m-2 bg-warning p-2 text-center rounded shadow text-sm\">\n            The selected desk hasn't been booked. Please book the desk to be\n            able to check-in.\n        </div> -->\n        <div\n            class=\"p-0 sm:py-4 sm:px-16 divide-y divide-base-200 space-y-2\"\n            *ngIf=\"form\"\n            [formGroup]=\"form\"\n        >\n            <section class=\"flex items-center\" *ngIf=\"allow_groups\">\n                <button\n                    matRipple\n                    class=\"relative h-16 flex items-center justify-center flex-1 space-x-2\"\n                    [class.text-secondary]=\"!(options | async)?.group\"\n                    (click)=\"setOptions({ group: false, members: [] })\"\n                >\n                    <app-icon class=\"text-2xl\">person</app-icon>\n                    <div class=\"\" i18n>Single</div>\n                    <div\n                        class=\"absolute h-1 inset-x-0 bottom-0 !m-0\"\n                        [class.bg-base-200]=\"(options | async)?.group\"\n                        [class.bg-secondary]=\"!(options | async)?.group\"\n                    ></div>\n                </button>\n                <button\n                    matRipple\n                    class=\"relative h-16 flex items-center justify-center flex-1 space-x-2\"\n                    [class.text-secondary]=\"(options | async)?.group\"\n                    (click)=\"setOptions({ group: true })\"\n                >\n                    <app-icon class=\"text-2xl\">group_add</app-icon>\n                    <div class=\"\" i18n>Group</div>\n                    <div\n                        class=\"absolute h-1 inset-x-0 bottom-0 !m-0\"\n                        [class.bg-base-200]=\"!(options | async)?.group\"\n                        [class.bg-secondary]=\"(options | async)?.group\"\n                    ></div>\n                </button>\n            </section>\n            <section class=\"p-2\" [class.!border-none]=\"allow_groups\">\n                <h3 class=\"space-x-2 flex items-center mb-4\">\n                    <div\n                        class=\"bg-base-200 rounded-full h-6 w-6 flex items-center justify-center\"\n                    >\n                        1\n                    </div>\n                    <div class=\"text-xl\" i18n>Details</div>\n                </h3>\n                <div\n                    class=\"w-full\"\n                    *ngIf=\"can_book_for_others && !(options | async)?.group\"\n                >\n                    <label for=\"title\">Host<span>*</span></label>\n                    <a-user-search-field\n                        formControlName=\"user\"\n                        class=\"mb-4\"\n                    ></a-user-search-field>\n                </div>\n                <div class=\"flex items-center flex-wrap sm:space-x-2\">\n                    <div class=\"flex-1 min-w-[256px]\">\n                        <label for=\"title\">Add Title<span>*</span></label>\n                        <mat-form-field appearance=\"outline\" class=\"w-full\">\n                            <input\n                                matInput\n                                name=\"title\"\n                                formControlName=\"title\"\n                                placeholder=\"e.g. Focus Time\"\n                            />\n                            <mat-error i18n\n                                >Booking title is required.</mat-error\n                            >\n                        </mat-form-field>\n                    </div>\n                    <div class=\"flex-1 min-w-[256px] relative\">\n                        <label for=\"date\" i18n>Date<span>*</span></label>\n                        <a-date-field\n                            name=\"date\"\n                            formControlName=\"date\"\n                            [to]=\"end_date\"\n                            i18n\n                        >\n                            Date and time must be in the future\n                        </a-date-field>\n                        <mat-checkbox\n                            formControlName=\"all_day\"\n                            *ngIf=\"allow_all_day\"\n                            class=\"absolute -top-2 right-0\"\n                            i18n\n                        >\n                            All Day\n                        </mat-checkbox>\n                    </div>\n                </div>\n                <div\n                    class=\"flex items-center space-x-2\"\n                    *ngIf=\"!form.value.all_day\"\n                >\n                    <div class=\"flex-1 w-1/3\">\n                        <label for=\"start-time\" i18n>\n                            Start Time<span>*</span>\n                        </label>\n                        <a-time-field\n                            name=\"start-time\"\n                            [ngModel]=\"form.value.date\"\n                            (ngModelChange)=\"form.patchValue({ date: $event })\"\n                            [ngModelOptions]=\"{ standalone: true }\"\n                            [use_24hr]=\"use_24hr\"\n                        ></a-time-field>\n                    </div>\n                    <div class=\"flex-1 w-1/3\">\n                        <label for=\"end-time\" i18n>\n                            End Time<span>*</span>\n                        </label>\n                        <a-duration-field\n                            name=\"end-time\"\n                            formControlName=\"duration\"\n                            [time]=\"form.get('date')?.value\"\n                            [max]=\"10 * 60\"\n                            [min]=\"60\"\n                            [step]=\"60\"\n                            [use_24hr]=\"use_24hr\"\n                        >\n                        </a-duration-field>\n                    </div>\n                </div>\n                <div\n                    class=\"flex items-center space-x-2\"\n                    *ngIf=\"can_book_lockers\"\n                >\n                    <div class=\"flex-1 w-1/3\">\n                        <mat-checkbox\n                            [ngModel]=\"!!form.value.secondary_resource\"\n                            (ngModelChange)=\"\n                                form.patchValue({\n                                    secondary_resource: $event ? 'locker' : ''\n                                })\n                            \"\n                            [ngModelOptions]=\"{ standalone: true }\"\n                            i18n\n                        >\n                            Require locker\n                        </mat-checkbox>\n                    </div>\n                </div>\n            </section>\n            <section class=\"p-2\" *ngIf=\"(options | async)?.group\">\n                <h3 class=\"space-x-2 flex items-center\">\n                    <div\n                        class=\"bg-base-200 rounded-full h-6 w-6 flex items-center justify-center\"\n                    >\n                        2\n                    </div>\n                    <div class=\"text-xl\" i18n>Group Members</div>\n                    <div class=\"flex-1 w-px\"></div>\n                </h3>\n                <div class=\"overflow-hidden\">\n                    <a-user-list-field\n                        class=\"mt-4\"\n                        [ngModel]=\"(options | async)?.members || []\"\n                        (ngModelChange)=\"setOptions({ members: $event })\"\n                        [ngModelOptions]=\"{ standalone: true }\"\n                    ></a-user-list-field>\n                </div>\n            </section>\n            <section class=\"p-2\" *ngIf=\"form.contains('resources')\">\n                <h3 class=\"space-x-2 flex items-center mb-4\">\n                    <div\n                        class=\"bg-base-200 rounded-full h-6 w-6 flex items-center justify-center\"\n                    >\n                        {{ (options | async)?.group ? 3 : 2 }}\n                    </div>\n                    <div class=\"text-xl\" i18n>Desk</div>\n                </h3>\n                <desk-list-field formControlName=\"resources\"></desk-list-field>\n                <p\n                    *ngIf=\"(options | async)?.group\"\n                    class=\"text-center rounded px-2 py-1 bg-warning shadow text-xs\"\n                >\n                    Desks nearby to the selected desk will booked for group\n                    members\n                </p>\n            </section>\n            <section class=\"p-2\" *ngIf=\"has_assets\">\n                <h3 class=\"space-x-2 flex items-center mb-4\">\n                    <div\n                        class=\"bg-base-200 rounded-full h-6 w-6 flex items-center justify-center\"\n                    >\n                        {{ (options | async)?.group ? 4 : 3 }}\n                    </div>\n                    <div class=\"text-xl\" i18n>Request Asset</div>\n                </h3>\n                <asset-list-field\n                    [options]=\"{\n                        date: form.getRawValue().date,\n                        duration: form.value.duration,\n                        all_day: form.value.all_day,\n                    }\"\n                    formControlName=\"assets\"\n                ></asset-list-field>\n            </section>\n        </div>\n    `,\n})\nexport class NewDeskFormDetailsComponent extends AsyncHandler {\n    @Input() public form: FormGroup;\n    @Output() public find = new EventEmitter<void>();\n    /** List of available buildings to select */\n    public readonly buildings = this._org.building_list;\n    /** List of available levels for the selected building */\n    public readonly levels = this._org.active_levels;\n    /** List of set options for desk booking */\n    public readonly options = this._state.options;\n    /** List of set options for desk booking */\n    public readonly features = this._state.features;\n\n    public readonly force_time = set(Date.now(), {\n        hours: 6,\n        minutes: 0,\n    }).valueOf();\n\n    /** Selected desk for booking */\n    public selected_desk: Desk;\n    public from_id = false;\n\n    public readonly recurrence_options = ['daily', 'weekly', 'monthly'];\n\n    public get building() {\n        return this._org.building;\n    }\n    public set building(bld) {\n        this._org.building = bld;\n    }\n\n    public readonly setOptions = (o) => this._state.setOptions(o);\n\n    public readonly setFeature = (f, e) => this._state.setFeature(f, e);\n\n    public get can_book_for_others() {\n        return this._settings.get('app.desks.can_book_for_others');\n    }\n\n    public get can_book_lockers() {\n        return this._settings.get('app.desks.can_book_lockers');\n    }\n    public get can_recurr() {\n        return this._settings.get('app.desks.recurrence_allowed');\n    }\n\n    public get allow_groups() {\n        return this._settings.get('app.desks.allow_groups');\n    }\n\n    public get has_assets() {\n        return !!this._settings.get('app.desks.has_assets');\n    }\n\n    public get needs_reason() {\n        return this._settings.get('app.desks.needs_reason') === true;\n    }\n\n    public get allow_time_changes() {\n        return !!this._settings.get('app.desks.allow_time_changes');\n    }\n\n    public get allow_all_day() {\n        return (\n            this.allow_time_changes &&\n            !!this._settings.get('app.desks.allow_all_day')\n        );\n    }\n\n    public get end_date() {\n        return endOfDay(\n            addDays(\n                Date.now(),\n                this._settings.get('app.desks.available_period') || 90\n            )\n        ).valueOf();\n    }\n\n    public get use_24hr() {\n        return this._settings.get('app.use_24_hour_time');\n    }\n\n    constructor(\n        private _state: BookingFormService,\n        private _org: OrganisationService,\n        private _settings: SettingsService\n    ) {\n        super();\n    }\n\n    public ngOnChanges(changes: SimpleChanges) {\n        if (changes.form && this.form) {\n            if (this.selected_desk?.id) {\n                this.form.patchValue({ resources: [this.selected_desk] });\n            }\n        }\n    }\n}\n","import { Component, OnInit } from '@angular/core';\nimport { ActivatedRoute } from '@angular/router';\nimport { BookingFormService } from '@placeos/bookings';\nimport { AsyncHandler } from '@placeos/common';\n\n@Component({\n    selector: 'placeos-new-parking-flow',\n    template: `\n        <div class=\"bg-base-100 h-full w-full z-50\" [ngSwitch]=\"view\">\n            <parking-flow-success *ngSwitchCase=\"'success'\">\n            </parking-flow-success>\n            <parking-flow-confirm *ngSwitchCase=\"'confirm'\">\n            </parking-flow-confirm>\n            <parking-flow-form *ngSwitchDefault></parking-flow-form>\n        </div>\n    `,\n    styles: [\n        `\n            :host {\n                height: 100%;\n                width: 100%;\n            }\n        `,\n    ],\n})\nexport class NewParkingFlowComponent extends AsyncHandler implements OnInit {\n    public get view() {\n        return this._state.view;\n    }\n    public get last_success() {\n        return this._state.last_success;\n    }\n\n    constructor(\n        private _state: BookingFormService,\n        private _route: ActivatedRoute\n    ) {\n        super();\n    }\n\n    public ngOnInit() {\n        this._state.loadForm();\n        if (!this._state.form) this._state.newForm();\n        this._state.setOptions({ type: 'parking' });\n        this._state.form.patchValue({ booking_type: 'parking' });\n        this.subscription(\n            'route.params',\n            this._route.paramMap.subscribe((param) => {\n                if (param.has('step'))\n                    this._state.setView(param.get('step') as any);\n            })\n        );\n        this.subscription(\n            'route.query',\n            this._route.queryParamMap.subscribe((param) => {\n                if (param.has('success')) this._state.setView('success');\n            })\n        );\n    }\n}\n","import { Component, Input, Optional } from '@angular/core';\nimport { MatBottomSheetRef } from '@angular/material/bottom-sheet';\nimport { BookingFormService } from '@placeos/bookings';\nimport { AsyncHandler, SettingsService, notifyError } from '@placeos/common';\nimport { OrganisationService } from '@placeos/organisation';\n\n@Component({\n    selector: 'new-parking-flow-confirm',\n    template: ` <button\n            close\n            icon\n            matRipple\n            *ngIf=\"show_close\"\n            (click)=\"dismiss()\"\n        >\n            <app-icon>close</app-icon>\n        </button>\n        <header class=\"flex items-center justify-between px-2\">\n            <h2 class=\"text-2xl font-medium mb-2\" i18n>\n                Confirm Parking Reservation\n            </h2>\n            <mat-spinner diameter=\"32\" *ngIf=\"loading | async\"></mat-spinner>\n        </header>\n        <section period class=\"flex space-x-1 py-4 px-2\">\n            <app-icon class=\"text-success\">done</app-icon>\n            <div details class=\"leading-6\">\n                <h3>{{ booking.title || '~Untitled~' }}</h3>\n                <div class=\"flex items-center space-x-2\">\n                    <app-icon>calendar_today</app-icon>\n                    <div date>{{ booking.date | date: 'fullDate' }}</div>\n                </div>\n                <div class=\"flex items-center space-x-2\">\n                    <app-icon>schedule</app-icon>\n                    <div time>\n                        {{\n                            booking.all_day\n                                ? 'All Day'\n                                : (booking.date | date: time_format) +\n                                  ' - ' +\n                                  (booking.date + booking.duration * 60 * 1000\n                                      | date: time_format + ' (z)')\n                        }}\n                    </div>\n                </div>\n            </div>\n        </section>\n        <section\n            resource\n            class=\"flex space-x-1 py-4 px-2 border-t\"\n            *ngIf=\"booking_asset?.id\"\n        >\n            <app-icon class=\"text-success\">done</app-icon>\n            <div details class=\"leading-6\">\n                <h3 name>\n                    {{ booking_asset?.name || booking_asset?.id || '' }}\n                </h3>\n                <div class=\"flex items-center space-x-2\">\n                    <app-icon>person</app-icon>\n                    <span i18n>Car Park</span>\n                </div>\n                <div class=\"flex items-center space-x-2\">\n                    <app-icon>place</app-icon>\n                    <div>{{ location }}</div>\n                </div>\n                <ng-container *ngFor=\"let feat of booking_asset.features\">\n                    <div features class=\"flex items-center space-x-2\">\n                        <app-icon>arrow_upward</app-icon>\n                        <div>{{ feat }}</div>\n                    </div>\n                </ng-container>\n            </div>\n        </section>\n        <section\n            assets\n            class=\"flex space-x-1 py-4 px-2 border-t\"\n            *ngIf=\"assets?.length\"\n        >\n            <app-icon class=\"text-success\">done</app-icon>\n            <div details class=\"leading-6\">\n                <h3 i18n>{{ assets_count }} Asset(s)</h3>\n                <div class=\"flex space-x-2\" *ngFor=\"let asset of assets\">\n                    <div class=\"h-5 w-5 bg-base-200 rounded-full\">\n                        {{ asset.amount }}\n                    </div>\n                    <span>{{ asset.name }}</span>\n                </div>\n            </div>\n        </section>\n        <footer class=\"p-2 w-full border-t border-base-200 mt-4\">\n            <button\n                confirm\n                btn\n                matRipple\n                class=\"w-full\"\n                *ngIf=\"!(loading | async)\"\n                (click)=\"postForm()\"\n                i18n\n            >\n                Confirm\n            </button>\n        </footer>`,\n    styles: [\n        `\n            section > app-icon {\n                font-size: 1.5rem;\n                margin-top: 0.3rem;\n            }\n\n            h3 {\n                font-size: 1.25rem;\n                font-weight: medium;\n                margin: 0.5rem 0;\n            }\n        `,\n    ],\n})\nexport class NewParkingFlowConfirmComponent extends AsyncHandler {\n    @Input() public show_close: boolean = false;\n\n    public readonly loading = this._state.loading;\n\n    public readonly postForm = async () => {\n        await this._state.postForm().catch((_) => {\n            notifyError(`Unable to complete booking. ${_}`);\n            throw _;\n        });\n        this.dismiss(true);\n    };\n    public readonly dismiss = (e?) => this._sheet_ref?.dismiss(e);\n\n    public get time_format() {\n        return this._settings.time_format;\n    }\n\n    public get booking() {\n        return this._state.form.value as any;\n    }\n\n    public get assets() {\n        return this.booking.assets || null;\n    }\n\n    public get assets_count() {\n        return this.assets?.length\n            ? this.assets.reduce((a, b) => a + b.amount, 0)\n            : 0;\n    }\n\n    public get booking_asset() {\n        return this.booking.booking_asset;\n    }\n\n    public get location() {\n        const building = this._org.buildings.find(\n            (b) => b.id === this.booking_asset?.zone?.parent_id\n        );\n        const level = this._org.levels.find(\n            (l) => l.id === this.booking_asset?.zone?.id\n        );\n        return `${level?.display_name || level?.name}${building ? ',' : ''} ${\n            building?.address || building?.display_name || building?.name || ''\n        }`;\n    }\n\n    constructor(\n        private _state: BookingFormService,\n        private _org: OrganisationService,\n        @Optional() private _sheet_ref: MatBottomSheetRef,\n        private _settings: SettingsService\n    ) {\n        super();\n    }\n}\n","import { Component } from '@angular/core';\nimport { MatBottomSheet } from '@angular/material/bottom-sheet';\nimport { Router } from '@angular/router';\nimport { BookingFormService } from '@placeos/bookings';\nimport {\n    ANIMATION_SHOW_CONTRACT_EXPAND,\n    AsyncHandler,\n    getInvalidFields,\n    notifyError,\n    SettingsService,\n} from '@placeos/common';\nimport { NewParkingFlowConfirmComponent } from './parking-flow-confirm.component';\n\n@Component({\n    selector: 'parking-flow-form',\n    template: `\n        <div class=\"h-full w-full bg-base-200 overflow-auto\">\n            <div\n                class=\"max-w-full w-[48rem] mx-auto sm:my-4 bg-base-100 border border-base-200\"\n            >\n                <h2\n                    class=\"w-full p-4 sm:py-4 sm:px-16 text-2xl font-medium border-b border-base-200\"\n                    i18n\n                >\n                    {{ form.value.id ? 'Edit' : 'Book' }} Parking Reservation\n                </h2>\n                <form\n                    class=\"p-0 sm:py-4 sm:px-16 divide-y divide-base-200 space-y-2\"\n                    [formGroup]=\"form\"\n                >\n                    <section class=\"p-2\">\n                        <h3 class=\"space-x-2 flex items-center\">\n                            <div\n                                class=\"bg-base-200 rounded-full h-6 w-6 flex items-center justify-center\"\n                            >\n                                1\n                            </div>\n                            <div class=\"text-xl\" i18n>Details</div>\n                            <div class=\"flex-1 w-px\"></div>\n                            <button\n                                icon\n                                matRipple\n                                (click)=\"\n                                    hide_block.details = !hide_block.details\n                                \"\n                            >\n                                <app-icon>{{\n                                    hide_block.details\n                                        ? 'expand_more'\n                                        : 'expand_less'\n                                }}</app-icon>\n                            </button>\n                        </h3>\n                        <div\n                            class=\"overflow-hidden\"\n                            [@show]=\"hide_block.details ? 'hide' : 'show'\"\n                        >\n                            <parking-form-details\n                                class=\"mt-4\"\n                                [form]=\"form\"\n                            ></parking-form-details>\n                        </div>\n                    </section>\n                    <section class=\"p-2\">\n                        <h3 class=\"space-x-2 flex items-center\">\n                            <div\n                                class=\"bg-base-200 rounded-full h-6 w-6 flex items-center justify-center\"\n                            >\n                                2\n                            </div>\n                            <div class=\"text-xl\" i18n>Space</div>\n                            <div class=\"flex-1 w-px\"></div>\n                            <button\n                                icon\n                                matRipple\n                                (click)=\"hide_block.space = !hide_block.space\"\n                            >\n                                <app-icon>{{\n                                    hide_block.space\n                                        ? 'expand_more'\n                                        : 'expand_less'\n                                }}</app-icon>\n                            </button>\n                        </h3>\n                        <div\n                            class=\"overflow-hidden\"\n                            [@show]=\"hide_block.space ? 'hide' : 'show'\"\n                        >\n                            <parking-space-list-field\n                                formControlName=\"resources\"\n                            ></parking-space-list-field>\n                        </div>\n                    </section>\n                    <section\n                        class=\"flex flex-col sm:flex-row items-center sm:space-x-2 p-2\"\n                    >\n                        <button\n                            btn\n                            matRipple\n                            confirm\n                            class=\"mb-2 sm:mb-0 w-full sm:w-auto\"\n                            (click)=\"viewConfirm()\"\n                            i18n\n                        >\n                            Confirm Reservation\n                        </button>\n                        <button\n                            btn\n                            matRipple\n                            clear-form\n                            class=\"inverse w-full sm:w-auto\"\n                            (click)=\"clearForm()\"\n                            i18n\n                        >\n                            {{ form.value.id ? 'Reset' : 'Clear' }} Form\n                        </button>\n                    </section>\n                </form>\n            </div>\n        </div>\n    `,\n    styles: [``],\n    animations: [ANIMATION_SHOW_CONTRACT_EXPAND],\n})\nexport class ParkingFlowFormComponent extends AsyncHandler {\n    public hide_block: Record<string, boolean> = {};\n    public sheet_ref: any;\n\n    public readonly clearForm = () => this._state.resetForm();\n\n    public get form() {\n        return this._state.form;\n    }\n\n    constructor(\n        private _state: BookingFormService,\n        private _settings: SettingsService,\n        private _router: Router,\n        private _bottom_sheet: MatBottomSheet\n    ) {\n        super();\n    }\n\n    public ngOnInit() {\n        this._state.setOptions({ type: 'parking' });\n    }\n\n    public readonly viewConfirm = () => {\n        if (!this.form.valid)\n            return notifyError(\n                `Some fields are invalid. [${getInvalidFields(this.form).join(\n                    ', '\n                )}]`\n            );\n        this.sheet_ref = this._bottom_sheet.open(\n            NewParkingFlowConfirmComponent\n        );\n        this.sheet_ref.instance.show_close = true;\n        this.sheet_ref.afterDismissed().subscribe((value) => {\n            if (value) {\n                this._router.navigate(['/book', 'new-parking', 'success']);\n                this._state.setView('success');\n            }\n        });\n    };\n}\n","import { Component } from '@angular/core';\nimport { BookingFormService } from '@placeos/bookings';\nimport { SettingsService } from '@placeos/common';\n\n@Component({\n    selector: 'parking-flow-success',\n    template: `\n        <div\n            class=\"absolute inset-0 bg-base-100 flex flex-col z-50 overflow-auto\"\n        >\n            <main\n                class=\"flex-1 flex flex-col items-center justify-center space-y-2 p-8\"\n            >\n                <h2 class=\"text-2xl font-medium\" i18n>\n                    Parking Space Confirmed!\n                </h2>\n                <p class=\"text-center max-w-[32rem]\" i18n>\n                    Your\n                    <span>\n                        parking space reservation for\n                        {{ last_event.asset_name }} at {{ location }}, </span\n                    >has been successfully booked for the\n                    {{ last_event.date | date: 'mediumDate' }} at\n                    {{ last_event.date | date: time_format }}-{{\n                        last_event.date + last_event.duration * 60 * 1000\n                            | date: time_format\n                    }}.\n                </p>\n                <img src=\"assets/icons/parking-success.svg\" />\n            </main>\n            <footer\n                class=\"sticky bottom-0 bg-base-100 p-2 w-full border-t border-base-200 mt-4 flex items-center justify-center\"\n            >\n                <a\n                    btn\n                    matRipple\n                    class=\"w-full max-w-[32rem]\"\n                    [routerLink]=\"['/']\"\n                    i18n\n                >\n                    Great, thanks!\n                </a>\n            </footer>\n        </div>\n    `,\n    styles: [``],\n})\nexport class ParkingFlowSuccessComponent {\n    public get location() {\n        const resource = this.last_event?.extension_data?.booking_asset;\n        if (!resource) return '';\n        return resource.zone\n            ? `, ${\n                  resource.zone.display_name ||\n                  resource.zone.name ||\n                  resource.zone.id\n              }`\n            : '';\n    }\n\n    public get last_event() {\n        return this._state.last_success;\n    }\n\n    public get time_format() {\n        return this._settings.time_format;\n    }\n\n    constructor(\n        private _state: BookingFormService,\n        private _settings: SettingsService\n    ) {}\n}\n","import { Component, Input } from '@angular/core';\nimport { FormGroup } from '@angular/forms';\nimport { BookingAsset } from '@placeos/bookings';\nimport { AsyncHandler, SettingsService } from '@placeos/common';\nimport { OrganisationService } from '@placeos/organisation';\n\n@Component({\n    selector: 'parking-form-details',\n    template: `\n        <div *ngIf=\"form\" [formGroup]=\"form\">\n            <div class=\"flex items-center flex-wrap sm:space-x-2\">\n                <div class=\"flex-1 min-w-[256px]\">\n                    <label for=\"title\" i18n>Building<span>*</span></label>\n                    <mat-form-field appearance=\"outline\" class=\"w-full\">\n                        <mat-select\n                            [ngModel]=\"building | async\"\n                            (ngModelChange)=\"setBuilding($event)\"\n                            [ngModelOptions]=\"{ standalone: true }\"\n                        >\n                            <mat-option\n                                *ngFor=\"let bld of building_list | async\"\n                                [value]=\"bld\"\n                            >\n                                {{ bld.display_name || bld.name }}\n                            </mat-option>\n                        </mat-select>\n                        <mat-error i18n>Building is required</mat-error>\n                    </mat-form-field>\n                </div>\n            </div>\n            <div class=\"flex items-center flex-wrap sm:space-x-2\">\n                <div class=\"flex-1 min-w-[256px]\">\n                    <label for=\"title\" i18n>Add Title<span>*</span></label>\n                    <mat-form-field appearance=\"outline\" class=\"w-full\">\n                        <input\n                            matInput\n                            name=\"title\"\n                            formControlName=\"title\"\n                            placeholder=\"e.g. Team Meeting\"\n                        />\n                        <mat-error i18n>Meeting title is required.</mat-error>\n                    </mat-form-field>\n                </div>\n                <div class=\"flex-1 min-w-[256px]\">\n                    <label for=\"date\" i18n>Date<span>*</span></label>\n                    <a-date-field name=\"date\" formControlName=\"date\" i18n>\n                        Date and time must be in the future\n                    </a-date-field>\n                </div>\n            </div>\n            <div class=\"flex items-center space-x-2\">\n                <div class=\"flex-1 w-1/3\">\n                    <label for=\"start-time\" i18n\n                        >Start Time<span>*</span></label\n                    >\n                    <a-time-field\n                        name=\"start-time\"\n                        [ngModel]=\"form.value.date\"\n                        (ngModelChange)=\"form.patchValue({ date: $event })\"\n                        [ngModelOptions]=\"{ standalone: true }\"\n                        [use_24hr]=\"use_24hr\"\n                    ></a-time-field>\n                </div>\n                <div class=\"flex-1 w-1/3 relative\">\n                    <label for=\"end-time\" i18n>End Time<span>*</span></label>\n                    <a-duration-field\n                        name=\"end-time\"\n                        formControlName=\"duration\"\n                        [time]=\"form?.value?.date\"\n                        [max]=\"max_duration\"\n                        [use_24hr]=\"use_24hr\"\n                    >\n                    </a-duration-field>\n                    <mat-checkbox\n                        formControlName=\"all_day\"\n                        *ngIf=\"allow_all_day\"\n                        class=\"absolute -top-2 right-0\"\n                        i18n\n                    >\n                        All Day\n                    </mat-checkbox>\n                </div>\n            </div>\n        </div>\n    `,\n    styles: [``],\n})\nexport class ParkingFormDetailsComponent extends AsyncHandler {\n    @Input() public form: FormGroup;\n\n    public readonly building = this._org.active_building;\n    public readonly building_list = this._org.building_list;\n\n    public get max_duration() {\n        return this._settings.get('app.bookings.max_duration') || 480;\n    }\n\n    public get allow_all_day() {\n        return this._settings.get('app.bookings.allow_all_day');\n    }\n\n    public get use_24hr() {\n        return this._settings.get('app.use_24_hour_time');\n    }\n\n    public readonly setBuilding = (bld) => (this._org.building = bld);\n\n    constructor(\n        private _settings: SettingsService,\n        private _org: OrganisationService\n    ) {\n        super();\n    }\n}\n","import { Component, OnInit } from '@angular/core';\nimport { ActivatedRoute } from '@angular/router';\nimport { BookingFormService } from '@placeos/bookings';\nimport { AsyncHandler } from '@placeos/common';\n\n@Component({\n    selector: 'placeos-book-parking-flow',\n    template: `\n        <div class=\"bg-base-100 h-full w-full\">\n            <ng-container [ngSwitch]=\"view\">\n                <ng-container *ngSwitchCase=\"'confirm'\">\n                    <parking-flow-confirm></parking-flow-confirm>\n                </ng-container>\n                <ng-container *ngSwitchCase=\"'success'\">\n                    <flow-success\n                        [calendar]=\"last_success?.host\"\n                        route=\"parking\"\n                        type=\"parking\"\n                    ></flow-success>\n                </ng-container>\n                <ng-container *ngSwitchDefault>\n                    <parking-flow-map></parking-flow-map>\n                </ng-container>\n            </ng-container>\n        </div>\n    `,\n    styles: [\n        `\n            :host {\n                position: relative;\n                height: 100%;\n                width: 100%;\n            }\n        `,\n    ],\n})\nexport class BookParkingFlowComponent extends AsyncHandler implements OnInit {\n    public get view() {\n        return this._state.view;\n    }\n    public get last_success() {\n        return this._state.last_success;\n    }\n\n    constructor(\n        private _state: BookingFormService,\n        private _route: ActivatedRoute\n    ) {\n        super();\n    }\n\n    public ngOnInit() {\n        this._state.setOptions({ type: 'parking' });\n        this._state.loadForm();\n        if (!this._state.form) this._state.newForm();\n        this.subscription(\n            'route.params',\n            this._route.paramMap.subscribe((param) => {\n                if (param.has('step'))\n                    this._state.setView(param.get('step') as any);\n            })\n        );\n        this.subscription(\n            'route.query',\n            this._route.queryParamMap.subscribe((param) => {\n                if (param.has('success'))\n                    this._state.setView(param.get('success') as any);\n            })\n        );\n    }\n}\n","import { Component } from \"@angular/core\";\n\n@Component({\n    selector: 'parking-flow-confirm',\n    template: ``,\n    styles: [``]\n})\nexport class ParkingFlowConfirmComponent {\n    \n}","import { Component, Inject } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { BookingFormService } from '@placeos/bookings';\nimport { AsyncHandler } from '@placeos/common';\nimport { MAP_FEATURE_DATA } from '@placeos/components';\nimport { ExploreParkingService, ExploreStateService } from '@placeos/explore';\nimport { OrganisationService } from '@placeos/organisation';\nimport { addDays, format, startOfDay } from 'date-fns';\nimport { BehaviorSubject } from 'rxjs';\nimport { first, take } from 'rxjs/operators';\n\n@Component({\n    selector: 'space-ping',\n    template: `\n        <div\n            class=\"absolute inset-0 pointer-events-auto\"\n            [style.transform]=\"'scale(' + zoom * ratio + ')'\"\n        >\n            <div\n                class=\"absolute inset-0 animate-ping border-4 border-green-600\"\n            ></div>\n        </div>\n    `,\n})\nclass SpacePingComponent extends AsyncHandler {\n    public zoom = 1;\n    public ratio = 1;\n    constructor(@Inject(MAP_FEATURE_DATA) private _details: any) {\n        super();\n        this.subscription(\n            'zoom',\n            this._details.zoom$?.subscribe((_) => (this.zoom = _))\n        );\n        this.subscription(\n            'ratio',\n            this._details.ratio$?.subscribe((_) => (this.ratio = _))\n        );\n    }\n}\n\n@Component({\n    selector: 'parking-flow-map',\n    template: `\n        <div\n            class=\"w-full h-full flex flex-col items-center relative\"\n            *ngIf=\"!(loading | async); else load_state\"\n        >\n            <div\n                class=\"p-4 flex items-center justify-center bg-secondary w-full shadow z-10 text-white space-x-2\"\n            >\n                <button\n                    matRipple\n                    *ngFor=\"let date of dates\"\n                    [class.selected]=\"date.id === (options | async)?.date\"\n                    class=\"border border-white flex flex-col items-center justify-center h-24 w-28 rounded\"\n                    (click)=\"setDate(date.id)\"\n                >\n                    <p class=\"mb-2 font-medium\">{{ date.name }}</p>\n                    <p class=\"text-2xl\">\n                        {{ ((counts | async) || {})[date.id] || '0' }}\n                    </p>\n                    <p class=\"text-sm\">Available</p>\n                </button>\n            </div>\n            <div class=\"flex w-full h-1/2 flex-1 z-0\">\n                <div\n                    class=\"p-2 sm:w-[18rem] w-full h-full bg-base-200 shadow border-r border-base-200 z-10 overflow-auto space-y-2\"\n                >\n                    <div\n                        class=\"bg-base-100 sticky top-0 w-full z-10\"\n                        *ngIf=\"(levels | async)?.length > 1\"\n                    >\n                        <mat-form-field\n                            appearance=\"outline\"\n                            class=\"w-full h-[3.25rem]\"\n                        >\n                            <mat-select\n                                [ngModel]=\"level | async\"\n                                (ngModelChange)=\"setLevel($event?.id)\"\n                            >\n                                <mat-option\n                                    *ngFor=\"let lvl of levels | async\"\n                                    [value]=\"lvl\"\n                                >\n                                    {{ lvl.display_name || lvl.name }}\n                                </mat-option>\n                            </mat-select>\n                        </mat-form-field>\n                    </div>\n                    <p>{{ (available | async)?.length }} space(s) available</p>\n                    <button\n                        matRipple\n                        class=\"flex items-center justify-between bg-base-100 rounded-lg border border-base-200 p-2 w-full\"\n                        [class.active]=\"(active_space | async)?.id === space.id\"\n                        (click)=\"setActive(space)\"\n                        *ngFor=\"let space of available | async\"\n                    >\n                        <div class=\"text-lg\">Bay No. {{ space.name }}</div>\n                        <div class=\"opacity-60\">\n                            {{ levelName(space.zone_id) }}\n                        </div>\n                    </button>\n                </div>\n                <div\n                    class=\"bg-base-200 flex-1 w-1/2 h-full z-0 relative hidden sm:block\"\n                >\n                    <interactive-map\n                        [src]=\"url | async\"\n                        [zoom]=\"(positions | async)?.zoom\"\n                        [center]=\"(positions | async)?.center\"\n                        [styles]=\"styles | async\"\n                        [features]=\"features | async\"\n                        [actions]=\"actions | async\"\n                        [labels]=\"labels | async\"\n                    ></interactive-map>\n                    <explore-zoom-controls\n                        class=\"absolute bottom-0 right-0\"\n                    ></explore-zoom-controls>\n                </div>\n                <div\n                    *ngIf=\"active_space | async\"\n                    class=\"absolute left-1/2 bottom-2 -translate-x-1/2 bg-base-100 shadow rounded p-4 flex flex-col space-y-2\"\n                >\n                    <p>\n                        Parking Bay No.\n                        {{ (active_space | async).name }} selected.\n                    </p>\n                    <p\n                        class=\"p-2 rounded text-sm max-w-[20rem] text-center text-pending leading-tight\"\n                        *ngIf=\"(existing | async)?.length\"\n                    >\n                        Note that your existing parking space reservation will\n                        be replaced\n                    </p>\n                    <button btn matRipple (click)=\"reserveSpace()\">\n                        Reserve Space\n                    </button>\n                </div>\n                <div\n                    class=\"absolute inset-0 bg-base-100/80 flex flex-col items-center justify-center z-50\"\n                    *ngIf=\"!(levels | async)?.length\"\n                >\n                    <p>\n                        Parking is not available for\n                        {{\n                            (building | async)?.display_name ||\n                                (building | async)?.name\n                        }}\n                    </p>\n                </div>\n            </div>\n        </div>\n        <ng-template #load_state>\n            <div\n                class=\"absolute inset-0 bg-base-100/80 flex flex-col items-center justify-center z-50 space-y-2\"\n                *ngIf=\"!(levels | async)?.length\"\n            >\n                <mat-spinner diameter=\"32\"></mat-spinner>\n                <p>Reserving parking space...</p>\n            </div>\n        </ng-template>\n    `,\n    styles: [\n        `\n            .active {\n                background-color: var(--s) !important;\n                color: #fff;\n            }\n\n            .selected {\n                background-color: #fff !important;\n                color: #000d;\n            }\n        `,\n    ],\n    providers: [ExploreParkingService],\n})\nexport class ParkingFlowMapComponent extends AsyncHandler {\n    /** Observable for the active map */\n    public readonly url = this._state.map_url;\n    /** Observable for the active map */\n    public readonly styles = this._state.map_styles;\n    /** Observable for the active map */\n    public readonly positions = this._state.map_positions;\n    /** Observable for the active map */\n    public readonly features = this._state.map_features;\n    /** Observable for the active map */\n    public readonly actions = this._state.map_actions;\n    /** Observable for the labels map */\n    public readonly labels = this._state.map_labels;\n\n    public readonly building = this._org.active_building;\n\n    public readonly level = this._state.level;\n\n    public readonly levels = this._parking.levels;\n\n    public readonly available = this._parking.available_spaces;\n\n    public readonly counts = this._parking.week_availablility;\n\n    public readonly options = this._parking.options;\n\n    public readonly existing = this._parking.existing_event;\n\n    public readonly loading = this._booking.loading;\n\n    public readonly active_space = new BehaviorSubject(null);\n\n    public readonly dates = new Array(7).fill(0).map((_, idx) => ({\n        id: startOfDay(addDays(Date.now(), idx)).valueOf(),\n        name: format(addDays(Date.now(), idx), 'EEE, dd MMM'),\n        available: 0,\n    }));\n\n    public readonly setDate = (d) => this._parking.setOptions({ date: d });\n\n    public levelName(zone_id) {\n        const lvl = this._org.levelWithID([zone_id]);\n        return lvl?.display_name || lvl?.name || '';\n    }\n\n    public setActive(space) {\n        if (space === this.active_space.getValue())\n            this.active_space.next(null);\n        else {\n            this._booking.form.patchValue({\n                asset_id: space.id,\n                asset_name: space.name,\n            });\n            this.active_space.next(space);\n        }\n    }\n\n    public readonly setLevel = (l) => this._state.setLevel(l);\n    public readonly reserveSpace = async () => {\n        const events = await this._parking.existing_event\n            .pipe(take(1))\n            .toPromise();\n        if (events.length) this._booking.form.patchValue({ id: events[0].id }); // Prevent booking duplicate parking spaces\n        await this._booking.postForm();\n        this._router.navigate(['book', 'parking', 'success']);\n    };\n\n    constructor(\n        private _state: ExploreStateService,\n        private _parking: ExploreParkingService,\n        private _org: OrganisationService,\n        private _booking: BookingFormService,\n        private _router: Router\n    ) {\n        super();\n    }\n\n    public async ngOnInit() {\n        await this._org.initialised.pipe(first((_) => _)).toPromise();\n        this._state.reset();\n        this.subscription(\n            'levels',\n            this._parking.levels.subscribe((levels) => {\n                this._state.setLevel(levels[0]?.id);\n            })\n        );\n        this.subscription(\n            'spaces',\n            this._parking.available_spaces.subscribe((spaces) => {\n                this._state.setActions(\n                    'parking_spaces',\n                    (spaces || []).map((_) => ({\n                        id: _.map_id,\n                        action: 'click',\n                        callback: () => this.setActive(_),\n                    }))\n                );\n            })\n        );\n        this.subscription(\n            'active_space',\n            this.active_space.subscribe((space) => {\n                if (!space) return this._state.setFeatures('parking_space', []);\n                this._state.setFeatures('parking_space', [\n                    {\n                        location: space.map_id,\n                        content: SpacePingComponent,\n                        full_size: true,\n                        z_index: 0,\n                    },\n                ]);\n            })\n        );\n    }\n}\n","import { Component, OnInit } from '@angular/core';\nimport { ActivatedRoute } from '@angular/router';\nimport { AsyncHandler } from '@placeos/common';\nimport { EventFormService } from '@placeos/events';\n\n@Component({\n    selector: 'placeos-book-space-flow',\n    template: `\n        <div class=\"bg-base-100 h-full w-full\">\n            <ng-container [ngSwitch]=\"view\">\n                <ng-container *ngSwitchCase=\"'find'\">\n                    <space-flow-find></space-flow-find>\n                </ng-container>\n                <ng-container *ngSwitchCase=\"'confirm'\">\n                    <space-flow-confirm></space-flow-confirm>\n                </ng-container>\n                <ng-container *ngSwitchCase=\"'success'\">\n                    <flow-success\n                        [calendar]=\"last_success?.host\"\n                    ></flow-success>\n                </ng-container>\n                <ng-container *ngSwitchDefault>\n                    <space-flow-form></space-flow-form>\n                </ng-container>\n            </ng-container>\n        </div>\n    `,\n    styles: [\n        `\n            :host {\n                position: relative;\n                height: 100%;\n                width: 100%;\n            }\n        `,\n    ],\n})\nexport class BookSpaceFlowComponent extends AsyncHandler implements OnInit {\n    public get view() {\n        return this._state.view;\n    }\n    public get last_success() {\n        return this._state.last_success;\n    }\n\n    constructor(\n        private _state: EventFormService,\n        private _route: ActivatedRoute\n    ) {\n        super();\n    }\n\n    public ngOnInit() {\n        this._state.loadForm();\n        this.subscription(\n            'route.params',\n            this._route.paramMap.subscribe((param) => {\n                if (param.has('step'))\n                    this._state.setView(param.get('step') as any);\n            })\n        );\n        this.subscription(\n            'route.query',\n            this._route.queryParamMap.subscribe((param) => {\n                if (param.has('success'))\n                    this._state.setView(param.get('success') as any);\n            })\n        );\n    }\n}\n","import { Component } from '@angular/core';\nimport { CateringItem } from '@placeos/catering';\nimport { notifyError, SettingsService } from '@placeos/common';\nimport { EventFormService } from '@placeos/events';\nimport { OrganisationService } from '@placeos/organisation';\n\n@Component({\n    selector: 'space-flow-confirm',\n    template: `\n        <div topbar class=\"\">\n            <a\n                button\n                class=\"clear h-[2.75rem] text-white\"\n                btn\n                matRipple\n                [routerLink]=\"['/book', 'spaces', 'find']\"\n            >\n                <div class=\"flex items-center justify-center h-full\">\n                    <app-icon class=\"text-xl\">arrow_back</app-icon>\n                    <span class=\"ml-2 mx-4\">Back</span>\n                </div>\n            </a>\n        </div>\n        <div\n            class=\"flex flex-col items-center space-y-2 w-[640px] max-w-[calc(100%-2rem)] mx-auto mb-4\"\n        >\n            <h2 class=\"text-xl uppercase font-medium w-full my-4\">\n                Your meeting details\n            </h2>\n            <div\n                class=\"flex items-center py-2 space-x-2 border-b border-base-200 w-full\"\n            >\n                <div class=\"p-2 rounded-full bg-base-200 mr-2\">\n                    <app-icon>event</app-icon>\n                </div>\n                <div class=\"flex-1 truncate\">\n                    {{ form.value.date | date: 'longDate' }}\n                    <span *ngIf=\"!form.value.all_day\">\n                        at {{ form.value.date | date: 'shortTime' }} ~\n                        {{\n                            form.value.date + form.value.duration * 60 * 1000\n                                | date: 'shortTime'\n                        }}\n                    </span>\n                </div>\n                <a\n                    btn\n                    matRipple\n                    class=\"clear underline\"\n                    [routerLink]=\"['/book', 'spaces', 'form']\"\n                    >Edit</a\n                >\n            </div>\n            <div\n                class=\"flex items-center py-2 space-x-2 border-b border-base-200 w-full\"\n            >\n                <div class=\"p-2 rounded-full bg-base-200 mr-2\">\n                    <app-icon>schedule</app-icon>\n                </div>\n                <div class=\"flex-1 truncate\">\n                    {{\n                        form.value.all_day\n                            ? 'All Day'\n                            : (form.value.duration | duration)\n                    }}\n                </div>\n                <a\n                    btn\n                    matRipple\n                    class=\"clear underline\"\n                    [routerLink]=\"['/book', 'spaces', 'form']\"\n                >\n                    Edit\n                </a>\n            </div>\n            <div class=\"border-b border-base-200 w-full\">\n                <div class=\"flex items-center py-2 space-x-2 \">\n                    <div class=\"p-2 rounded-full bg-base-200 mr-2\">\n                        <app-icon>place</app-icon>\n                    </div>\n                    <div class=\"flex-1 truncate\">\n                        {{ form.get('resources')?.value?.length }} Space(s)\n                    </div>\n                    <button\n                        matRipple\n                        [disabled]=\"!form.get('resources')?.value?.length\"\n                        class=\"clear bg-transparent border-none underline\"\n                        (click)=\"show_spaces = !show_spaces\"\n                    >\n                        {{ show_spaces ? 'Hide' : 'Show' }}\n                    </button>\n                    <a\n                        btn\n                        matRipple\n                        class=\"clear underline\"\n                        [routerLink]=\"['/book', 'spaces', 'find']\"\n                        >Edit</a\n                    >\n                </div>\n                <div\n                    list\n                    [style.height]=\"\n                        !show_spaces\n                            ? '0'\n                            : form.get('resources')?.value?.length * 2.5 + 'rem'\n                    \"\n                    class=\"overflow-hidden\"\n                >\n                    <div\n                        class=\"flex items-center h-10 pl-12\"\n                        *ngFor=\"let space of form.get('resources')?.value\"\n                    >\n                        <span\n                            >{{ space.display_name || space.name }} [{{\n                                space.level?.display_name || space.level?.name\n                            }}]</span\n                        >\n\n                        <button\n                            matRipple\n                            class=\"bg-transparent border-none underline\"\n                            *ngIf=\"can_view_location\"\n                        >\n                            Map\n                        </button>\n                    </div>\n                </div>\n            </div>\n            <div class=\"border-b border-base-200 w-full\">\n                <div class=\"flex items-center py-2 space-x-2 \">\n                    <div class=\"p-2 rounded-full bg-base-200 mr-2\">\n                        <app-icon>group</app-icon>\n                    </div>\n                    <div class=\"flex-1 truncate\">\n                        {{ form.get('attendees')?.value?.length || 0 }}\n                        Attendee(s)\n                    </div>\n                    <button\n                        matRipple\n                        [disabled]=\"!form.get('attendees')?.value?.length\"\n                        class=\"clear bg-transparent border-none underline\"\n                        (click)=\"show_people = !show_people\"\n                    >\n                        {{ show_people ? 'Hide' : 'Show' }}\n                    </button>\n                    <a\n                        btn\n                        matRipple\n                        class=\"clear underline\"\n                        [routerLink]=\"['/book', 'spaces', 'form']\"\n                        >Edit</a\n                    >\n                </div>\n                <div\n                    list\n                    [style.height]=\"\n                        !show_people\n                            ? '0'\n                            : form.get('attendees')?.value?.length * 3 + 'rem'\n                    \"\n                    class=\"overflow-hidden\"\n                >\n                    <div\n                        class=\"flex items-center h-12 pl-12 space-x-2\"\n                        *ngFor=\"let user of form.get('attendees')?.value\"\n                    >\n                        <a-user-avatar\n                            class=\"text-sm\"\n                            [user]=\"user\"\n                        ></a-user-avatar>\n                        <span>{{ user.name || user.email }}</span>\n                    </div>\n                </div>\n            </div>\n            <div\n                class=\"border-b border-base-200 w-full\"\n                *ngIf=\"form.value.catering?.length\"\n            >\n                <div class=\"flex items-center py-2 space-x-2 \">\n                    <div class=\"p-2 rounded-full bg-base-200 mr-2\">\n                        <app-icon>group</app-icon>\n                    </div>\n                    <div class=\"flex-1 truncate\">\n                        {{ form.value.catering[0]?.item_count || 0 }}\n                        Catering Item(s)\n                    </div>\n                    <button\n                        matRipple\n                        class=\"clear bg-transparent border-none underline\"\n                        (click)=\"show_catering = !show_catering\"\n                    >\n                        {{ show_people ? 'Hide' : 'Show' }}\n                    </button>\n                    <a\n                        btn\n                        matRipple\n                        class=\"clear underline\"\n                        [routerLink]=\"['/book', 'spaces', 'form']\"\n                        >Edit</a\n                    >\n                </div>\n                <div\n                    list\n                    [style.height]=\"\n                        !show_catering\n                            ? '0'\n                            : form.value.catering[0]?.items.length * 3 + 'rem'\n                    \"\n                    class=\"overflow-hidden\"\n                >\n                    <div\n                        class=\"flex items-center h-12 pl-12 space-x-2\"\n                        *ngFor=\"let item of form.value.catering[0]?.items\"\n                    >\n                        <div class=\"flex-1 w-1/2\">\n                            <div class=\"flex-1 w-1/2\">{{ item.name }}</div>\n                            <div\n                                class=\"text-xs underline\"\n                                *ngIf=\"item.options.length\"\n                                [matTooltip]=\"optionsFor(item)\"\n                            >\n                                {{ item.options.length }} option{{\n                                    item.options.length === 1 ? '' : 's'\n                                }}\n                                selected\n                            </div>\n                        </div>\n                        <div\n                            class=\"bg-primary text-xs rounded px-4 py-2 mx-2 text-white font-medium\"\n                        >\n                            {{ item.total_cost / 100 | currency: code }}\n                        </div>\n                        <a-counter [(ngModel)]=\"item.quantity\"></a-counter>\n                    </div>\n                </div>\n            </div>\n            <button\n                matRipple\n                class=\"w-32\"\n                confirm\n                [disabled]=\"loading\"\n                (click)=\"postForm()\"\n            >\n                <span *ngIf=\"!loading\">Confirm</span>\n                <mat-spinner\n                    class=\"mx-auto\"\n                    [diameter]=\"24\"\n                    *ngIf=\"loading\"\n                ></mat-spinner>\n            </button>\n        </div>\n        <\n    `,\n    styles: [\n        `\n            :host {\n                height: 100%;\n                width: 100%;\n                display: flex;\n                flex-direction: column;\n            }\n\n            [topbar] {\n                background-color: #00539f;\n            }\n\n            [list] {\n                transition: height 200ms;\n            }\n        `,\n    ],\n})\nexport class SpaceFlowConfirmComponent {\n    public show_spaces = false;\n    public show_people = false;\n    public show_catering = false;\n    public loading = false;\n\n    public readonly postForm = async () => {\n        this.loading = true;\n        await this._state\n            .postForm()\n            .catch((_) =>\n                notifyError(\n                    _ instanceof Object ? _.message || 'Bad Request' : _\n                )\n            );\n        this.loading = false;\n    };\n\n    public optionsFor(item: CateringItem) {\n        return item.options.map((i) => i.name).join('\\n');\n    }\n\n    public get can_view_location() {\n        return !this._settings.get('app.no_maps');\n    }\n\n    public get form() {\n        return this._state.form;\n    }\n\n    public get code() {\n        return this._org.currency_code;\n    }\n\n    constructor(\n        private _org: OrganisationService,\n        private _state: EventFormService,\n        private _settings: SettingsService\n    ) {}\n}\n","import { Component, Input, EventEmitter, Output } from '@angular/core';\nimport { FormGroup } from '@angular/forms';\nimport { CateringOrder, CateringStateService } from '@placeos/catering';\nimport { SettingsService } from '@placeos/common';\nimport { EventFlowOptions } from '@placeos/events';\nimport { OrganisationService } from '@placeos/organisation';\n\n@Component({\n    selector: 'detailed-book-space-form',\n    template: `\n        <form *ngIf=\"form\" [formGroup]=\"form\">\n            <section class=\"mb-4 border-b border-base-200\">\n                <div\n                    class=\"flex flex-col sm:flex-row space-x-0 sm:space-x-2 w-[640px] max-w-[calc(100%-2rem)] mx-auto\"\n                >\n                    <div class=\"flex flex-col flex-1 w-full sm:w-1/3\">\n                        <label for=\"date\">Date</label>\n                        <a-date-field name=\"date\" formControlName=\"date\">\n                            Date and time must be in the future\n                        </a-date-field>\n                    </div>\n                    <div class=\"flex flex-col flex-1 w-full sm:w-1/3\">\n                        <label for=\"start-time\">Start Time</label>\n                        <a-time-field\n                            name=\"start-time\"\n                            [ngModel]=\"form.value.date\"\n                            (ngModelChange)=\"form.patchValue({ date: $event })\"\n                            [ngModelOptions]=\"{ standalone: true }\"\n                        ></a-time-field>\n                    </div>\n                    <div class=\"flex flex-col flex-1 w-full sm:w-1/3 relative\">\n                        <label for=\"end-time\">End Time</label>\n                        <a-duration-field\n                            name=\"end-time\"\n                            formControlName=\"duration\"\n                            [time]=\"form.value.date\"\n                            [max]=\"max_duration\"\n                        >\n                        </a-duration-field>\n                        <mat-checkbox\n                            formControlName=\"all_day\"\n                            *ngIf=\"allow_all_day\"\n                            class=\"absolute top-0 right-0\"\n                        >\n                            All Day\n                        </mat-checkbox>\n                    </div>\n                </div>\n                <div\n                    class=\"flex flex-col sm:flex-row space-x-0 sm:space-x-2 w-[640px] max-w-[calc(100%-2rem)] mx-auto\"\n                >\n                    <div\n                        class=\"flex flex-col flex-1 w-full\"\n                        *ngIf=\"show_features && features?.length\"\n                    >\n                        <label for=\"building\">Building</label>\n                        <mat-form-field\n                            overlay\n                            buildings\n                            class=\"w-full h-[3.25rem]\"\n                            *ngIf=\"(buildings | async)?.length > 1\"\n                            appearance=\"outline\"\n                        >\n                            <mat-select\n                                placeholder=\"Select Building...\"\n                                [ngModel]=\"building\"\n                                (ngModelChange)=\"setBuilding($event)\"\n                                [ngModelOptions]=\"{ standalone: true }\"\n                            >\n                                <mat-option\n                                    *ngFor=\"let bld of buildings | async\"\n                                    [value]=\"bld\"\n                                >\n                                    {{ bld.display_name || bld.name }}\n                                </mat-option>\n                            </mat-select>\n                        </mat-form-field>\n                    </div>\n                    <div\n                        class=\"flex flex-col flex-1 w-full\"\n                        *ngIf=\"show_features && features?.length\"\n                    >\n                        <label for=\"features\">Features</label>\n                        <mat-form-field\n                            class=\"w-full h-[3.25rem]\"\n                            overlay\n                            appearance=\"outline\"\n                        >\n                            <mat-select\n                                [placeholder]=\"'Any ' + features_label\"\n                                multiple\n                                [ngModel]=\"options?.features\"\n                                (ngModelChange)=\"\n                                    optionsChange.emit({ features: $event })\n                                \"\n                                [ngModelOptions]=\"{ standalone: true }\"\n                            >\n                                <mat-option\n                                    *ngFor=\"let item of features\"\n                                    [value]=\"item\"\n                                >\n                                    {{ item }}\n                                </mat-option>\n                            </mat-select>\n                        </mat-form-field>\n                    </div>\n                </div>\n            </section>\n            <section\n                class=\"mb-4 border-b border-base-200\"\n                *ngIf=\"can_book_for_others || !hide_attendees\"\n            >\n                <div\n                    class=\"flex flex-col w-[640px] max-w-[calc(100%-2rem)] mx-auto\"\n                    *ngIf=\"can_book_for_others\"\n                >\n                    <label for=\"host\">Host<span>*</span></label>\n                    <host-select-field\n                        name=\"host\"\n                        formControlName=\"organiser\"\n                    ></host-select-field>\n                </div>\n                <div\n                    class=\"flex flex-col w-[640px] max-w-[calc(100%-2rem)] mx-auto mb-2\"\n                    *ngIf=\"!hide_attendees\"\n                >\n                    <label for=\"attendees\">Attendees</label>\n                    <a-user-list-field\n                        name=\"attendees\"\n                        [hide_actions]=\"hide_actions\"\n                        formControlName=\"attendees\"\n                    ></a-user-list-field>\n                </div>\n            </section>\n            <section class=\"mb-4 border-b border-base-200\">\n                <div class=\"w-[640px] max-w-[calc(100%-2rem)] mx-auto\">\n                    <div class=\"flex flex-col\">\n                        <label for=\"title\"\n                            >Meeting Subject <span>*</span></label\n                        >\n                        <mat-form-field appearance=\"outline\">\n                            <input\n                                name=\"title\"\n                                matInput\n                                formControlName=\"title\"\n                                placeholder=\"Meeting title\"\n                            />\n                            <mat-error>Meeting Subject is required</mat-error>\n                        </mat-form-field>\n                    </div>\n                    <div\n                        class=\"flex flex-col resize-y mb-4\"\n                        *ngIf=\"!hide_notes\"\n                    >\n                        <label for=\"notes\">Notes</label>\n                        <rich-text-input\n                            name=\"notes\"\n                            formControlName=\"body\"\n                            placeholder=\"Add meeting notes here...\"\n                        ></rich-text-input>\n                    </div>\n                    <div class=\"flex flex-col mb-4\" *ngIf=\"has_catering\">\n                        <label>Catering</label>\n                        <an-action-field (onAction)=\"editCatering()\">\n                            <div\n                                class=\"opacity-40\"\n                                *ngIf=\"!form?.value.catering?.length\"\n                            >\n                                Add catering\n                            </div>\n                            <div\n                                class=\"flex items-center\"\n                                *ngIf=\"form?.value.catering?.length\"\n                            >\n                                <div class=\"flex-1 w-1/2\">\n                                    {{ form?.value.catering[0].item_count }}\n                                    item(s)\n                                </div>\n                                <div class=\"text-xs opacity-60 px-4\">\n                                    {{\n                                        form?.value.catering[0].total_cost / 100\n                                            | currency: code\n                                    }}\n                                </div>\n                            </div>\n                        </an-action-field>\n                    </div>\n                </div>\n            </section>\n        </form>\n    `,\n    styles: [``],\n})\nexport class DetailBookSpaceFormComponent {\n    @Input() public form: FormGroup;\n    @Input() public options: EventFlowOptions;\n    @Input() public features: string[] = [];\n    @Output() public optionsChange = new EventEmitter<EventFlowOptions>();\n\n    public readonly buildings = this._org.building_list;\n    public readonly setBuilding = (b) => (this._org.building = b);\n\n    public get building() {\n        return this._org.building;\n    }\n\n    public get has_catering() {\n        return !!this._settings.get('app.events.has_catering');\n    }\n\n    public get hide_actions() {\n        return !!this._settings.get('app.events.hide_user_actions');\n    }\n\n    public get hide_notes() {\n        return !!this._settings.get('app.events.hide_notes');\n    }\n\n    public get hide_attendees() {\n        return !!this._settings.get('app.events.hide_attendees');\n    }\n\n    public get can_book_for_others() {\n        return this._settings.get('app.events.can_book_for_others');\n    }\n\n    public get allow_all_day() {\n        return this._settings.get('app.events.allow_all_day');\n    }\n\n    public get max_duration() {\n        return this._settings.get('app.events.max_duration') || 4 * 60;\n    }\n\n    public get show_features() {\n        return !!this._settings.get('app.events.features_on_form');\n    }\n\n    public get features_label() {\n        return this._settings.get('app.events.features_label') || 'feature';\n    }\n\n    public get code() {\n        return this._org.currency_code;\n    }\n\n    public readonly editCatering = async () =>\n        this.form.patchValue({\n            catering: [\n                await this._catering.manageCateringOrder(\n                    (this.form.value.catering\n                        ? this.form.value.catering[0]\n                        : null) || new CateringOrder()\n                ),\n            ],\n        });\n\n    constructor(\n        private _catering: CateringStateService,\n        private _org: OrganisationService,\n        private _settings: SettingsService\n    ) {}\n}\n","import { Component, EventEmitter, Input, Output } from '@angular/core';\nimport { MatDialog } from '@angular/material/dialog';\nimport { Space } from '@placeos/spaces';\nimport { MapLocateModalComponent } from '@placeos/components';\n\n@Component({\n    selector: 'space-flow-find-item',\n    template: `\n        <div\n            class=\"flex items-center bg-base-100 p-2 my-2 shadow w-[640px] max-w-[calc(100%-2rem)] mx-auto rounded\"\n        >\n            <div class=\"flex flex-col flex-1 space-y-2 \">\n                <div class=\"flex items-center\">\n                    <div class=\"p-2 rounded-full bg-base-200 mr-2\">\n                        <app-icon>place</app-icon>\n                    </div>\n                    <span\n                        >{{ space?.level?.display_name || space?.level?.name }},\n                        {{ space?.display_name || space?.name }}</span\n                    >\n                </div>\n                <div class=\"flex items-center\">\n                    <div class=\"p-2 rounded-full bg-base-200 mr-2\">\n                        <app-icon>group</app-icon>\n                    </div>\n                    <span>{{ space?.capacity || 0 }} People</span>\n                </div>\n            </div>\n            <div class=\"flex flex-col space-y-2 ml-2\">\n                <button\n                    matRipple\n                    book\n                    [class.bg-warning]=\"multiple && book\"\n                    [class.border-pending]=\"multiple && book\"\n                    (click)=\"bookSpace()\"\n                >\n                    {{ multiple ? (book ? 'Remove' : 'Select') : 'Book' }}\n                </button>\n                <button\n                    locate\n                    btn\n                    matRipple\n                    class=\"inverse\"\n                    (click)=\"viewLocation()\"\n                >\n                    Map\n                </button>\n            </div>\n        </div>\n    `,\n    styles: [\n        `\n            button {\n                width: 8rem;\n            }\n        `,\n    ],\n})\nexport class SpaceFlowFindItemComponent {\n    /** Space to display details for */\n    @Input() public space: Space;\n    /** Whether space should be booked */\n    @Input() public multiple: boolean;\n    /** Whether space should be booked */\n    @Input() public book: boolean;\n    /** Emitter for changes to book value */\n    @Output() public bookChange = new EventEmitter<boolean>();\n\n    constructor(private _dialog: MatDialog) {}\n\n    public bookSpace() {\n        this.book = this.multiple ? !this.book : true;\n        this.bookChange.emit(this.book);\n    }\n\n    public viewLocation() {\n        this._dialog.open(MapLocateModalComponent, {\n            maxWidth: '95vw',\n            maxHeight: '95vh',\n            data: { item: this.space },\n        });\n    }\n}\n","import { Component, OnInit, Optional } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { HashMap, SettingsService } from '@placeos/common';\nimport { EventFormService } from '@placeos/events';\nimport { OrganisationService } from '@placeos/organisation';\nimport { Space } from '@placeos/spaces';\nimport { SpacePipe } from 'libs/spaces/src/lib/space.pipe';\nimport { combineLatest } from 'rxjs';\nimport { filter, first, map, take } from 'rxjs/operators';\n\n@Component({\n    selector: 'space-flow-find',\n    template: `\n        <div topbar class=\"\">\n            <a\n                class=\"clear h-[2.75rem] text-white\"\n                btn\n                matRipple\n                [routerLink]=\"['/book', 'spaces', 'form']\"\n            >\n                <div class=\"flex items-center justify-center h-full\">\n                    <app-icon class=\"text-xl\">arrow_back</app-icon>\n                    <span class=\"ml-2 mx-4\">Back</span>\n                </div>\n            </a>\n        </div>\n        <div filters>\n            <div class=\"w-[640px] max-w-[calc(100%-2rem)] mx-auto py-4\">\n                <h2 class=\"text-xl uppercase font-medium text-white\">\n                    Available Spaces\n                </h2>\n                <div\n                    class=\"flex flex-col items-center sm:flex-row space-x-0 sm:space-x-2\"\n                >\n                    <mat-form-field\n                        overlay\n                        buildings\n                        class=\"w-full sm:w-px sm:flex-1 h-[3.25rem]\"\n                        *ngIf=\"(buildings | async)?.length > 1\"\n                        appearance=\"outline\"\n                    >\n                        <mat-select\n                            placeholder=\"Select Building...\"\n                            [ngModel]=\"building | async\"\n                            (ngModelChange)=\"setBuilding($event)\"\n                        >\n                            <mat-option\n                                *ngFor=\"let bld of buildings | async\"\n                                [value]=\"bld\"\n                            >\n                                {{ bld.display_name || bld.name }}\n                            </mat-option>\n                        </mat-select>\n                    </mat-form-field>\n                    <mat-form-field\n                        class=\"w-full sm:w-px sm:flex-1 h-[3.25rem]\"\n                        overlay\n                        *ngIf=\"(levels | async)?.length > 0\"\n                        appearance=\"outline\"\n                    >\n                        <mat-select\n                            placeholder=\"Level\"\n                            [ngModel]=\"\n                                (options | async)?.zone_ids?.length\n                                    ? (options | async)?.zone_ids[0]\n                                    : ''\n                            \"\n                            (ngModelChange)=\"setOptions({ zone_ids: [$event] })\"\n                        >\n                            <mat-option\n                                *ngFor=\"let item of levels | async\"\n                                [value]=\"item.id\"\n                            >\n                                {{ item.display_name || item.name }}\n                            </mat-option>\n                        </mat-select>\n                    </mat-form-field>\n                    <mat-form-field\n                        class=\"w-full sm:w-px sm:flex-1 h-[3.25rem] hidden sm:block\"\n                        overlay\n                        appearance=\"outline\"\n                    >\n                        <mat-select\n                            placeholder=\"Any Capacity\"\n                            [ngModel]=\"(options | async)?.capacity\"\n                            (ngModelChange)=\"setOptions({ capacity: $event })\"\n                        >\n                            <mat-option\n                                *ngFor=\"let item of quick_capacities\"\n                                [value]=\"item.value\"\n                            >\n                                {{ item.name }}\n                            </mat-option>\n                        </mat-select>\n                    </mat-form-field>\n                    <mat-form-field\n                        class=\"w-full sm:w-px sm:flex-1 h-[3.25rem] hidden sm:block\"\n                        overlay\n                        appearance=\"outline\"\n                        *ngIf=\"(features | async)?.length\"\n                    >\n                        <mat-select\n                            [placeholder]=\"'Any ' + features_label\"\n                            multiple\n                            [ngModel]=\"(options | async)?.features\"\n                            (ngModelChange)=\"setOptions({ features: $event })\"\n                        >\n                            <mat-option\n                                *ngFor=\"let item of features | async\"\n                                [value]=\"item\"\n                            >\n                                {{ item }}\n                            </mat-option>\n                        </mat-select>\n                    </mat-form-field>\n                </div>\n            </div>\n        </div>\n        <div class=\"flex-1 w-full bg-base-200 overflow-auto\">\n            <ng-container *ngIf=\"!(loading | async); else load_state\">\n                <ng-container\n                    *ngIf=\"(spaces | async)?.length > 0; else empty_state\"\n                >\n                    <space-flow-find-item\n                        *ngFor=\"let space of spaces | async\"\n                        class=\"w-[640px] max-w-[calc(100%-2rem)] mx-auto \"\n                        [space]=\"space\"\n                        [multiple]=\"multiple\"\n                        [book]=\"book_space[space.id]\"\n                        (bookChange)=\"handleBookEvent(space, $event)\"\n                    ></space-flow-find-item>\n                    <p class=\"p-4 text-center opacity-60\">\n                        End of available spaces list\n                    </p>\n                </ng-container>\n            </ng-container>\n        </div>\n        <div *ngIf=\"multiple\" class=\"bg-base-100 border-t border-base-200\">\n            <div\n                class=\"flex items-center w-[640px] max-w-[calc(100%-2rem)] mx-auto p-2\"\n            >\n                <div class=\"flex-1 underline\" [matMenuTriggerFor]=\"menu\">\n                    {{ space_list?.length }} space(s) selected\n                </div>\n                <button\n                    class=\"w-32\"\n                    [disabled]=\"!space_list?.length\"\n                    btn\n                    matRipple\n                    (click)=\"confirmBooking()\"\n                >\n                    Book\n                </button>\n            </div>\n            <mat-menu #menu=\"matMenu\" yPosition=\"above\">\n                <div\n                    class=\"flex items-center pointer-events-none leading-tight\"\n                    mat-menu-item\n                    *ngFor=\"let space of space_list\"\n                >\n                    <div class=\"flex flex-col mr-4\">\n                        <div>{{ space.display_name || space.name }}</div>\n                        <div class=\"text-xs opacity-70\">\n                            {{ space.level?.display_name || space.level?.name }}\n                            ~ {{ space.capacity || '2+' }} People\n                        </div>\n                    </div>\n                    <button\n                        icon\n                        matRipple\n                        class=\"pointer-events-auto\"\n                        (click)=\"\n                            this.handleBookEvent(space, false);\n                            $event.stopPropagation()\n                        \"\n                    >\n                        <app-icon>close</app-icon>\n                    </button>\n                </div>\n                <div\n                    mat-menu-item\n                    class=\" opacity-60\"\n                    *ngIf=\"!space_list?.length\"\n                >\n                    No selected spaces\n                </div>\n            </mat-menu>\n        </div>\n        <ng-template #load_state>\n            <div\n                class=\"h-full w-full flex flex-col items-center justify-center space-y-2\"\n            >\n                <mat-spinner [diameter]=\"32\"></mat-spinner>\n                <p>Retrieving available spaces...</p>\n            </div>\n        </ng-template>\n        <ng-template #empty_state>\n            <div\n                class=\"h-full w-full flex flex-col items-center justify-center space-y-2 p-8 text-center\"\n            >\n                <p>\n                    No available spaces for selected time, capacity or level(s)\n                </p>\n            </div>\n        </ng-template>\n    `,\n    styles: [\n        `\n            :host {\n                height: 100%;\n                width: 100%;\n                display: flex;\n                flex-direction: column;\n            }\n\n            [topbar] {\n                background-color: var(--secondary-dark);\n            }\n\n            [filters] {\n                background-color: var(--p);\n            }\n        `,\n    ],\n    providers: [SpacePipe],\n})\nexport class SpaceFlowFindComponent implements OnInit {\n    public book_space: HashMap<boolean> = {};\n    public quick_capacities = [\n        { name: 'Any Capacity', value: 0 },\n        { name: 'Small (1 - 4)', value: 1 },\n        { name: 'Medium (5 - 12)', value: 5 },\n        { name: 'Large (13 - 32)', value: 13 },\n        { name: 'Huge (32+)', value: 33 },\n    ];\n\n    public space_list: Space[] = [];\n\n    /** List of available buildings */\n    public readonly buildings = this._org.building_list;\n    /** Currently active building */\n    public readonly building = this._org.active_building;\n\n    public readonly levels = combineLatest([\n        this.building,\n        this._state.options,\n    ]).pipe(\n        filter(([_]) => !!_),\n        map(([bld]) => [\n            {\n                id: this._org.building.id,\n                name: 'All Levels',\n            },\n            ...this._org.levelsForBuilding(bld),\n        ])\n    );\n\n    public readonly loading = this._state.loading;\n    public readonly options = this._state.options;\n\n    public readonly spaces = this._state.available_spaces;\n    public readonly features = this._state.features;\n    public async setBuilding(bld) {\n        const opts = await this.options.pipe(take(1)).toPromise();\n        if (bld) this._org.building = bld;\n        const levels = this._org.levelsForBuilding(this._org.building);\n        const lvl = levels.find((_) => opts.zone_ids?.includes(_.id));\n        if (!lvl && levels.length) {\n            this.setOptions({ zone_ids: [levels[0].id] });\n        }\n    }\n\n    public readonly setOptions = (o) => this._state.setOptions(o);\n\n    public get multiple() {\n        return this._settings.get('app.events.multiple_spaces') ?? false;\n    }\n\n    public get features_label() {\n        return this._settings.get('app.events.features_label') || 'feature';\n    }\n\n    constructor(\n        private _org: OrganisationService,\n        private _state: EventFormService,\n        private _settings: SettingsService,\n        private _router: Router,\n        private _space_pipe: SpacePipe\n    ) {}\n\n    public async ngOnInit() {\n        await this._org.initialised.pipe(first((_) => !!_)).toPromise();\n        this.setBuilding(this._org.building);\n        this.book_space = {};\n        const resources = this._state.form?.get('resources')?.value || [];\n        resources.forEach((_) => (this.book_space[_.id] = true));\n        this.space_list = await this._getSpaceList();\n    }\n\n    public async handleBookEvent(space: Space, book: boolean = true) {\n        if (this.multiple) {\n            this.book_space[space.id] = book;\n        } else {\n            this.book_space = {};\n            this.book_space[space.id] = book;\n            this.confirmBooking();\n        }\n        this.space_list = await this._getSpaceList();\n    }\n\n    public async confirmBooking() {\n        const spaces = await this._getSpaceList();\n        this._state.form.patchValue({\n            resources: spaces,\n            system: spaces[0] as any,\n        });\n        this._router.navigate(['/book', 'spaces', 'confirm']);\n    }\n\n    private _getSpaceList() {\n        const id_list = Object.keys(this.book_space).filter(\n            (k) => this.book_space[k]\n        );\n        return id_list.length\n            ? Promise.all(id_list.map((_) => this._space_pipe.transform(_)))\n            : Promise.resolve([]);\n    }\n}\n","import { Component } from '@angular/core';\nimport { Router } from '@angular/router';\nimport {\n    currentUser,\n    getInvalidFields,\n    notifyError,\n    SettingsService,\n} from '@placeos/common';\nimport { EventFormService } from '@placeos/events';\nimport { addDays, addMinutes, roundToNearestMinutes, setHours } from 'date-fns';\n\n@Component({\n    selector: 'space-flow-form',\n    template: `\n        <section form class=\"flex-1 min-h-[50%]\">\n            <h2\n                class=\"text-xl uppercase font-medium mb-2 mt-4 w-[640px] max-w-[calc(100%-2rem)] mx-auto\"\n            >\n                {{ is_edit ? 'Edit' : 'Detailed' }} Space Booking\n            </h2>\n            <detailed-book-space-form\n                [form]=\"form\"\n                [options]=\"options | async\"\n                (optionsChange)=\"setOptions($event)\"\n                [features]=\"features | async\"\n            ></detailed-book-space-form>\n            <div\n                class=\"flex flex-col sm:flex-row items-center justify-center space-x-0 space-y-2 sm:space-y-0 sm:space-x-2 w-[640px] max-w-[calc(100%-2rem)] mx-auto mb-4\"\n            >\n                <button\n                    class=\"sm:flex-1 w-full sm:w-auto h-[2.75rem] inverse\"\n                    btn\n                    matRipple\n                    clear\n                    (click)=\"clearForm()\"\n                >\n                    <div class=\"flex items-center justify-center\">\n                        <app-icon class=\"text-xl\">clear</app-icon>\n                        <span class=\"ml-2 mx-4\">{{\n                            is_edit ? 'Cancel Edit' : 'Clear Form'\n                        }}</span>\n                    </div>\n                </button>\n                <button\n                    class=\"sm:flex-1 w-full sm:w-auto h-[2.75rem]\"\n                    btn\n                    matRipple\n                    find-space\n                    (click)=\"findSpace()\"\n                >\n                    <div class=\"flex items-center justify-center\">\n                        <app-icon class=\"text-xl\">search</app-icon>\n                        <span class=\"ml-2 mx-4\">{{\n                            is_edit ? 'Update Spaces' : 'Find Space'\n                        }}</span>\n                    </div>\n                </button>\n                <button\n                    class=\"sm:flex-1 w-full sm:w-auto h-[2.75rem]\"\n                    btn\n                    matRipple\n                    standalone\n                    *ngIf=\"is_edit || allow_standalone_bookings\"\n                    (click)=\"confirmBooking()\"\n                >\n                    <div class=\"flex items-center justify-center\">\n                        <app-icon class=\"text-xl\">event_available</app-icon>\n                        <span class=\"ml-2 mx-4\">{{\n                            is_edit ? 'Confirm changes' : 'Book without Space'\n                        }}</span>\n                    </div>\n                </button>\n            </div>\n        </section>\n    `,\n    styles: [\n        `\n            :host {\n                height: 100%;\n                width: 100%;\n                display: flex;\n                flex-direction: column;\n                overflow: auto;\n            }\n\n            [quick] {\n                background-color: #007ac8;\n            }\n        `,\n    ],\n})\nexport class SpaceFlowFormComponent {\n    public time = 0;\n    public capacity = 0;\n\n    public readonly quick_times = [\n        { name: 'Now', value: 0 },\n        { name: 'Later Today', value: 120 },\n        {\n            name: 'Tomorrow',\n            value: setHours(addDays(new Date(), 1), 9).valueOf(),\n        },\n    ];\n\n    public readonly quick_capacities = [\n        { name: 'Any Capacity', value: 0 },\n        { name: 'Small (1 - 4)', value: 1 },\n        { name: 'Medium (5 - 12)', value: 5 },\n        { name: 'Large (13 - 32)', value: 13 },\n        { name: 'Huge (32+)', value: 33 },\n    ];\n\n    public readonly options = this._state.options;\n    public readonly features = this._state.features;\n    public readonly setOptions = (o) => this._state.setOptions(o);\n\n    public get is_edit() {\n        return !!this.form?.value?.id;\n    }\n\n    public get form() {\n        return this._state.form;\n    }\n\n    public get allow_standalone_bookings() {\n        return this._settings.get('app.events.allow_standalone_bookings');\n    }\n\n    public readonly clearForm = () => {\n        this.time = this.capacity = 0;\n        this._state.clearForm();\n    };\n\n    constructor(\n        private _state: EventFormService,\n        private _settings: SettingsService,\n        private _router: Router\n    ) {}\n\n    public quickBook() {\n        if (!this.form.value.host)\n            this.form.patchValue({ host: currentUser()?.email });\n        this.form.patchValue({\n            date: (this.time < 24 * 60\n                ? addMinutes(\n                      roundToNearestMinutes(new Date(), { nearestTo: 5 }),\n                      this.time\n                  )\n                : setHours(addDays(new Date(), 1), 8)\n            ).valueOf(),\n            title: 'Ad-hoc Meeting',\n        });\n        this._state.setOptions({ capacity: this.capacity });\n        this._router.navigate(['/book', 'spaces', 'find']);\n    }\n\n    public findSpace() {\n        this.form.markAllAsTouched();\n        if (!this.form.value.host)\n            this.form.patchValue({ host: currentUser()?.email });\n        if (!this.form.valid)\n            return notifyError(\n                `Some fields are invalid. [${getInvalidFields(this.form).join(\n                    ', '\n                )}]`\n            );\n        this._router.navigate(['/book', 'spaces', 'find']);\n    }\n\n    public confirmBooking() {\n        if (!this.form.value.host)\n            this.form.patchValue({ host: currentUser()?.email });\n        this.form.markAllAsTouched();\n        if (!this.form.valid)\n            return notifyError(\n                `Some fields are invalid. [${getInvalidFields(this.form).join(\n                    ', '\n                )}]`\n            );\n        this._router.navigate(['/book', 'spaces', 'confirm']);\n    }\n}\n","import { Component } from '@angular/core';\nimport { Router } from '@angular/router';\n\n@Component({\n    selector: 'placeos-book-space-flow',\n    template: `\n        <div class=\"bg-base-200 h-full w-full overflow-auto\">\n            <div\n                class=\"w-full h-full sm:h-auto max-w-[48rem] mx-auto sm:my-4 bg-base-100 shadow border border-base-200 overflow-hidden\"\n            >\n                <invite-visitor-form (done)=\"onDone()\"></invite-visitor-form>\n            </div>\n        </div>\n    `,\n    styles: [\n        `\n            :host {\n                position: relative;\n                height: 100%;\n                width: 100%;\n            }\n        `,\n    ],\n})\nexport class VisitorFlowComponent {\n    constructor(private _router: Router) {}\n\n    public onDone() {\n        this._router.navigate(['/']);\n    }\n}\n","export * from './lib/catering.module';\nexport * from './lib/catering';\nexport * from './lib/charge-code-list-modal.component';","import { Component, EventEmitter, Output } from '@angular/core';\nimport { csvToJson, DialogEvent, downloadFile } from '@placeos/common';\nimport { CateringItem } from './catering-item.class';\n\n@Component({\n    selector: 'catering-import-menu-modal',\n    template: `\n        <header class=\"h-12 bg-primary flex items-center justify-between px-4\">\n            <h2>Import Catering Menu</h2>\n            <button icon mat-dialog-close *ngIf=\"!loading\">\n                <app-icon>close</app-icon>\n            </button>\n        </header>\n        <main *ngIf=\"!loading; else load_state\">\n            <div\n                class=\"relative flex flex-col items-center justify-center space-y-2 h-[24rem] w-[24rem] border-4 border-base-200 border-dashed rounded-xl hover:bg-base-200 m-4 p-4 cursor-pointer\"\n            >\n                <app-icon class=\"text-4xl\">upload</app-icon>\n                <p>Click to select file or Drag and drop files</p>\n                <input\n                    type=\"file\"\n                    class=\"absolute inset-0 opacity-0\"\n                    (change)=\"handleFileEvent($event)\"\n                />\n            </div>\n            <div class=\"flex items-center justify-center px-4 pb-4\">\n                <button\n                    matRipple\n                    class=\"clear underline w-48\"\n                    (click)=\"downloadTemplate()\"\n                >\n                    Download Template\n                </button>\n            </div>\n        </main>\n        <ng-template #load_state>\n            <main\n                class=\"flex flex-col items-center justify-center space-y-2 p-8 h-[24rem] w-[24rem]\"\n            >\n                <mat-spinner diameter=\"32\"></mat-spinner>\n                <p>{{ loading }}</p>\n            </main>\n        </ng-template>\n    `,\n    styles: [``],\n})\nexport class CateringImportMenuModalComponent {\n    @Output() public event = new EventEmitter<DialogEvent>();\n    public loading: string;\n\n    /** Upload the image to the cloud */\n    public handleFileEvent(event: DragEvent) {\n        this.loading = 'Processing menu data...';\n        const element: HTMLInputElement = event.target as any;\n        if (!element?.files) return (this.loading = '');\n        const files: FileList = element.files;\n        if (!files.length) return (this.loading = '');\n        const file = files[0];\n        const fileReader = new FileReader();\n        fileReader.addEventListener('loadend', (e: any) => {\n            const contents = e.target.result;\n            const data = csvToJson(contents);\n            this.loading = '';\n            this.event.emit({\n                reason: 'done',\n                metadata: data\n                    .filter((_) => (_.type || '').toLowerCase() === 'item')\n                    .map(\n                        (i) =>\n                            new CateringItem({\n                                ...i,\n                                options: data\n                                    .filter(\n                                        (_) =>\n                                            (_.type || '').toLowerCase() ===\n                                                'option' && _.tags === i.id\n                                    )\n                                    .map((_) => ({\n                                        id: _.id,\n                                        name: _.name,\n                                        group: _.category,\n                                        multiple: _.multiple,\n                                        unit_price: _.unit_price,\n                                    })),\n                            })\n                    ),\n            });\n        });\n        fileReader.readAsText(file);\n    }\n\n    public downloadTemplate() {\n        const template = `ID,Type,Name,Unit Price,Category,Description,Tags,Multiple\nitem-1,item,Coffee,200,Drink,Wake Up,,\noption-1,option,1 Sugar,20,Sugars,,item-1,false`;\n        downloadFile('import-menu-template.csv', template);\n    }\n}\n","import { COMMA, ENTER, SPACE } from '@angular/cdk/keycodes';\nimport { Component, EventEmitter, Inject, Output } from '@angular/core';\nimport { FormControl, FormGroup, Validators } from '@angular/forms';\nimport { MatChipInputEvent } from '@angular/material/chips';\nimport { MAT_DIALOG_DATA } from '@angular/material/dialog';\nimport { DialogEvent, randomInt } from '@placeos/common';\nimport { CateringItem } from './catering-item.class';\n\nexport interface CateringItemModalData {\n    item: CateringItem;\n    categories?: string[];\n}\n\n@Component({\n    selector: 'catering-item-modal',\n    template: `\n        <header>\n            <h3>{{ item.id ? 'Edit' : 'Add' }} Item</h3>\n            <button icon matRipple mat-dialog-close *ngIf=\"!loading\">\n                <app-icon>close</app-icon>\n            </button>\n        </header>\n        <form\n            class=\"p-4 overflow-auto max-h-[65vh]\"\n            *ngIf=\"form && !loading; else load_state\"\n            [formGroup]=\"form\"\n        >\n            <div class=\"flex items-center space-x-2\">\n                <div class=\"flex flex-col\" *ngIf=\"form.controls.name\">\n                    <label\n                        for=\"title\"\n                        [class.error]=\"\n                            form.controls.name.invalid &&\n                            form.controls.name.touched\n                        \"\n                    >\n                        Name<span>*</span>:\n                    </label>\n                    <mat-form-field appearance=\"outline\">\n                        <input\n                            matInput\n                            name=\"name\"\n                            placeholder=\"Item name\"\n                            formControlName=\"name\"\n                        />\n                        <mat-error>Name is required</mat-error>\n                    </mat-form-field>\n                </div>\n                <div class=\"flex flex-col\" *ngIf=\"form.controls.category\">\n                    <label\n                        for=\"category\"\n                        [class.error]=\"\n                            form.controls.category.invalid &&\n                            form.controls.category.touched\n                        \"\n                    >\n                        Category<span>*</span>:\n                    </label>\n                    <mat-form-field appearance=\"outline\">\n                        <input\n                            matInput\n                            name=\"category\"\n                            placeholder=\"Category\"\n                            formControlName=\"category\"\n                            [matAutocomplete]=\"auto\"\n                        />\n                        <mat-error>Category is required</mat-error>\n                    </mat-form-field>\n                </div>\n            </div>\n            <div class=\"flex flex-col\" *ngIf=\"form.controls.tags\">\n                <label\n                    for=\"tags\"\n                    [class.error]=\"\n                        form.controls.tags.invalid && form.controls.tags.touched\n                    \"\n                    i18n=\"@@tagsLabel\"\n                >\n                    Tags:\n                </label>\n                <mat-form-field appearance=\"outline\">\n                    <mat-chip-grid #chipList aria-label=\"Item Tags\">\n                        <mat-chip-row\n                            *ngFor=\"let item of tag_list\"\n                            (removed)=\"removeTag(item)\"\n                        >\n                            {{ item }}\n                            <button\n                                matChipRemove\n                                [attr.aria-label]=\"'Remove ' + item\"\n                            >\n                                <app-icon>cancel</app-icon>\n                            </button>\n                        </mat-chip-row>\n                    </mat-chip-grid>\n                    <input\n                        name=\"tags\"\n                        placeholder=\"Item tags e.g. Gluten Free, Vegan etc.\"\n                        i18n-placeholder=\"@@zoneTagsPlaceholder\"\n                        [matChipInputFor]=\"chipList\"\n                        [matChipInputSeparatorKeyCodes]=\"separators\"\n                        [matChipInputAddOnBlur]=\"true\"\n                        (matChipInputTokenEnd)=\"addTag($event)\"\n                    />\n                </mat-form-field>\n            </div>\n            <div class=\"flex flex-col\" *ngIf=\"form.controls.description\">\n                <label for=\"description\">Description:</label>\n                <mat-form-field appearance=\"outline\">\n                    <textarea\n                        matInput\n                        name=\"description\"\n                        placeholder=\"Item Description\"\n                        formControlName=\"description\"\n                    ></textarea>\n                </mat-form-field>\n            </div>\n            <div class=\"flex flex-col\" *ngIf=\"form.controls.unit_price\">\n                <label\n                    for=\"title\"\n                    [class.error]=\"\n                        form.controls.unit_price.invalid &&\n                        form.controls.unit_price.touched\n                    \"\n                >\n                    Unit Price<span>*</span>:\n                </label>\n                <mat-form-field appearance=\"outline\">\n                    <input\n                        matInput\n                        name=\"unit-price\"\n                        type=\"number\"\n                        placeholder=\"Unit Price\"\n                        formControlName=\"unit_price\"\n                    />\n                    <mat-error>Unit Price is required</mat-error>\n                </mat-form-field>\n            </div>\n            <div class=\"flex items-center\">\n                <label class=\"flex-none w-28 min-w-0\">Accept Points?</label>\n                <mat-checkbox formControlName=\"accept_points\">{{\n                    form.get('accept_points')?.value ? 'No' : 'Yes'\n                }}</mat-checkbox>\n            </div>\n            <div class=\"flex items-center flex-wrap max-w-lg\" list>\n                <mat-checkbox\n                    [ngModel]=\"hasTag('Gluten Free')\"\n                    (ngModelChange)=\"\n                        $event\n                            ? addTag({ value: 'Gluten Free' })\n                            : removeTag('Gluten Free')\n                    \"\n                    [ngModelOptions]=\"{ standalone: true }\"\n                >\n                    Gluten Free (GF)\n                </mat-checkbox>\n                <mat-checkbox\n                    [ngModel]=\"hasTag('Vegan')\"\n                    (ngModelChange)=\"\n                        $event ? addTag({ value: 'Vegan' }) : removeTag('Vegan')\n                    \"\n                    [ngModelOptions]=\"{ standalone: true }\"\n                >\n                    Vegan (VG)\n                </mat-checkbox>\n                <mat-checkbox\n                    [ngModel]=\"hasTag('Vegetarian')\"\n                    (ngModelChange)=\"\n                        $event\n                            ? addTag({ value: 'Vegetarian' })\n                            : removeTag('Vegetarian')\n                    \"\n                    [ngModelOptions]=\"{ standalone: true }\"\n                >\n                    Vegetarian (V)\n                </mat-checkbox>\n                <mat-checkbox\n                    [ngModel]=\"hasTag('Contains Dairy')\"\n                    (ngModelChange)=\"\n                        $event\n                            ? addTag({ value: 'Contains Dairy' })\n                            : removeTag('Contains Dairy')\n                    \"\n                    [ngModelOptions]=\"{ standalone: true }\"\n                >\n                    Contains Dairy (D)\n                </mat-checkbox>\n                <mat-checkbox\n                    [ngModel]=\"hasTag('Contains Nuts')\"\n                    (ngModelChange)=\"\n                        $event\n                            ? addTag({ value: 'Contains Nuts' })\n                            : removeTag('Contains Nuts')\n                    \"\n                    [ngModelOptions]=\"{ standalone: true }\"\n                >\n                    Contains Nuts (N)\n                </mat-checkbox>\n            </div>\n            <div class=\"flex items-center\">\n                <label class=\"flex-1 w-24 min-w-0\">Discount Cap</label>\n                <a-counter\n                    class=\"border border-base-200 rounded\"\n                    formControlName=\"discount_cap\"\n                    [min]=\"0\"\n                    [max]=\"100\"\n                    [step]=\"5\"\n                    [render_fn]=\"renderPercent\"\n                ></a-counter>\n            </div>\n            <div class=\"flex flex-col\" *ngIf=\"form.controls.images\">\n                <label for=\"images\" i18n=\"@@imagesLabel\">Images:</label>\n                <image-list-field\n                    name=\"images\"\n                    formControlName=\"images\"\n                ></image-list-field>\n            </div>\n        </form>\n        <footer\n            *ngIf=\"!loading\"\n            class=\"flex p-2 items-center justify-center border-t border-solid border-base-200\"\n        >\n            <button\n                btn\n                matRipple\n                [disabled]=\"!form.dirty\"\n                (click)=\"saveChanges()\"\n            >\n                Save\n            </button>\n        </footer>\n        <ng-template #load_state>\n            <div class=\"flex flex-col items-center p-8 space-y-2 w-64\">\n                <mat-spinner diameter=\"32\"></mat-spinner>\n                <p>Saving catering item...</p>\n            </div>\n        </ng-template>\n        <mat-autocomplete #auto=\"matAutocomplete\">\n            <mat-option *ngFor=\"let option of categories\" [value]=\"option\">\n                {{ option }}\n            </mat-option>\n        </mat-autocomplete>\n    `,\n    styles: [\n        `\n            [list] mat-checkbox {\n                margin: 0.5rem;\n            }\n        `,\n    ],\n})\nexport class CateringItemModalComponent {\n    /** Emitter for events on the modal */\n    @Output() public event = new EventEmitter<DialogEvent>();\n    /** Form fields for item */\n    public form = new FormGroup({\n        name: new FormControl(this.item.name || '', [Validators.required]),\n        description: new FormControl(this.item.description || ''),\n        category: new FormControl(this.item.category || '', [\n            Validators.required,\n        ]),\n        unit_price: new FormControl(this.item.unit_price, [\n            Validators.required,\n        ]),\n        tags: new FormControl(this.item.tags || []),\n        accept_points: new FormControl(this.item.accept_points || false),\n        discount_cap: new FormControl(this.item.discount_cap || 0),\n        images: new FormControl(this.item.images || []),\n    });\n    /** Whether changes are being saved */\n    public loading = false;\n    /** List of separator characters for tags */\n    public readonly separators: number[] = [ENTER, COMMA, SPACE];\n\n    /** Current item details */\n    public get item(): CateringItem {\n        return this._data.item || new CateringItem();\n    }\n\n    /** List of available categories */\n    public get categories(): string[] {\n        return this._data.categories || [];\n    }\n\n    public get tag_list(): string[] {\n        return this.form.controls.tags.value;\n    }\n\n    public renderPercent(value: number = 0) {\n        return `${value}%`;\n    }\n\n    public hasTag(tag: string) {\n        return this.tag_list.includes(tag);\n    }\n\n    constructor(\n        @Inject(MAT_DIALOG_DATA) private _data: CateringItemModalData\n    ) {}\n\n    /**\n     * Add a tag to the list of tags for the item\n     * @param event Input event\n     */\n    public addTag(event: MatChipInputEvent): void {\n        if (!this.form || !this.form.controls.tags) return;\n        this.form.controls.tags.markAsDirty();\n        const input = event.input;\n        const value = event.value;\n        const tag_list = this.tag_list;\n        if ((value || '').trim()) {\n            tag_list.push(value);\n            this.form.controls.tags.setValue(tag_list);\n        }\n\n        // Reset the input value\n        if (input) input.value = '';\n    }\n\n    /**\n     * Remove tag from the list\n     * @param existing_tag Tag to remove\n     */\n    public removeTag(existing_tag: string): void {\n        if (!this.form || !this.form.controls.tags) return;\n        const tag_list = this.tag_list;\n        this.form.controls.tags.markAsDirty();\n        const index = tag_list.indexOf(existing_tag);\n\n        if (index >= 0) {\n            tag_list.splice(index, 1);\n            this.form.controls.tags.setValue(tag_list);\n        }\n    }\n\n    public saveChanges() {\n        this.loading = true;\n        this.event.emit({\n            reason: 'done',\n            metadata: {\n                item: new CateringItem({\n                    ...this.item,\n                    id: this.item.id || `item-${randomInt(9999_9999)}`,\n                    ...this.form.value,\n                }),\n            },\n        });\n    }\n}\n","import { Component, forwardRef, Input, SimpleChanges } from '@angular/core';\nimport { ControlValueAccessor, NG_VALUE_ACCESSOR } from '@angular/forms';\nimport { MatDialog } from '@angular/material/dialog';\nimport {\n    ANIMATION_SHOW_CONTRACT_EXPAND,\n    randomString,\n    SettingsService,\n} from '@placeos/common';\n\nimport { CateringItem } from 'libs/catering/src/lib/catering-item.class';\nimport { NewCateringOrderModalComponent } from 'libs/catering/src/lib/catering-order-modal/new-catering-order-modal.component';\nimport { CateringOrder } from './catering-order.class';\nimport { Organisation, OrganisationService } from '@placeos/organisation';\nimport { endOfDay, format, startOfDay } from 'date-fns';\n\nconst EMPTY_FAVS = [];\n\n@Component({\n    selector: `catering-list-field`,\n    template: `\n        <div list class=\"space-y-2\">\n            <div\n                order\n                *ngFor=\"let order of orders\"\n                class=\"border shadow bg-base-100 rounded-xl overflow-hidden\"\n                [class.border-error]=\"end_time < order.deliver_at\"\n                [class.border-base-300]=\"end_time >= order.deliver_at\"\n            >\n                <div class=\"flex items-center space-x-2 p-4\">\n                    <div class=\"flex-1\">\n                        <div class=\"flex items-center space-x-4\">\n                            <div>\n                                Order for\n                                {{ order.deliver_at_time | date: 'mediumDate' }}\n                                at\n                                {{ order.deliver_at_time | date: time_format }}\n                            </div>\n                            <div\n                                class=\"flex items-center justify-center h-6 w-6 rounded-full bg-error text-error-content\"\n                                [matTooltip]=\"err_tooltip\"\n                                *ngIf=\"end_time < order.deliver_at\"\n                            >\n                                <app-icon>priority_high</app-icon>\n                            </div>\n                        </div>\n                        <div class=\"text-xs opacity-60\">\n                            {{ order.item_count }} item(s) for\n                            {{\n                                order.total_cost / 100 | currency: currency_code\n                            }}\n                        </div>\n                    </div>\n                    <button\n                        icon\n                        matRipple\n                        matTooltip=\"Duplicate Order\"\n                        *ngIf=\"!disabled\"\n                        (click)=\"duplicateOrder(order)\"\n                    >\n                        <app-icon>content_copy</app-icon>\n                    </button>\n                    <button\n                        icon\n                        matRipple\n                        matTooltip=\"Edit Order\"\n                        *ngIf=\"!disabled\"\n                        (click)=\"editOrder(order)\"\n                    >\n                        <app-icon>edit</app-icon>\n                    </button>\n                    <button\n                        icon\n                        matRipple\n                        matTooltip=\"Remove Order\"\n                        class=\"text-error\"\n                        *ngIf=\"!disabled\"\n                        (click)=\"removeOrder(order)\"\n                    >\n                        <app-icon>delete</app-icon>\n                    </button>\n                    <button\n                        icon\n                        matRipple\n                        [matTooltip]=\"\n                            show_order[order.id]\n                                ? 'Hide order items'\n                                : 'Show order items'\n                        \"\n                        (click)=\"show_order[order.id] = !show_order[order.id]\"\n                    >\n                        <app-icon>\n                            {{\n                                show_order[order.id]\n                                    ? 'expand_less'\n                                    : 'expand_more'\n                            }}\n                        </app-icon>\n                    </button>\n                </div>\n                <div\n                    class=\"flex flex-col bg-base-200 divide-y divide-base-100\"\n                    [@show]=\"show_order[order.id] ? 'show' : 'hide'\"\n                >\n                    <div\n                        class=\"flex items-center px-4 py-1 space-x-2 hover:opacity-90\"\n                        *ngFor=\"let item of order.items\"\n                    >\n                        <div class=\"flex items-center flex-1\">\n                            {{ item.name || 'Item' }}\n                            <span\n                                class=\"text-xs opacity-60 ml-4 font-normal\"\n                                *ngIf=\"item.option_list?.length\"\n                                [matTooltip]=\"optionList(item)\"\n                            >\n                                {{ item.option_list?.length || '0' }} option(s)\n                            </span>\n                        </div>\n                        <div\n                            class=\"rounded bg-success text-success-content text-xs px-2 py-1\"\n                        >\n                            x{{ item.quantity }}\n                        </div>\n                        <div\n                            class=\"rounded bg-info text-info-content text-xs px-2 py-1\"\n                        >\n                            {{\n                                item.unit_price_with_options / 100\n                                    | currency: currency_code\n                            }}\n                            ea\n                        </div>\n                        <button\n                            icon\n                            matRipple\n                            matTooltip=\"Remove Order Item\"\n                            class=\"text-error\"\n                            *ngIf=\"!disabled\"\n                            (click)=\"removeOrderItem(order, item)\"\n                        >\n                            <app-icon>delete</app-icon>\n                        </button>\n                        <button\n                            icon\n                            matRipple\n                            name=\"toggle-catering-item-favourite\"\n                            [matTooltip]=\"\n                                favorites.includes(item.id)\n                                    ? 'Remove from favourites'\n                                    : 'Add to favourites'\n                            \"\n                            [class.text-blue-400]=\"favorites.includes(item.id)\"\n                            (click)=\"toggleFavourite(item)\"\n                        >\n                            <app-icon>{{\n                                favorites.includes(item.id)\n                                    ? 'favorite'\n                                    : 'favorite_border'\n                            }}</app-icon>\n                        </button>\n                    </div>\n                </div>\n            </div>\n        </div>\n        <button\n            btn\n            matRipple\n            name=\"add-catering-item\"\n            class=\"w-full inverse mt-2\"\n            [disabled]=\"disabled\"\n            (click)=\"editOrder()\"\n        >\n            <div class=\"flex items-center justify-center space-x-2\">\n                <app-icon>search</app-icon>\n                <span>Add Order</span>\n            </div>\n        </button>\n    `,\n    styles: [``],\n    animations: [ANIMATION_SHOW_CONTRACT_EXPAND],\n    providers: [\n        {\n            provide: NG_VALUE_ACCESSOR,\n            /* istanbul ignore next */\n            useExisting: forwardRef(() => CateringListFieldComponent),\n            multi: true,\n        },\n    ],\n})\nexport class CateringListFieldComponent implements ControlValueAccessor {\n    @Input() public options: {\n        date?: number;\n        duration?: number;\n        all_day?: boolean;\n        zone_id?: string;\n    } = {};\n    public orders: CateringOrder[] = [];\n    public show_order: Record<string, boolean> = {};\n    public disabled = false;\n    public err_tooltip =\n        'Delivery time is outside of the event time.\\nThis order will be ignored.';\n\n    private _onChange: (_: CateringOrder[]) => void;\n    private _onTouch: (_: CateringOrder[]) => void;\n    public selected: CateringOrder[] = [];\n\n    public get favorites() {\n        return (\n            this._settings.get<string[]>('favourite_menu_items') || EMPTY_FAVS\n        );\n    }\n\n    public get end_time() {\n        const time =\n            (this.options.date || Date.now()) +\n            (this.options.duration || 30) * 60 * 1000;\n        return this.options.all_day ? endOfDay(time).valueOf() : time;\n    }\n\n    public get time_format() {\n        return this._settings.time_format || 'shortTime';\n    }\n\n    public get currency_code() {\n        return this._org.building?.currency || 'USD';\n    }\n\n    constructor(\n        private _settings: SettingsService,\n        private _org: OrganisationService,\n        private _dialog: MatDialog\n    ) {}\n\n    /**\n     * Update the form field value\n     * @param new_value New value to set on the form field\n     */\n    public setValue(new_value: CateringOrder[]) {\n        this.orders = new_value;\n        if (this._onChange) this._onChange(this.orders);\n    }\n\n    public ngOnChanges(changes: SimpleChanges) {\n        if (changes.options) {\n            this.orders = (this.orders || []).map(\n                (_) => new CateringOrder({ ..._, event: this.options as any })\n            );\n        }\n    }\n\n    /**\n     * Update local value when form control value is changed\n     * @param value The new value for the component\n     */\n    public writeValue(value: CateringOrder[]) {\n        this.orders = (value || []).map(\n            (_) => new CateringOrder({ ..._, event: this.options as any })\n        );\n    }\n\n    public readonly registerOnChange = (fn: (_: CateringOrder[]) => void) =>\n        (this._onChange = fn);\n    public readonly registerOnTouched = (fn: (_: CateringOrder[]) => void) =>\n        (this._onTouch = fn);\n    public readonly setDisabledState = (s: boolean) => (this.disabled = s);\n\n    public removeOrder(order: CateringItem) {\n        const updated_list = this.orders.filter((_) => _.id !== order.id);\n        this.setValue(updated_list);\n    }\n\n    public duplicateOrder(order: CateringOrder) {\n        const new_order = new CateringOrder({\n            ...order,\n            id: `order-${randomString(8)}`,\n        });\n        this.setValue([...this.orders, new_order]);\n    }\n\n    public removeOrderItem(order: CateringOrder, item: CateringItem) {\n        const new_order = new CateringOrder({\n            ...order,\n            items: order.items.filter((_) => _.custom_id !== item.custom_id),\n        });\n        const updated_list = this.orders.filter((_) => _.id !== order.id);\n        if (new_order.items.length > 0) {\n            this.setValue([...updated_list, new_order]);\n        } else this.setValue(updated_list);\n    }\n\n    public editOrder(order: CateringOrder = new CateringOrder()) {\n        const ref = this._dialog.open(NewCateringOrderModalComponent, {\n            data: {\n                items: order.items,\n                details: {\n                    ...this.options,\n                    date: this.options.all_day\n                        ? startOfDay(this.options.date).valueOf()\n                        : this.options.date,\n                    duration: this.options.all_day\n                        ? Math.max(24 * 60, this.options.duration)\n                        : this.options.duration,\n                },\n                exact_time: !!order.deliver_time,\n                offset: order.deliver_offset,\n                offset_day: order.deliver_day_offset,\n            },\n        });\n        ref.afterClosed().subscribe((items?: CateringItem[]) => {\n            const orders = this.orders.filter((_) => _.id !== order.id);\n            if (!items?.length) return;\n            const time = new Date(this.options.date);\n            for (const item of items) {\n                (item as any).options = [\n                    ...item.options.map((_) => ({ ..._ })),\n                ];\n                for (const option of item.options) {\n                    const opt = item.option_list.find(\n                        (_) => _.id === option.id\n                    );\n                    option.active = !!opt;\n                }\n            }\n            const new_order = new CateringOrder({\n                ...order,\n                items,\n                event: this.options as any,\n                deliver_offset: ref.componentInstance.offset,\n                deliver_time: ref.componentInstance.exact_time\n                    ? time.getHours() + time.getMinutes() / 60\n                    : null,\n                deliver_day_offset: ref.componentInstance.offset_day || 0,\n            });\n            if (new_order.item_count <= 0) return;\n            this.setValue([...orders, new_order]);\n        });\n    }\n\n    public optionList(item: CateringItem) {\n        return item.option_list?.map((_) => _.name).join('\\n');\n    }\n\n    public toggleFavourite(cateringitem: CateringItem) {\n        const fav_list = this.favorites;\n        const new_state = !fav_list.includes(cateringitem.id);\n        if (new_state) {\n            this._settings.saveUserSetting('favourite_menu_items', [\n                ...fav_list,\n                cateringitem.id,\n            ]);\n        } else {\n            this._settings.saveUserSetting(\n                'favourite_menu_items',\n                fav_list.filter((_) => _ !== cateringitem.id)\n            );\n        }\n    }\n}\n","import { Component } from '@angular/core';\nimport { BehaviorSubject } from 'rxjs';\nimport { map } from 'rxjs/operators';\n\nimport { CateringStateService } from './catering-state.service';\nimport { CateringItem } from './catering-item.class';\nimport { unique } from '@placeos/common';\nimport { CateringOrdersService } from './catering-orders.service';\n\n@Component({\n    selector: 'catering-menu',\n    template: `\n        <simple-table\n            class=\"w-full min-w-[32rem] block text-sm\"\n            [data]=\"menu\"\n            [columns]=\"[\n                {\n                    key: 'active',\n                    name: ' ',\n                    content: active_template,\n                    size: '3.5rem',\n                    sortable: false\n                },\n                { key: 'name', name: 'Name' },\n                { key: 'category', name: 'Category' },\n                {\n                    key: 'unit_price',\n                    name: 'Price',\n                    content: price_template,\n                    size: '6rem'\n                },\n                {\n                    key: 'actions',\n                    name: ' ',\n                    content: actions_template,\n                    size: '6.5rem',\n                    sortable: false\n                }\n            ]\"\n            [filter]=\"filters?.search\"\n            [show_children]=\"show_children\"\n            [child_template]=\"child_template\"\n            [sortable]=\"true\"\n            empty_message=\"No Items in Menu\"\n        ></simple-table>\n        <ng-template #active_template let-row=\"row\">\n            <mat-checkbox\n                class=\"mx-auto\"\n                matTooltip=\"Allow Ordering Item for this zone\"\n                matTooltipPosition=\"right\"\n                [ngModel]=\"isEnabled(row)\"\n                (ngModelChange)=\"setEnabled(row, $event)\"\n            ></mat-checkbox>\n        </ng-template>\n        <ng-template #price_template let-data=\"data\">\n            <div\n                class=\"px-2 py-1 font-mono text-xs flex items-center mx-auto bg-secondary text-secondary-content rounded\"\n            >\n                {{ data / 100 | currency: (symbol | async) }}\n            </div>\n        </ng-template>\n        <ng-template #actions_template let-row=\"row\">\n            <div class=\"p-2 flex items-center mx-auto space-x-2\">\n                <button\n                    icon\n                    matRipple\n                    [disabled]=\"!can_edit\"\n                    [class.opacity-0]=\"!can_edit\"\n                    [matMenuTriggerFor]=\"menu\"\n                >\n                    <app-icon>more_vert</app-icon>\n                </button>\n                <mat-menu #menu=\"matMenu\">\n                    <button\n                        mat-menu-item\n                        class=\"flex items-center\"\n                        (click)=\"addOption(row)\"\n                    >\n                        <div class=\"flex items-center space-x-2 pr-2\">\n                            <app-icon>add</app-icon>\n                            <div>Add Option</div>\n                        </div>\n                    </button>\n                    <button\n                        mat-menu-item\n                        class=\"flex items-center\"\n                        (click)=\"editItem(row)\"\n                    >\n                        <div class=\"flex items-center space-x-2 pr-2\">\n                            <app-icon>edit</app-icon>\n                            <div>Edit Item</div>\n                        </div>\n                    </button>\n                    <button\n                        mat-menu-item\n                        class=\"flex items-center\"\n                        (click)=\"removeItem(row)\"\n                    >\n                        <div class=\"flex items-center space-x-2 pr-2\">\n                            <app-icon class=\"text-error\">delete</app-icon>\n                            <div>Remove Item</div>\n                        </div>\n                    </button>\n                </mat-menu>\n                <button\n                    icon\n                    matRipple\n                    [disabled]=\"!row.options?.length\"\n                    [matTooltip]=\"\n                        row.options?.length\n                            ? (show_children[row.id] ? 'Hide' : 'Show') +\n                              ' Menu Item Options'\n                            : ''\n                    \"\n                    (click)=\"show_children[row.id] = !show_children[row.id]\"\n                >\n                    <app-icon>\n                        {{\n                            show_children[row.id]\n                                ? 'keyboard_arrow_down'\n                                : 'chevron_right'\n                        }}\n                    </app-icon>\n                </button>\n            </div>\n        </ng-template>\n        <ng-template #child_template let-row=\"row\">\n            <div\n                class=\"flex p-2 items-center border-b border-solid border-base-200 relative space-x-2\"\n                *ngFor=\"let option of row.options\"\n            >\n                <div\n                    class=\"absolute inset-y-0 left-0 w-2 bg-black opacity-10\"\n                ></div>\n                <div class=\"flex-1 pl-4 pr-2\">\n                    <div class=\"text\">{{ option.name }}</div>\n                    <div class=\"text-xs opacity-60\">\n                        {{ option.group }}\n                    </div>\n                </div>\n                <button\n                    icon\n                    matRipple\n                    matTooltip=\"Edit Menu Item Option\"\n                    (click)=\"editOption(row, option)\"\n                    *ngIf=\"can_edit\"\n                >\n                    <app-icon>edit</app-icon>\n                </button>\n                <button\n                    icon\n                    matRipple\n                    class=\"!mr-1\"\n                    matTooltip=\"Remove Menu Item Option\"\n                    (click)=\"removeOption(row, option)\"\n                    *ngIf=\"can_edit\"\n                >\n                    <app-icon class=\"text-error\">delete</app-icon>\n                </button>\n            </div>\n        </ng-template>\n    `,\n    styles: [\n        `\n            :host {\n                display: flex;\n                flex-direction: column;\n                height: 90%;\n                width: 100%;\n            }\n        `,\n    ],\n})\nexport class CateringMenuComponent {\n    public show_children: Record<string, boolean> = {};\n    /** Observable for the currently active menu */\n    public readonly menu = this._catering.menu;\n\n    public readonly addOption = (item) => this._catering.addOption(item);\n\n    public readonly editOption = (item, option) =>\n        this._catering.addOption(item, option);\n\n    public readonly removeOption = (item, option) =>\n        this._catering.deleteOption(item, option);\n\n    public readonly editItem = (item) => this._catering.addItem(item);\n\n    public readonly removeItem = (item) => this._catering.deleteItem(item);\n\n    public get filters() {\n        return this._orders.filters;\n    }\n\n    public get can_edit() {\n        return this._catering.is_editable;\n    }\n    public get categories() {\n        return this._catering.categories;\n    }\n\n    constructor(\n        private _catering: CateringStateService,\n        private _orders: CateringOrdersService\n    ) {}\n\n    public isEnabled(item: CateringItem) {\n        return !item.hide_for_zones.includes(this._catering.zone);\n    }\n\n    public setEnabled(item: CateringItem, state: boolean) {\n        let list = item.hide_for_zones;\n        if (!state) list = unique([...list, this._catering.zone]);\n        else list = list.filter((_) => _ !== this._catering.zone);\n        this._catering.updateItem(\n            new CateringItem({ ...item, hide_for_zones: list })\n        );\n    }\n}\n","import { Component, EventEmitter, Inject, OnInit, Output } from '@angular/core';\nimport { FormGroup, FormControl, Validators } from '@angular/forms';\nimport { MAT_DIALOG_DATA } from '@angular/material/dialog';\n\nimport { DialogEvent } from 'libs/common/src/lib/types';\nimport { randomInt } from 'libs/common/src/lib/general';\n\nimport { CateringItem } from './catering-item.class';\nimport { CateringOption } from './catering.interfaces';\n\nexport interface CateringItemOptionModalData {\n    parent: CateringItem;\n    option: CateringOption;\n    types: string[];\n}\n\n@Component({\n    selector: 'catering-option-modal',\n    template: `\n        <header>\n            <h3>{{ option.id ? 'Edit' : 'Add' }} Item Option</h3>\n            <button icon mat-dialog-close *ngIf=\"!loading\">\n                <app-icon>close</app-icon>\n            </button>\n        </header>\n        <form\n            class=\"p-4 overflow-auto max-h-[65vh]\"\n            *ngIf=\"form && !loading; else load_state\"\n            [formGroup]=\"form\"\n        >\n            <div class=\"flex flex-col\" *ngIf=\"form.controls.name\">\n                <label\n                    for=\"title\"\n                    [class.error]=\"\n                        form.controls.name.invalid && form.controls.name.touched\n                    \"\n                >\n                    Name<span>*</span>:\n                </label>\n                <mat-form-field appearance=\"outline\">\n                    <input\n                        matInput\n                        name=\"name\"\n                        placeholder=\"Item name\"\n                        formControlName=\"name\"\n                    />\n                    <mat-error>Name is required</mat-error>\n                </mat-form-field>\n            </div>\n            <div class=\"flex flex-col\" *ngIf=\"form.controls.group\">\n                <label\n                    for=\"group\"\n                    [class.error]=\"\n                        form.controls.group.invalid &&\n                        form.controls.group.touched\n                    \"\n                >\n                    Type<span>*</span>:\n                </label>\n                <mat-form-field appearance=\"outline\">\n                    <input\n                        matInput\n                        name=\"group\"\n                        placeholder=\"Type of option e.g. Number of sugars\"\n                        formControlName=\"group\"\n                        [matAutocomplete]=\"auto\"\n                    />\n                    <mat-error>Type is required</mat-error>\n                </mat-form-field>\n            </div>\n            <div class=\"flex flex-col\" *ngIf=\"form.controls.unit_price\">\n                <label for=\"title\">Unit Price:</label>\n                <mat-form-field appearance=\"outline\">\n                    <input\n                        matInput\n                        name=\"unit-price\"\n                        type=\"number\"\n                        placeholder=\"Unit Price\"\n                        formControlName=\"unit_price\"\n                    />\n                </mat-form-field>\n            </div>\n            <div class=\"flex flex-col\" *ngIf=\"form.controls.multiple\">\n                <mat-checkbox name=\"multiple\" formControlName=\"multiple\">\n                    Can select multiple of type\n                </mat-checkbox>\n            </div>\n        </form>\n        <footer\n            *ngIf=\"!loading\"\n            class=\"flex p-2 items-center justify-center border-t border-solid border-base-200\"\n        >\n            <button\n                btn\n                matRipple\n                [disabled]=\"!form.dirty\"\n                (click)=\"saveChanges()\"\n            >\n                Save\n            </button>\n        </footer>\n        <ng-template #load_state>\n            <div loading class=\"flex flex-col items-center p-8 space-y-2 w-64\">\n                <mat-spinner diameter=\"32\"></mat-spinner>\n                <p>Saving catering item option...</p>\n            </div>\n        </ng-template>\n        <mat-autocomplete #auto=\"matAutocomplete\">\n            <mat-option *ngFor=\"let option of types\" [value]=\"option\">\n                {{ option }}\n            </mat-option>\n        </mat-autocomplete>\n    `,\n    styles: [``],\n})\nexport class CateringItemOptionModalComponent {\n    /** Emitter for events on the modal */\n    @Output() public event = new EventEmitter<DialogEvent>();\n    /** Form fields for item */\n    public form = new FormGroup({\n        name: new FormControl(this.option.name || '', [Validators.required]),\n        group: new FormControl(this.option.group || '', [Validators.required]),\n        unit_price: new FormControl(this.option.unit_price),\n        multiple: new FormControl(!!this.option.multiple, []),\n    });\n    /** Whether changes are being saved */\n    public loading = false;\n\n    /** Current item details */\n    public get option(): CateringOption {\n        return this._data.option;\n    }\n\n    /** List of available categories */\n    public get types(): string[] {\n        return this._data.types || [];\n    }\n\n    constructor(\n        @Inject(MAT_DIALOG_DATA) private _data: CateringItemOptionModalData\n    ) {}\n\n    public saveChanges() {\n        this.loading = true;\n        const new_option = {\n            ...this.option,\n            id: this.option.id || `option-${randomInt(9999_9999)}`,\n            ...this.form.value,\n        } as CateringOption;\n        this.event.emit({\n            reason: 'done',\n            metadata: {\n                item: new CateringItem({\n                    ...this._data.parent,\n                    options: this._data.parent.options\n                        .filter((i) => i.id !== new_option.id)\n                        .concat([new_option]),\n                }),\n            },\n        });\n    }\n}\n","import { Component, Input } from '@angular/core';\n\nimport { CateringItem } from './catering-item.class';\n\nconst ACTIVE_ITEMS = new Set<string>();\n\n@Component({\n    selector: '[catering-order-item]',\n    template: `\n        <ng-container *ngIf=\"item\">\n            <div class=\"w-16 text-right h-14 relative\">\n                <div\n                    arm\n                    class=\"border-b-2 border-l-2 border-base-200 w-4 h-16 absolute top-1/2 left-1/2 -translate-y-full -translate-x-px\"\n                ></div>\n            </div>\n            <div class=\"w-12 mr-4\">\n                <button\n                    action\n                    icon\n                    matRipple\n                    class=\"border-2 border-base-200 border-dashed text-xl text-dark-fade p-2\"\n                    [class.bg-success]=\"active\"\n                    [class.text-white]=\"active\"\n                    [class.border-solid]=\"active\"\n                    (click)=\"toggle()\"\n                >\n                    <app-icon>{{ active ? 'done' : 'local_pizza' }}</app-icon>\n                </button>\n            </div>\n            <div\n                class=\"flex flex-1 items-center border-b border-base-200 border-solid py-4 space-x-4\"\n            >\n                <div class=\"\">\n                    <div\n                        class=\"p-1 rounded-full bg-base-300 w-10 h-10 flex items-center justify-center font-mono text-sm\"\n                    >\n                        {{ item?.amount || item?.quantity || 1 }}×\n                    </div>\n                </div>\n                <div class=\"flex-1\">{{ item?.name }}</div>\n                <div class=\"flex space-x-2 mr-2 px-4\">\n                    <ng-container *ngFor=\"let opt of item.option_list\">\n                        <div\n                            class=\"text-xs py-1 px-2 bg-warning text-warning-content rounded-2xl shadow\"\n                            *ngIf=\"opt\"\n                        >\n                            {{ opt.name }}\n                        </div>\n                    </ng-container>\n                </div>\n            </div>\n        </ng-container>\n    `,\n    styles: [\n        `\n            :host:last-child > div {\n                border: none !important;\n            }\n        `,\n    ],\n})\nexport class CateringOrderItemComponent {\n    @Input() public order_id: string;\n    @Input() public item: CateringItem;\n\n    public active = false;\n\n    public get item_key() {\n        return `${this.order_id}|${this.item?.id}`;\n    }\n\n    public ngOnInit() {\n        this.active = ACTIVE_ITEMS.has(this.item_key);\n    }\n\n    public toggle() {\n        if (ACTIVE_ITEMS.has(this.item_key)) {\n            ACTIVE_ITEMS.delete(this.item_key);\n            this.active = false;\n        } else {\n            ACTIVE_ITEMS.add(this.item_key);\n            this.active = true;\n        }\n    }\n}\n","import { Component } from '@angular/core';\nimport { CateringOrder } from './catering-order.class';\n\nimport { CateringOrdersService } from './catering-orders.service';\nimport { AsyncHandler, SettingsService } from '@placeos/common';\nimport { CATERING_STATUSES } from './catering.vars';\n\n@Component({\n    selector: 'catering-order-list',\n    template: `\n        <div class=\"flex flex-col h-full w-full overflow-auto\">\n            <!-- <mat-progress-bar\n                [class.opacity-0]=\"!(loading | async)\"\n                class=\"w-full\"\n                mode=\"indeterminate\"\n            ></mat-progress-bar> -->\n            <simple-table\n                class=\"min-w-[72rem] w-full block text-sm\"\n                [data]=\"order_list\"\n                [columns]=\"[\n                    {\n                        key: 'state',\n                        name: ' ',\n                        size: '4rem',\n                        sortable: false,\n                        content: state_template\n                    },\n                    {\n                        key: 'deliver_at',\n                        name: 'Time',\n                        content: time_template\n                    },\n                    {\n                        key: 'event',\n                        name: 'Location',\n                        content: location_template,\n                        sortable: false\n                    },\n                    {\n                        key: 'event',\n                        name: 'Host',\n                        content: host_template,\n                        sortable: false\n                    },\n                    { key: 'charge_code', name: 'Charge Code' },\n                    {\n                        key: 'invoice_number',\n                        name: 'Invoice No.',\n                        empty: 'No Invoice'\n                    },\n                    {\n                        key: 'status',\n                        name: 'Status',\n                        content: status_template,\n                        size: '11rem'\n                    },\n                    {\n                        key: 'actions',\n                        name: ' ',\n                        size: '6.5rem',\n                        content: actions_template,\n                        sortable: false\n                    }\n                ]\"\n                [sortable]=\"true\"\n                [show_children]=\"show_children\"\n                [child_template]=\"child_template\"\n                empty_message=\"No Catering Orders\"\n            >\n            </simple-table>\n            <ng-template #state_template let-data=\"data\">\n                <div class=\"p-2\">\n                    <div\n                        class=\"rounded-full bg-base-200 p-2 text-2xl flex items-center justify-center\"\n                    >\n                        <app-icon>room_service</app-icon>\n                    </div>\n                </div>\n            </ng-template>\n            <ng-template #time_template let-data=\"data\" let-row=\"row\">\n                <div class=\"p-4\">\n                    <div>Deliver at {{ data | date: time_format }}</div>\n                    <div class=\"text-xs opacity-30\">\n                        {{ row?.event?.date | date: 'MMM d' }},\n                        {{ row?.event?.date | date: time_format }}\n                        -\n                        {{ row?.event?.date_end | date: 'MMM d' }},\n                        {{ row?.event?.date_end | date: time_format }}\n                    </div>\n                </div>\n            </ng-template>\n            <ng-template #location_template let-data=\"data\">\n                <div class=\"px-4 py-2\">\n                    {{ data?.space?.display_name || data?.space?.name || '' }}\n                    <span\n                        class=\"opacity-30\"\n                        *ngIf=\"\n                            !(data?.space?.display_name || data?.space?.name)\n                        \"\n                    >\n                        No Location\n                    </span>\n                </div>\n            </ng-template>\n            <ng-template #host_template let-data=\"data\">\n                <div class=\"px-4 py-2\">\n                    <div>\n                        {{ data?.organiser?.name || data?.host || '' }}\n                        <span\n                            class=\"opacity-30\"\n                            *ngIf=\"!(data?.organiser?.name || data?.host)\"\n                        >\n                            Unknown Host\n                        </span>\n                    </div>\n                    <div class=\"text-xs opacity-30\">\n                        {{ data?.organiser?.email || data?.host }}\n                    </div>\n                </div>\n            </ng-template>\n            <ng-template #status_template let-row=\"row\" let-data=\"data\">\n                <div class=\"px-4 py-2\">\n                    <button\n                        status\n                        matRipple\n                        class=\"rounded-3xl text-base border-none h-10 px-4 flex items-center text-white w-36\"\n                        [style.background]=\"status(data)?.colour\"\n                        [matMenuTriggerFor]=\"menu\"\n                    >\n                        <div class=\"flex text-center capitalize mx-2\">\n                            {{ status(data)?.name }}\n                        </div>\n                        <app-icon class=\"pl-2\">arrow_drop_down</app-icon>\n                    </button>\n                </div>\n                <mat-menu #menu=\"matMenu\">\n                    <button\n                        mat-menu-item\n                        *ngFor=\"let status of statuses\"\n                        class=\"flex items-center\"\n                        (click)=\"updateStatus(row, status.id)\"\n                    >\n                        <div class=\"flex items-center space-x-2\">\n                            <div\n                                class=\"rounded-full h-4 w-4 mr-2\"\n                                [style.background-color]=\"status.colour\"\n                            ></div>\n                            <span class=\"mr-2 w-20\">{{ status.name }}</span>\n                        </div>\n                    </button>\n                </mat-menu>\n            </ng-template>\n            <ng-template #actions_template let-row=\"row\">\n                <div class=\"flex items-center space-x-2 p-2 mx-auto\">\n                    <button\n                        icon\n                        matRipple\n                        customTooltip\n                        [hover]=\"true\"\n                        xPosition=\"end\"\n                        yPosition=\"top\"\n                        [content]=\"notes_template\"\n                        [disabled]=\"!row.notes\"\n                    >\n                        <app-icon>description</app-icon>\n                    </button>\n                    <ng-template #notes_template>\n                        <div\n                            class=\"p-2 rounded-lg bg-base-100 text-base-content max-w-[32rem] min-w-[8rem] shadow border border-base-200\"\n                        >\n                            <div class=\"mb-2\">Notes</div>\n                            <p class=\"text-sm px-4 py-2 bg-base-200 rounded\">\n                                {{ row.notes }}\n                            </p>\n                        </div>\n                    </ng-template>\n                    <button\n                        icon\n                        matRipple\n                        (click)=\"show_children[row.id] = !show_children[row.id]\"\n                    >\n                        <app-icon>\n                            {{\n                                show_children[row.id]\n                                    ? 'keyboard_arrow_down'\n                                    : 'chevron_right'\n                            }}\n                        </app-icon>\n                    </button>\n                </div>\n            </ng-template>\n            <ng-template #child_template let-row=\"row\">\n                <ul\n                    *ngIf=\"row?.items.length\"\n                    class=\"list-none p-0 m-0 w-full relative z-0\"\n                >\n                    <li\n                        catering-order-item\n                        class=\"flex items-center\"\n                        *ngFor=\"let item of row.items; let i = index\"\n                        [order_id]=\"row?.id\"\n                        [item]=\"item\"\n                    ></li>\n                </ul>\n            </ng-template>\n        </div>\n    `,\n    styles: [\n        `\n            :host {\n                display: flex;\n                flex-direction: column;\n                height: 100%;\n                width: 100%;\n            }\n        `,\n    ],\n})\nexport class CateringOrderListComponent extends AsyncHandler {\n    /** List of filtered orders */\n    public readonly order_list = this._orders.filtered;\n    /** Whether order list is loading */\n    public readonly loading = this._orders.loading;\n\n    public readonly statuses = CATERING_STATUSES;\n    public readonly show_children: Record<string, boolean> = {};\n\n    public readonly updateStatus = async (order, s) => {\n        await this._orders.updateStatus(order, s);\n        this.timeout('status-change', () => ((order as any).status = s));\n    };\n\n    public get time_format() {\n        return this._settings.time_format;\n    }\n\n    public status(value: string) {\n        return CATERING_STATUSES.find((i) => i.id === value);\n    }\n\n    constructor(\n        private _orders: CateringOrdersService,\n        private _settings: SettingsService\n    ) {\n        super();\n    }\n\n    public ngOnInit() {\n        this._orders.startPolling();\n    }\n\n    public ngOnDestroy() {\n        this._orders.stopPolling();\n    }\n\n    /* istanbul ignore next */\n    public trackByFn(index: number, order: CateringOrder) {\n        return order ? order.id : undefined;\n    }\n}\n","import { Component, Inject, Output, EventEmitter, OnInit } from '@angular/core';\nimport { MAT_DIALOG_DATA } from '@angular/material/dialog';\nimport { Observable } from 'rxjs';\n\nimport { AsyncHandler, DialogEvent, HashMap, unique } from '@placeos/common';\n\nimport { CateringItem } from './catering-item.class';\nimport { CateringOrder } from './catering-order.class';\nimport { CateringOption } from './catering.interfaces';\nimport { OrganisationService } from '@placeos/organisation';\nimport { cateringItemAvailable } from './utilities';\nimport { AttachedResourceRuleset } from '@placeos/components';\n\nexport interface CateringOrderModalData {\n    order: CateringOrder;\n    code: string;\n    menu: Observable<CateringItem[]>;\n    loading: Observable<boolean>;\n    getCateringConfig: (_: string) => Promise<AttachedResourceRuleset[]>;\n    selectOptions: (_: CateringOption[]) => Promise<CateringOption[]>;\n}\n\n// TODO: Split template into 2 children components. Order menu and Order Confirm;\n\n@Component({\n    selector: 'app-catering-order-modal',\n    template: `\n        <div class=\"main min-w-[20rem]\" *ngIf=\"!loading; else load_state\">\n            <ng-container *ngIf=\"!show_order_details; else order_details\">\n                <mat-tab-group>\n                    <ng-container *ngFor=\"let cat of categories\">\n                        <mat-tab\n                            *ngIf=\"(menu_items || {})[cat].length\"\n                            [label]=\"cat\"\n                        >\n                            <div class=\"list\">\n                                <div\n                                    item\n                                    class=\"flex items-center p-2 border-b border-base-200\"\n                                    *ngFor=\"let item of (menu_items || {})[cat]\"\n                                >\n                                    <div class=\"flex-1 w-1/2\">\n                                        <div class=\"flex-1 w-1/2\">\n                                            {{ item.name }}\n                                        </div>\n                                        <div\n                                            class=\"text-xs no-underline\"\n                                            *ngIf=\"item.options.length\"\n                                        >\n                                            Options Available\n                                        </div>\n                                    </div>\n                                    <div\n                                        class=\"bg-primary text-xs rounded px-4 py-2 mx-2 text-white font-medium\"\n                                    >\n                                        {{\n                                            item.unit_price / 100\n                                                | currency: code\n                                        }}\n                                    </div>\n                                    <a-counter\n                                        ngDefaultControl\n                                        [ngModel]=\"item.quantity\"\n                                        (ngModelChange)=\"\n                                            updateItemQuantity(item, $event)\n                                        \"\n                                        *ngIf=\"!item.options.length\"\n                                    ></a-counter>\n                                    <div\n                                        class=\"flex items-center\"\n                                        *ngIf=\"item.options.length\"\n                                    >\n                                        <div\n                                            [matTooltip]=\"\n                                                item.quantity\n                                                    ? 'Items with options must be removed from order confirmation page'\n                                                    : ''\n                                            \"\n                                        >\n                                            <button\n                                                icon\n                                                matRipple\n                                                [disabled]=\"true\"\n                                            >\n                                                <app-icon>remove</app-icon>\n                                            </button>\n                                        </div>\n                                        <div\n                                            class=\"count h-12 w-12 flex items-center justify-center\"\n                                        >\n                                            {{ item.quantity }}\n                                        </div>\n                                        <button\n                                            icon\n                                            matRipple\n                                            (click)=\"addItem(item)\"\n                                        >\n                                            <app-icon>add</app-icon>\n                                        </button>\n                                    </div>\n                                </div>\n                            </div>\n                        </mat-tab>\n                    </ng-container>\n                </mat-tab-group>\n            </ng-container>\n        </div>\n        <footer\n            *ngIf=\"!loading\"\n            class=\"flex items-center justify-center space-x-2 p-2 border-t border-base-200\"\n        >\n            <ng-container *ngIf=\"!show_order_details; else order_actions\">\n                <button btn matRipple class=\"inverse\" mat-dialog-close>\n                    Cancel\n                </button>\n                <button\n                    confirm\n                    btn\n                    matRipple\n                    [disabled]=\"!order.item_count\"\n                    [matBadge]=\"order.item_count\"\n                    [matBadgeHidden]=\"!order.item_count\"\n                    matBadgeColor=\"warn\"\n                    (click)=\"show_order_details = true\"\n                >\n                    Confirm\n                </button>\n            </ng-container>\n            <ng-template #order_actions>\n                <button\n                    matRipple\n                    class=\"inverse\"\n                    (click)=\"show_order_details = false\"\n                >\n                    Back\n                </button>\n                <button save btn matRipple (click)=\"saveOrder()\">\n                    Save Order\n                </button>\n            </ng-template>\n        </footer>\n        <ng-template #load_state>\n            <div class=\"flex flex-col w-64 p-8 items-center space-y-2\">\n                <mat-spinner diameter=\"32\"></mat-spinner>\n                <p>{{ loading }}</p>\n            </div>\n        </ng-template>\n        <ng-template #order_details>\n            <header class=\"h-[3.25rem]\">\n                <h3>Confirm Order</h3>\n            </header>\n            <div class=\"list\">\n                <div\n                    item\n                    class=\"flex items-center p-2 border-b border-base-200\"\n                    *ngFor=\"let item of order.items\"\n                >\n                    <div class=\"flex-1 w-1/2\">\n                        <div class=\"flex-1 w-1/2\">{{ item.name }}</div>\n                        <div\n                            class=\"text-xs underline\"\n                            *ngIf=\"item.options.length\"\n                            [matTooltip]=\"optionsFor(item)\"\n                        >\n                            {{ item.options.length }} option{{\n                                item.options.length === 1 ? '' : 's'\n                            }}\n                            selected\n                        </div>\n                    </div>\n                    <div\n                        class=\"bg-primary text-xs rounded px-4 py-2 mx-2 text-white font-medium\"\n                    >\n                        {{ item.total_cost / 100 | currency: code }}\n                    </div>\n                    <a-counter\n                        [ngModel]=\"item.quantity\"\n                        (ngModelChange)=\"updateItemQuantity(item, $event)\"\n                    ></a-counter>\n                </div>\n            </div>\n        </ng-template>\n    `,\n    styles: [\n        `\n            .list {\n                height: 24em;\n                min-width: 32em;\n                max-width: calc(100vw - 1em);\n            }\n\n            footer button {\n                min-width: 12em;\n            }\n\n            input {\n                position: relative;\n                width: 100%;\n                padding: 1em;\n                border: none;\n                border-radius: 0 !important;\n                border-top: 1px solid #ccc;\n                border-bottom: 1px solid #ccc;\n                outline: none;\n                font-size: 1em;\n            }\n\n            input:focus {\n                border: none;\n                border-top: 2px solid var(--s);\n                border-bottom: 2px solid var(--s);\n                box-shadow: none;\n            }\n\n            input.error::placeholder {\n                color: rgba(var(--error), 0.45);\n            }\n        `,\n    ],\n})\nexport class CateringOrderModalComponent\n    extends AsyncHandler\n    implements OnInit\n{\n    /** Emitter for events on the modal */\n    @Output() public event = new EventEmitter<DialogEvent>();\n    /** Whether changes are being saved */\n    public loading = '';\n    /** Current order */\n    public order: CateringOrder;\n    /** Name of the active category */\n    public category: string;\n    /** Whether order details should be shown */\n    public show_order_details: boolean;\n    /** Catering rules for selected space */\n    public rules: readonly AttachedResourceRuleset[];\n    /** List of menu items to show */\n    public menu_items: HashMap<CateringItem[]> = {};\n    /** List of categories for the active menu */\n    public categories: string[] = [];\n\n    public get code() {\n        return this._org.currency_code;\n    }\n\n    constructor(\n        private _org: OrganisationService,\n        @Inject(MAT_DIALOG_DATA) private _data: CateringOrderModalData\n    ) {\n        super();\n        this.loading = 'Loading menu...';\n    }\n\n    public async ngOnInit() {\n        this.loading = 'Loading menu...';\n        this.order = new CateringOrder(this._data.order);\n        this.rules = await this._data.getCateringConfig(\n            this.order.event?.space?.level?.parent_id\n        );\n        this._data.menu.subscribe((list) => {\n            this.loading = 'Loading menu...';\n            const categories = unique(list.map((item) => item.category));\n            const map = {};\n            for (const cat of categories) {\n                map[cat] = list.filter((item) => {\n                    return (\n                        item.category === cat &&\n                        cateringItemAvailable(\n                            item,\n                            this.rules as any,\n                            this.order.event\n                        )\n                    );\n                });\n            }\n            this.categories = categories;\n            this.menu_items = map;\n            this.updateMenuQuantities();\n            this.timeout('clear_loading', () => (this.loading = ''), 1000);\n        });\n    }\n\n    public addItem(item: CateringItem, choose_options: boolean = true) {\n        const old_item = this.order.items.find(\n            (itm) =>\n                itm.id === item.id &&\n                itm.options.length ===\n                    itm.options.reduce(\n                        (c, o) =>\n                            c +\n                            (item.options.find((opt) => o.id === opt.id)\n                                ? 1\n                                : 0),\n                        0\n                    )\n        );\n        if (choose_options && item.options?.length) {\n            this._data.selectOptions(item.options).then((options) => {\n                const new_item = new CateringItem({ ...item, options });\n                this.addItem(new_item, false);\n            });\n        } else if (old_item) {\n            this.order = new CateringOrder({\n                ...this.order,\n                items: this.order.items\n                    .filter(\n                        (i) =>\n                            !(\n                                i.id === item.id &&\n                                i.options_string === item.options_string\n                            )\n                    )\n                    .concat([\n                        new CateringItem({\n                            ...item,\n                            quantity: old_item.quantity + 1,\n                        }),\n                    ]),\n            });\n        } else {\n            this.order = new CateringOrder({\n                ...this.order,\n                items: this.order.items.concat([\n                    new CateringItem({ ...item, quantity: 1 }),\n                ]),\n            });\n        }\n        this.updateMenuQuantities();\n    }\n\n    public removeItem(item: CateringItem) {\n        this.order = new CateringOrder({\n            ...this.order,\n            items: this.order.items.filter(\n                (_) =>\n                    _.id !== item.id && _.options_string === item.options_string\n            ),\n        });\n        this.updateMenuQuantities();\n    }\n\n    public updateItemQuantity(item: CateringItem, amount: number) {\n        const old_item = this.order.items.find(\n            (itm) =>\n                itm.id === item.id && itm.options_string === item.options_string\n        );\n        let items = [...this.order.items];\n        if (old_item) {\n            items = this.order.items\n                .filter(\n                    (i) =>\n                        !(\n                            i.id === item.id &&\n                            i.options_string === item.options_string\n                        )\n                )\n                .concat([new CateringItem({ ...item, quantity: amount })]);\n        } else {\n            items = this.order.items.concat([\n                new CateringItem({ ...item, quantity: amount }),\n            ]);\n        }\n        items.sort((a, b) => a.name.localeCompare(b.name));\n        this.order = new CateringOrder({\n            ...this.order,\n            items,\n        });\n        this.updateMenuQuantities();\n    }\n\n    public updateMenuQuantities() {\n        for (const cat in this.menu_items) {\n            for (const item of this.menu_items[cat]) {\n                (item as any).quantity = this.order.items.reduce(\n                    (c, i) => (i.id === item.id ? c + i.quantity : c),\n                    0\n                );\n            }\n        }\n    }\n\n    public optionsFor(item: CateringItem) {\n        return item.options.map((i) => i.name).join('\\n');\n    }\n\n    public saveOrder() {\n        this.event.emit({\n            reason: 'done',\n            metadata: { order: this.order },\n        });\n    }\n\n    public confirmOrder() {\n        this.show_order_details = true;\n    }\n}\n","import {\n    Component,\n    EventEmitter,\n    Input,\n    Output,\n    SimpleChanges,\n} from '@angular/core';\nimport { unique } from '@placeos/common';\nimport { CateringItem } from '../catering-item.class';\nimport { CateringOption } from '../catering.interfaces';\n\ninterface CateringOptionGroup {\n    name: string;\n    multiple: boolean;\n    options: CateringOption[];\n}\n\n@Component({\n    selector: 'catering-item-details',\n    template: `\n        <ng-container *ngIf=\"item; else empty_state\">\n            <section image class=\"relative w-full h-64 sm:h-40 bg-neutral\">\n                <image-carousel\n                    [images]=\"item.images\"\n                    class=\"absolute inset-0\"\n                ></image-carousel>\n                <button\n                    icon\n                    matRipple\n                    name=\"close-catering-item-details\"\n                    (click)=\"close.emit()\"\n                    class=\"absolute top-2 left-2 bg-neutral sm:hidden text-white\"\n                >\n                    <app-icon>arrow_back</app-icon>\n                </button>\n                <button\n                    icon\n                    matRipple\n                    name=\"toggle-catering-item-favourite-details\"\n                    [class.text-white]=\"!fav\"\n                    [class.text-blue-400]=\"fav\"\n                    (click)=\"toggleFav.emit()\"\n                    class=\"absolute top-2 right-2 bg-neutral\"\n                >\n                    <app-icon>{{\n                        fav ? 'favorite' : 'favorite_border'\n                    }}</app-icon>\n                </button>\n            </section>\n            <div class=\"p-2 space-y-2 flex-1 h-1/2 overflow-auto\">\n                <section actions class=\"z-0 flex items-center justify-between\">\n                    <div>\n                        <h2 class=\"text-xl font-medium mb-2 mt-4\">\n                            {{ item.name }}\n                        </h2>\n                        <p *ngIf=\"item.unit_price\">\n                            {{ item.unit_price / 100 | currency: code }}\n                        </p>\n                    </div>\n                    <a-counter\n                        [(ngModel)]=\"item.quantity\"\n                        (ngModelChange)=\"\n                            active ? activeChange.emit(active) : ''\n                        \"\n                        [min]=\"1\"\n                        [max]=\"item.count || 10\"\n                    ></a-counter>\n                </section>\n                <section class=\"flex items-center flex-wrap\">\n                    <div\n                        class=\"px-2 py-1 rounded-2xl bg-base-200 text-sm capitalize m-1\"\n                        *ngFor=\"let tag of item.tags\"\n                    >\n                        {{ tag }}\n                    </div>\n                </section>\n                <hr />\n                <section details class=\"space-y-2\">\n                    <div class=\"flex flex-col flex-wrap\">\n                        <div\n                            class=\"min-w-1/2 flex-1\"\n                            *ngFor=\"let group of groups\"\n                            [attr.group]=\"group.name\"\n                        >\n                            <div class=\"font-medium p-2 capitalize\">\n                                {{ group.name }}\n                            </div>\n                            <div class=\"flex flex-col pl-4\">\n                                <ng-container\n                                    *ngIf=\"!group.multiple; else multi_options\"\n                                >\n                                    <mat-radio-group\n                                        class=\"flex flex-col\"\n                                        aria-label=\"Select an option\"\n                                        [(ngModel)]=\"group_state[group.name]\"\n                                        (ngModelChange)=\"\n                                            updateGroupOption(group, $event)\n                                        \"\n                                        [disabled]=\"item?.in_order\"\n                                    >\n                                        <mat-radio-button class=\"m-0\" value=\"\">\n                                            <span class=\"font-medium p-2\" i18n\n                                                >None</span\n                                            >\n                                        </mat-radio-button>\n                                        <mat-radio-button\n                                            class=\"m-0\"\n                                            *ngFor=\"let opt of group?.options\"\n                                            [value]=\"opt.id\"\n                                        >\n                                            <div\n                                                class=\"flex items-center justify-center max-w-[calc(100vw-4rem)] sm:max-w-[15rem]\"\n                                            >\n                                                <div\n                                                    class=\"font-medium p-2 flex-1 w-1/2 whitespace-normal\"\n                                                >\n                                                    {{ opt.name }}\n                                                </div>\n                                                <div\n                                                    class=\"opacity-60 text-xs\"\n                                                    *ngIf=\"opt.unit_price\"\n                                                >\n                                                    +{{\n                                                        opt.unit_price / 100\n                                                            | currency: code\n                                                    }}\n                                                </div>\n                                            </div>\n                                        </mat-radio-button>\n                                    </mat-radio-group>\n                                </ng-container>\n                                <ng-template #multi_options>\n                                    <mat-checkbox\n                                        *ngFor=\"let opt of group?.options\"\n                                        [(ngModel)]=\"option_state[opt.id]\"\n                                        (ngModelChange)=\"\n                                            updateCheckedState(opt.id, $event)\n                                        \"\n                                        [disabled]=\"item?.in_order\"\n                                    >\n                                        <div\n                                            class=\"flex items-center justify-center\"\n                                        >\n                                            <div\n                                                class=\"font-medium p-2 flex-1 w-1/2\"\n                                            >\n                                                {{ opt.name }}\n                                            </div>\n                                            <div\n                                                class=\"opacity-60 text-xs\"\n                                                *ngIf=\"opt.unit_price\"\n                                            >\n                                                +{{\n                                                    opt.unit_price / 100\n                                                        | currency: code\n                                                }}\n                                            </div>\n                                        </div>\n                                    </mat-checkbox>\n                                </ng-template>\n                            </div>\n                        </div>\n                    </div>\n                </section>\n            </div>\n            <div\n                class=\"px-2 pt-2 pb-[5.5rem] border-t border-base-200 shadow sm:hidden\"\n            >\n                <button\n                    btn\n                    matRipple\n                    name=\"select-catering-item-details\"\n                    [class.inverse]=\"active\"\n                    class=\"w-full\"\n                    (click)=\"active = !active; activeChange.emit(active)\"\n                >\n                    <div class=\"flex items-center justify-center\">\n                        <app-icon class=\"text-2xl\">{{\n                            active ? 'remove' : 'add'\n                        }}</app-icon>\n                        <p>\n                            {{ active ? 'Remove this item' : 'Add this item' }}\n                        </p>\n                    </div>\n                </button>\n            </div>\n        </ng-container>\n        <ng-template #empty_state>\n            <div\n                empty\n                class=\"p-16 flex flex-col items-center justify-center space-y-2\"\n            >\n                <p class=\"opacity-30 text-center\" i18n>\n                    Select an item to view it's details\n                </p>\n            </div>\n        </ng-template>\n    `,\n    styles: [\n        `\n            :host {\n                display: flex;\n                flex-direction: column;\n                width: 30%;\n                min-width: 20rem;\n                height: 100%;\n                min-height: 65vh;\n            }\n        `,\n    ],\n})\nexport class CateringItemDetailsComponent {\n    @Input() public item?: CateringItem;\n    @Input() public active: boolean = false;\n    @Input() public fav: boolean = false;\n    @Input() public code: string = 'USD';\n\n    @Output() public toggleFav = new EventEmitter<void>();\n    @Output() public activeChange = new EventEmitter<boolean>();\n    @Output() public close = new EventEmitter<void>();\n\n    public option_state: Record<string, boolean> = {};\n    public group_state: Record<string, string> = {};\n    public groups: CateringOptionGroup[];\n\n    public ngOnChanges(changes: SimpleChanges) {\n        if (changes.item && this.item) {\n            this._update();\n        }\n    }\n\n    public updateGroupOption(group: CateringOptionGroup, id: string) {\n        if (!group) return;\n        this.group_state[group.name] = id;\n        for (const option of group.options) {\n            option.active = option.id === id;\n        }\n    }\n\n    public updateCheckedState(id: string, state: boolean) {\n        const option = this.item?.options.find((_) => _.id === id);\n        if (option) option.active = state;\n    }\n\n    private _update() {\n        if (!this.item) return;\n        if (!this.item.quantity) {\n            (this.item as any).quantity = 1;\n        }\n        this.option_state = {};\n        this.group_state = {};\n        const groups = unique(this.item.options.map((i) => i.group || 'Other'));\n        const group_list = [];\n        for (const group of groups) {\n            const options = this.item.options.filter((i) => i.group === group);\n            group_list.push({\n                name: group,\n                multiple: !!options.find((i) => i.multiple),\n                options,\n            });\n        }\n        this.groups = group_list;\n        if (this.item.option_list) {\n            for (const opt of this.item.option_list) {\n                const option = this.item.options.find((_) => _.id === opt.id);\n                if (option) {\n                    option.active = true;\n                    this.option_state[opt.id] = true;\n                    this.updateGroupOption(\n                        this.groups.find((g) => g.name === option.group),\n                        option.id\n                    );\n                }\n            }\n        }\n    }\n}\n","import { Component, EventEmitter, Input, OnInit, Output } from '@angular/core';\nimport { take } from 'rxjs/operators';\nimport { CateringOrderStateService } from './catering-order-state.service';\nimport { AsyncHandler, SettingsService } from '@placeos/common';\nimport {\n    addDays,\n    addMinutes,\n    differenceInMinutes,\n    endOfDay,\n    format,\n    startOfDay,\n} from 'date-fns';\n\nconst ICONS = {\n    coffee: `<svg width=\"40\" height=\"40\" viewBox=\"0 0 40 40\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n    <g clip-path=\"url(#clip0_605_8664)\">\n    <path d=\"M38.388 21.2474C37.8243 20.7996 37.1598 20.4847 36.4474 20.3278C35.735 20.1708 34.9944 20.1762 34.2846 20.3434C34.2476 19.7774 34.2049 19.2037 34.1483 18.6155C34.1243 18.3664 34.0043 18.1349 33.8119 17.9668C33.6195 17.7986 33.3687 17.706 33.1088 17.707H1.26151C1.00166 17.706 0.750839 17.7986 0.558442 17.9668C0.366045 18.1349 0.246035 18.3664 0.222073 18.6155C-0.42931 25.3581 0.106585 30.5307 4.80024 35.4799C8.88062 39.7819 15.7271 39.9998 17.0599 39.9998H17.3047C18.6375 39.9998 25.4863 39.7774 29.5643 35.4799C30.5412 34.4597 31.3937 33.3353 32.1052 32.1286C32.2481 32.1199 32.3875 32.0819 32.514 32.0174C34.0959 31.2139 35.6169 30.3039 37.0656 29.2943C38.3815 28.4227 39.3664 27.1618 39.871 25.7028C40.0702 24.9006 40.0372 24.0612 39.7758 23.2757C39.5144 22.4902 39.0344 21.7887 38.388 21.2474ZM28.0329 34.13C24.4699 37.8905 18.0323 37.9984 17.3093 37.9984H17.0645C16.3426 37.9984 9.90389 37.8872 6.34092 34.13C2.37257 29.9436 1.75351 25.466 2.21549 19.7085H32.1583C32.6214 25.4649 32.0024 29.9425 28.0329 34.13ZM37.8498 25.2091C37.4485 26.2369 36.7212 27.117 35.771 27.7243C35.024 28.2636 34.2434 28.7582 33.4334 29.2053C34.1268 27.0036 34.4428 24.7078 34.3689 22.4082C34.3839 22.4027 34.3989 22.4082 34.4139 22.3982C34.8447 22.2182 35.3192 22.1579 35.7837 22.2242C36.2482 22.2905 36.6841 22.4808 37.0421 22.7733C37.4001 23.0659 37.6658 23.4491 37.8092 23.8796C37.9525 24.3101 37.9678 24.7707 37.8533 25.2091H37.8498Z\" fill=\"currentcolor\"/>\n    <path d=\"M9.43243 8.16274C9.85735 8.48322 10.2069 8.88673 10.4582 9.34669C10.7094 9.80666 10.8565 10.3126 10.89 10.8313C10.7939 11.9569 10.2754 13.0103 9.43128 13.7946C9.32937 13.883 9.24664 13.9899 9.18786 14.1092C9.12907 14.2286 9.0954 14.3579 9.08878 14.4898C9.08216 14.6217 9.10275 14.7536 9.14931 14.8778C9.19588 15.002 9.26753 15.1161 9.36012 15.2136C9.45271 15.311 9.56442 15.3898 9.6888 15.4455C9.81319 15.5012 9.9478 15.5326 10.0849 15.538C10.2219 15.5433 10.3587 15.5225 10.4874 15.4767C10.6161 15.4309 10.734 15.3611 10.8345 15.2712C12.1048 14.1093 12.8679 12.5254 12.9688 10.8413C12.9432 10.042 12.7392 9.25727 12.3708 8.5405C12.0023 7.82373 11.478 7.19166 10.8334 6.68722C10.4067 6.38353 10.055 5.99283 9.80341 5.54303C9.55184 5.09323 9.40662 4.59547 9.37815 4.08534C9.51392 3.18283 10.0073 2.36595 10.7548 1.80591C10.9718 1.64618 11.1147 1.41065 11.1528 1.15024C11.1908 0.889843 11.1208 0.625512 10.958 0.414392C10.7951 0.203272 10.5525 0.062327 10.2826 0.0220596C10.0127 -0.0182078 9.73715 0.0454338 9.51559 0.199206C8.90219 0.651996 8.39004 1.21933 8.0098 1.86721C7.62956 2.5151 7.38907 3.2302 7.30273 3.9697C7.30292 4.77855 7.49485 5.5767 7.86392 6.30333C8.23298 7.02996 8.76944 7.66592 9.43243 8.16274Z\" fill=\"currentcolor\"/>\n    <path d=\"M23.0984 8.16274C23.5234 8.48322 23.8729 8.88673 24.1242 9.34669C24.3754 9.80666 24.5225 10.3126 24.556 10.8313C24.4599 11.9569 23.9414 13.0103 23.0973 13.7946C22.9954 13.883 22.9126 13.9899 22.8539 14.1092C22.7951 14.2286 22.7614 14.3579 22.7548 14.4898C22.7482 14.6217 22.7687 14.7536 22.8153 14.8778C22.8619 15.002 22.9335 15.1161 23.0261 15.2136C23.1187 15.311 23.2304 15.3898 23.3548 15.4455C23.4792 15.5012 23.6138 15.5326 23.7509 15.538C23.8879 15.5433 24.0247 15.5225 24.1534 15.4767C24.2821 15.4309 24.4 15.3611 24.5005 15.2712C25.7708 14.1093 26.5339 12.5254 26.6348 10.8413C26.6092 10.042 26.4052 9.25727 26.0368 8.5405C25.6683 7.82373 25.144 7.19166 24.4994 6.68722C24.0727 6.38353 23.721 5.99283 23.4694 5.54303C23.2178 5.09323 23.0726 4.59547 23.0442 4.08534C23.1799 3.18283 23.6733 2.36595 24.4208 1.80591C24.6378 1.64618 24.7807 1.41065 24.8188 1.15024C24.8568 0.889843 24.7868 0.625512 24.624 0.414392C24.4611 0.203272 24.2185 0.062327 23.9486 0.0220596C23.6787 -0.0182078 23.4032 0.0454338 23.1816 0.199206C22.5682 0.651996 22.0561 1.21933 21.6758 1.86721C21.2956 2.5151 21.0551 3.2302 20.9688 3.9697C20.9689 4.77855 21.1609 5.5767 21.5299 6.30333C21.899 7.02996 22.4355 7.66592 23.0984 8.16274Z\" fill=\"currentcolor\"/>\n    <path d=\"M16.2645 8.16274C16.6894 8.48322 17.039 8.88673 17.2902 9.34669C17.5414 9.80666 17.6886 10.3126 17.722 10.8313C17.626 11.9569 17.1074 13.0103 16.2633 13.7946C16.1614 13.883 16.0787 13.9899 16.0199 14.1092C15.9611 14.2286 15.9274 14.3579 15.9208 14.4898C15.9142 14.6217 15.9348 14.7536 15.9813 14.8778C16.0279 15.002 16.0996 15.1161 16.1922 15.2136C16.2847 15.311 16.3964 15.3898 16.5208 15.4455C16.6452 15.5012 16.7798 15.5326 16.9169 15.538C17.054 15.5433 17.1908 15.5225 17.3194 15.4767C17.4481 15.4309 17.5661 15.3611 17.6666 15.2712C18.9368 14.1093 19.6999 12.5254 19.8009 10.8413C19.7752 10.042 19.5713 9.25727 19.2028 8.5405C18.8343 7.82373 18.31 7.19166 17.6654 6.68722C17.2387 6.38353 16.887 5.99283 16.6354 5.54303C16.3839 5.09323 16.2386 4.59547 16.2102 4.08534C16.346 3.18283 16.8393 2.36595 17.5869 1.80591C17.8038 1.64618 17.9468 1.41065 17.9848 1.15024C18.0228 0.889843 17.9528 0.625512 17.79 0.414392C17.6271 0.203272 17.3845 0.062327 17.1146 0.0220596C16.8447 -0.0182078 16.5692 0.0454338 16.3476 0.199206C15.7342 0.651996 15.2221 1.21933 14.8418 1.86721C14.4616 2.5151 14.2211 3.2302 14.1348 3.9697C14.1349 4.77855 14.3269 5.5767 14.6959 6.30333C15.065 7.02996 15.6015 7.66592 16.2645 8.16274Z\" fill=\"currentcolor\"/>\n    <path d=\"M7.16328 29.7138C5.86597 27.7051 5.17938 25.3866 5.18141 23.0212C5.18141 22.7558 5.07191 22.5013 4.87697 22.3136C4.68204 22.1259 4.41765 22.0205 4.14198 22.0205C3.8663 22.0205 3.60191 22.1259 3.40698 22.3136C3.21204 22.5013 3.10254 22.7558 3.10254 23.0212C3.10081 25.7653 3.89738 28.4551 5.40201 30.7857C5.55001 31.0072 5.78275 31.1637 6.04976 31.2211C6.31677 31.2784 6.59652 31.2322 6.82832 31.0923C7.06012 30.9524 7.22529 30.7301 7.288 30.4737C7.35071 30.2174 7.30588 29.9475 7.16328 29.7227V29.7138Z\" fill=\"currentcolor\"/>\n    <path d=\"M9.06498 32.7103C8.94112 32.6482 8.84235 32.548 8.78434 32.4257C8.73082 32.3026 8.65227 32.1911 8.55334 32.0977C8.45441 32.0043 8.33708 31.9309 8.20825 31.8818C8.07942 31.8327 7.9417 31.8089 7.80317 31.8118C7.66464 31.8146 7.5281 31.8441 7.40159 31.8986C7.27508 31.953 7.16115 32.0312 7.06649 32.1286C6.97184 32.226 6.89837 32.3407 6.8504 32.4658C6.80244 32.591 6.78094 32.7241 6.78719 32.8574C6.79344 32.9906 6.8273 33.1213 6.88678 33.2418C7.13536 33.7758 7.56332 34.2136 8.10177 34.4849C8.34682 34.6079 8.63256 34.6321 8.89616 34.5523C9.15975 34.4724 9.37959 34.295 9.50732 34.0591C9.63505 33.8232 9.6602 33.5481 9.57725 33.2943C9.49429 33.0405 9.31003 32.8289 9.06498 32.7059V32.7103Z\" fill=\"currentcolor\"/>\n    </g>\n    <defs>\n    <clipPath id=\"clip0_605_8664\">\n    <rect width=\"40\" height=\"40\" fill=\"white\"/>\n    </clipPath>\n    </defs>\n    </svg>\n    `,\n    drinks: `<svg width=\"28\" height=\"39\" viewBox=\"0 0 28 39\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n    <g clip-path=\"url(#clip0_598_8203)\">\n    <path d=\"M0 0L0.662157 8.11078C0.662157 8.12619 0.653028 8.1394 0.653028 8.15481C0.658117 8.18851 0.664982 8.22193 0.673584 8.25496L3.1852 39H25.1048L28.0034 0H0ZM25.7932 1.98093L25.4085 7.16985C25.3982 7.16985 25.3902 7.16985 25.3799 7.16985H2.64519L2.22279 1.98642L25.7932 1.98093ZM23.1948 37.0191H5.08147L2.80846 9.14527H25.2612L23.1948 37.0191Z\" fill=\"currentcolor\"/>\n    <path d=\"M6.24983 23.3122C6.28864 23.3122 6.32861 23.3122 6.364 23.3122C6.49825 23.2972 6.6281 23.2567 6.74613 23.1933C6.86415 23.1298 6.96804 23.0445 7.05181 22.9423C7.13559 22.8401 7.19762 22.7229 7.23436 22.5975C7.2711 22.4722 7.28181 22.341 7.26589 22.2117C7.0661 20.5444 6.86517 18.8155 6.66538 17.0855C6.4576 15.2861 6.24869 13.4846 6.03862 11.7502C5.99894 11.4962 5.85848 11.267 5.64686 11.111C5.43525 10.955 5.16904 10.8843 4.90438 10.9138C4.63973 10.9434 4.39731 11.0708 4.22831 11.2694C4.0593 11.4679 3.9769 11.722 3.9985 11.978C4.20628 13.7091 4.41522 15.5084 4.623 17.3056C4.82392 19.0378 5.02485 20.77 5.22578 22.4395C5.25574 22.6807 5.37661 22.9029 5.56542 23.0638C5.75424 23.2247 5.99781 23.3131 6.24983 23.3122Z\" fill=\"currentcolor\"/>\n    <path d=\"M6.05485 24.414C5.9204 24.4288 5.79029 24.469 5.67201 24.5323C5.55372 24.5957 5.44958 24.6809 5.36557 24.7832C5.28156 24.8854 5.21933 25.0027 5.18245 25.1282C5.14557 25.2537 5.13477 25.385 5.15067 25.5145L5.31392 26.8857C5.34197 27.1276 5.46141 27.351 5.64945 27.5134C5.83748 27.6758 6.08096 27.7658 6.33341 27.7662C6.37223 27.7662 6.41105 27.7662 6.44759 27.7607C6.5817 27.7462 6.71152 27.7063 6.82966 27.6434C6.9478 27.5806 7.05194 27.4959 7.13612 27.3942C7.22029 27.2925 7.28287 27.1758 7.32027 27.0508C7.35766 26.9258 7.36913 26.7949 7.35404 26.6656L7.1908 25.2889C7.15839 25.0286 7.02114 24.791 6.80864 24.6273C6.59614 24.4636 6.32541 24.387 6.05485 24.414Z\" fill=\"currentcolor\"/>\n    </g>\n    <defs>\n    <clipPath id=\"clip0_598_8203\">\n    <rect width=\"28\" height=\"39\" fill=\"white\"/>\n    </clipPath>\n    </defs>\n    </svg>\n    `,\n    snacks: `<svg width=\"44\" height=\"30\" viewBox=\"0 0 44 30\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n    <path d=\"M39.9739 12.3839H39.9673C39.8416 11.3068 39.529 10.2613 39.0441 9.29623C38.2937 7.89066 37.2396 6.67826 35.9616 5.75118C34.6837 4.82411 33.2156 4.20677 31.669 3.94605C31.658 3.94605 31.6471 3.94605 31.635 3.94605C29.7116 1.41671 26.4577 0.0219894 22.162 0.00292969C17.7851 0.0287164 14.3819 1.44362 12.4015 3.94605C12.3773 3.94605 12.3553 3.94605 12.3312 3.94605C10.7845 4.20721 9.31631 4.82484 8.03823 5.75207C6.76016 6.6793 5.70574 7.89174 4.95505 9.29734C4.47112 10.2623 4.15888 11.3074 4.03289 12.3839H4.02631C2.34137 14.0479 1.12087 16.1402 0.490328 18.4457C-0.140217 20.7512 -0.15805 23.1866 0.438675 25.5015C1.16762 28.1328 2.30494 29.6228 3.81991 29.9323C4.02143 29.975 4.22667 29.9968 4.43249 29.9973C5.03503 29.925 5.61546 29.722 6.13483 29.4017C6.6542 29.0815 7.1005 28.6516 7.44377 28.1407C8.13563 27.3077 8.96125 26.601 9.88529 26.0508C10.6588 25.658 11.4715 25.3513 12.3092 25.136C12.7407 25.007 13.2105 24.8624 13.7122 24.6875C14.2182 24.7717 14.7299 24.8148 15.2426 24.8164C16.5191 24.8132 17.7827 24.5561 18.963 24.0597C19.2243 24.1678 19.4915 24.2603 19.7633 24.3366C20.4624 24.5255 21.1737 24.6634 21.892 24.7492C21.9649 24.7584 22.0386 24.7584 22.1115 24.7492C22.8298 24.6634 23.5411 24.5255 24.2402 24.3366C24.5121 24.2602 24.7794 24.1674 25.0405 24.0585C26.6985 24.7663 28.5179 24.9843 30.2913 24.6875C30.7941 24.8568 31.2639 25.0014 31.6954 25.136C32.5326 25.3518 33.3449 25.6585 34.1182 26.0508C35.0422 26.6006 35.8675 27.3074 36.5586 28.1407C36.9021 28.6516 37.3486 29.0816 37.8682 29.4018C38.3877 29.722 38.9683 29.925 39.571 29.9973C39.7765 29.9968 39.9813 29.975 40.1825 29.9323C41.6986 29.6228 42.8359 28.1317 43.5648 25.5015C44.1604 23.1863 44.1418 20.7509 43.5107 18.4455C42.8796 16.1401 41.6588 14.0479 39.9739 12.3839ZM8.94886 24.276C7.83296 24.927 6.83512 25.7694 5.99906 26.7661C5.09447 27.7561 4.76074 28.07 4.20854 27.9568C3.49936 27.8111 2.83628 26.7459 2.34227 24.9543C1.92223 23.3112 1.86627 21.5932 2.17848 19.9252C2.4907 18.2572 3.16322 16.6814 4.14706 15.3124C4.29059 16.0686 4.52165 16.8048 4.83539 17.5054C6.01506 20.1182 8.00316 22.2624 10.4935 23.6078C9.96108 23.7857 9.44437 24.0092 8.94886 24.276ZM14.1514 22.7266C13.9962 22.6555 13.8256 22.6265 13.6562 22.6425C12.1235 22.2411 10.6976 21.4958 9.48221 20.461C8.26685 19.4261 7.2926 18.1277 6.63029 16.66C6.16216 15.6502 5.92631 14.5445 5.94077 13.4274C5.95523 12.3102 6.21962 11.2112 6.71373 10.2145C7.64306 8.45293 9.17618 7.10357 11.0193 6.42493C9.99726 9.36013 10.6472 13.6553 12.7165 17.6365C13.6785 19.5654 15.0132 21.2752 16.6401 22.6627C15.8195 22.8232 14.9787 22.8448 14.1514 22.7266ZM23.7451 22.3903C23.1716 22.5448 22.5889 22.6613 22.0007 22.7389C21.4117 22.6614 20.8283 22.5449 20.254 22.3903C18.2033 21.8521 16.0374 19.7219 14.462 16.6925C12.6704 13.2438 12.0469 9.47672 12.8834 7.09538C14.473 2.55356 19.9093 2.03223 22.1653 2.01765C25.4445 2.03783 29.66 2.93475 31.1157 7.09538C31.9501 9.4756 31.3353 13.2427 29.5393 16.6903C27.9628 19.7197 25.798 21.851 23.7451 22.3891V22.3903ZM27.3579 22.6649C28.9873 21.2782 30.3233 19.5673 31.2848 17.6365C33.353 13.6542 34.0019 9.36013 32.9798 6.42493C34.8231 7.1032 36.3564 8.45266 37.2854 10.2145C37.7798 11.2111 38.0446 12.31 38.0594 13.4271C38.0743 14.5442 37.8388 15.6501 37.371 16.66C36.7089 18.1267 35.7356 19.4246 34.5215 20.4595C33.3074 21.4945 31.883 22.2405 30.3517 22.6436C30.1773 22.6248 30.0013 22.6546 29.8423 22.73C29.0162 22.8474 28.1769 22.825 27.3579 22.6638V22.6649ZM41.6601 24.9555C41.165 26.7493 40.5009 27.8122 39.7939 27.9579C39.2516 28.07 38.9156 27.7595 38.0033 26.7673C37.1671 25.7707 36.1693 24.9284 35.0536 24.2772C34.5589 24.0089 34.0429 23.7839 33.5111 23.6045C36.0014 22.2591 37.9895 20.1148 39.1692 17.502C39.4825 16.8016 39.7135 16.0659 39.8575 15.3101C40.8408 16.6799 41.5127 18.2562 41.8245 19.9245C42.1364 21.5927 42.0802 23.311 41.6601 24.9543V24.9555Z\" fill=\"currentColor\"/>\n    <path d=\"M17.3428 15.7782C16.1626 13.048 15.7674 10.0313 16.2032 7.08028C16.2231 6.94931 16.2174 6.81565 16.1867 6.68691C16.1559 6.55816 16.1006 6.43686 16.024 6.32994C15.9473 6.22302 15.8508 6.13257 15.7399 6.06375C15.629 5.99493 15.5059 5.94908 15.3777 5.92884C15.2495 5.90859 15.1186 5.91434 14.9925 5.94576C14.8665 5.97717 14.7477 6.03365 14.643 6.11194C14.5383 6.19023 14.4497 6.2888 14.3824 6.40205C14.315 6.5153 14.2701 6.641 14.2503 6.77197C13.7579 10.1061 14.2045 13.5144 15.538 16.5989C15.5889 16.7227 15.6636 16.8349 15.7575 16.9289C15.8515 17.0229 15.9628 17.0967 16.0851 17.1462C16.2074 17.1956 16.3381 17.2197 16.4695 17.2168C16.601 17.214 16.7306 17.1844 16.8507 17.1298C16.9709 17.0752 17.0791 16.9966 17.1691 16.8987C17.2591 16.8008 17.3291 16.6855 17.3749 16.5597C17.4208 16.4338 17.4415 16.2998 17.436 16.1656C17.4305 16.0315 17.3988 15.8997 17.3428 15.7782Z\" fill=\"currentColor\"/>\n    <path d=\"M19.696 19.2067C19.2865 18.9533 18.9569 18.5852 18.7464 18.146C18.6921 18.023 18.6143 17.9124 18.5174 17.8206C18.4206 17.7288 18.3067 17.6578 18.1825 17.6118C18.0583 17.5658 17.9263 17.5456 17.7944 17.5526C17.6625 17.5596 17.5333 17.5935 17.4144 17.6524C17.2955 17.7112 17.1894 17.7939 17.1023 17.8953C17.0153 17.9968 16.949 18.1151 16.9075 18.2432C16.866 18.3712 16.85 18.5065 16.8606 18.641C16.8712 18.7755 16.908 18.9065 16.969 19.0262C17.3477 19.8156 17.9407 20.4772 18.6772 20.9321C18.7884 21.0004 18.9117 21.0457 19.0401 21.0654C19.1684 21.085 19.2993 21.0786 19.4253 21.0466C19.5512 21.0146 19.6698 20.9576 19.7741 20.8788C19.8785 20.8 19.9666 20.701 20.0335 20.5874C20.1004 20.4738 20.1448 20.3478 20.164 20.2168C20.1832 20.0857 20.177 19.952 20.1456 19.8234C20.1143 19.6947 20.0585 19.5737 19.9813 19.4671C19.9041 19.3605 19.8072 19.2705 19.696 19.2022V19.2067Z\" fill=\"currentColor\"/>\n    </svg>\n    `,\n    meals: `<svg width=\"44\" height=\"47\" viewBox=\"0 0 44 47\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n    <g clip-path=\"url(#clip0_598_8219)\">\n    <path d=\"M42.941 2.11595C42.7415 1.9851 42.4981 1.93888 42.2644 1.98745C42.0307 2.03602 41.8259 2.1754 41.695 2.37496L34.006 14.102C33.3796 13.6496 32.7178 13.2483 32.027 12.902C32.0551 12.8557 32.0786 12.8068 32.097 12.756L35.4431 1.14795C35.5094 0.91841 35.4818 0.671927 35.3663 0.46273C35.2509 0.253533 35.0571 0.098759 34.8275 0.0324549C34.598 -0.0338492 34.3515 -0.0062506 34.1423 0.109178C33.9331 0.224607 33.7783 0.41841 33.712 0.647954L30.382 12.202C28.8498 11.6558 27.2357 11.3751 25.609 11.372C23.5868 11.3208 21.5789 11.7248 19.7337 12.5541C17.8886 13.3834 16.2534 14.6167 14.949 16.163C13.472 15.5617 11.8698 15.3326 10.2834 15.4959C8.69704 15.6593 7.17511 16.21 5.85156 17.0996C4.528 17.9893 3.44339 19.1906 2.69314 20.5978C1.94289 22.0051 1.54999 23.5752 1.54904 25.17H0.900049C0.781014 25.1699 0.663159 25.1936 0.553309 25.2394C0.443459 25.2853 0.343801 25.3524 0.260096 25.4371C0.176391 25.5217 0.110305 25.6221 0.0656684 25.7325C0.0210317 25.8428 -0.00126705 25.9609 5.5571e-05 26.08C0.0892682 29.5951 1.16582 33.0142 3.10662 35.9464C5.04743 38.8786 7.77413 41.2054 10.975 42.661V45.147C10.975 45.3856 11.0699 45.6146 11.2386 45.7834C11.4074 45.9521 11.6364 46.047 11.8751 46.047H29.692C29.9307 46.047 30.1596 45.9521 30.3284 45.7834C30.4972 45.6146 30.592 45.3856 30.592 45.147V42.665C33.7927 41.2092 36.5191 38.8822 38.4597 35.9501C40.4004 33.018 41.4768 29.599 41.566 26.084C41.5674 25.9649 41.5451 25.8468 41.5004 25.7365C41.4558 25.6261 41.3897 25.5257 41.306 25.4411C41.2223 25.3565 41.1226 25.2893 41.0128 25.2434C40.9029 25.1976 40.7851 25.1739 40.666 25.174H39.976C39.82 21.3924 38.1759 17.8258 35.402 15.251L43.197 3.36196C43.3282 3.16274 43.3749 2.91961 43.3269 2.68598C43.2789 2.45235 43.1401 2.24733 42.941 2.11595ZM11.292 17.249C13.3949 17.2513 15.4113 18.0864 16.9 19.5716C18.3887 21.0568 19.2286 23.0711 19.236 25.174H18.476C18.4537 23.2835 17.6871 21.4779 16.3423 20.149C14.9976 18.82 13.1832 18.0747 11.2925 18.0747C9.4019 18.0747 7.58747 18.82 6.24273 20.149C4.89799 21.4779 4.13134 23.2835 4.10903 25.174H3.34905C3.35619 23.0712 4.1959 21.0569 5.68447 19.5717C7.17304 18.0865 9.18928 17.2513 11.292 17.249ZM30.46 25.174C30.3295 24.0738 29.829 23.0506 29.0406 22.2723C28.2521 21.494 27.2226 21.0067 26.1208 20.8904C25.019 20.7742 23.9104 21.0358 22.9769 21.6324C22.0433 22.2291 21.3403 23.1252 20.983 24.174C20.8976 23.3879 20.7156 22.6154 20.441 21.874C21.2275 20.8287 22.312 20.0461 23.5519 19.6292C24.7917 19.2124 26.1287 19.1807 27.3869 19.5384C28.6451 19.8962 29.7655 20.6265 30.6005 21.6334C31.4356 22.6402 31.9461 23.8763 32.065 25.179L30.46 25.174ZM28.66 25.174H22.555C22.6942 24.4666 23.0746 23.8296 23.6314 23.3717C24.1882 22.9138 24.8867 22.6634 25.6075 22.6634C26.3284 22.6634 27.0269 22.9138 27.5837 23.3717C28.1404 23.8296 28.5209 24.4666 28.66 25.174ZM33.8661 25.174C33.7524 23.5697 33.1734 22.0335 32.1999 20.7533C31.2265 19.4731 29.9008 18.5046 28.3853 17.9663C26.8698 17.428 25.2303 17.3434 23.6674 17.7227C22.1045 18.102 20.6862 18.9288 19.5861 20.102C19.3425 19.7013 19.0704 19.3187 18.772 18.957C19.6483 18.0285 20.7095 17.2942 21.8871 16.8014C23.0648 16.3086 24.3327 16.0683 25.609 16.096C28.0701 16.1 30.4374 17.0409 32.2298 18.7275C34.0222 20.414 35.1053 22.7196 35.259 25.176L33.8661 25.174ZM15.376 25.174C15.376 24.0911 14.9459 23.0525 14.1802 22.2868C13.4145 21.5211 12.3759 21.091 11.2931 21.091C10.2102 21.091 9.17165 21.5211 8.40594 22.2868C7.64023 23.0525 7.21005 24.0911 7.21005 25.174H5.91003C5.92931 23.7594 6.5048 22.4093 7.51193 21.4158C8.51906 20.4223 9.87684 19.8653 11.2915 19.8653C12.7062 19.8653 14.064 20.4223 15.0712 21.4158C16.0783 22.4093 16.6537 23.7594 16.673 25.174H15.376ZM13.576 25.174H9.01205C9.02455 24.5769 9.27051 24.0085 9.6972 23.5906C10.1239 23.1728 10.6973 22.9387 11.2945 22.9387C11.8918 22.9387 12.4652 23.1728 12.8919 23.5906C13.3186 24.0085 13.5646 24.5769 13.5771 25.174H13.576ZM12.7761 44.251V43.132H28.792V44.251H12.7761ZM29.136 41.332H12.436C9.52258 40.1406 6.99281 38.1712 5.12332 35.6389C3.25383 33.1066 2.11663 30.109 1.83605 26.974H39.7281C39.4482 30.1081 38.3122 33.1051 36.4441 35.6373C34.5761 38.1695 32.048 40.1395 29.136 41.332ZM38.178 25.174H37.0601C36.9048 22.2401 35.6312 19.4773 33.5013 17.4538C31.3713 15.4303 28.547 14.2998 25.609 14.295C24.0957 14.2643 22.5927 14.55 21.1962 15.1338C19.7996 15.7176 18.5404 16.5865 17.499 17.685C17.2087 17.4481 16.9052 17.2277 16.5901 17.025C17.7218 15.7645 19.1155 14.7668 20.6734 14.1017C22.2314 13.4367 23.9159 13.1204 25.609 13.175C28.8438 13.1792 31.9531 14.4275 34.2929 16.6611C36.6327 18.8948 38.0237 21.9428 38.178 25.174Z\" fill=\"currentColor\"/>\n    <path d=\"M3.39209 30.1722C4.045 32.6025 5.31628 34.8222 7.08209 36.6152C7.16443 36.7021 7.26327 36.7717 7.37286 36.8199C7.48244 36.8682 7.60056 36.8941 7.72027 36.8961C7.83999 36.8981 7.95888 36.8762 8.07003 36.8317C8.18118 36.7872 8.28235 36.7209 8.36758 36.6368C8.45281 36.5528 8.52038 36.4525 8.56637 36.342C8.61237 36.2314 8.63585 36.1128 8.63543 35.9931C8.63501 35.8733 8.6107 35.7549 8.56393 35.6447C8.51716 35.5344 8.44888 35.4347 8.36306 35.3512C6.81633 33.7796 5.70257 31.8346 5.13006 29.7052C5.1013 29.589 5.04966 29.4797 4.97815 29.3837C4.90663 29.2878 4.81669 29.207 4.71359 29.1462C4.61049 29.0854 4.49631 29.0458 4.37771 29.0297C4.25912 29.0136 4.1385 29.0213 4.02291 29.0523C3.90733 29.0834 3.7991 29.1372 3.70456 29.2106C3.61001 29.284 3.53106 29.3755 3.47232 29.4798C3.41357 29.584 3.3762 29.699 3.36242 29.8179C3.34865 29.9368 3.35875 30.0572 3.39209 30.1722Z\" fill=\"#323232\"/>\n    <path d=\"M10.5356 39.5502C10.7282 39.6767 10.962 39.7245 11.1889 39.6838C11.4157 39.643 11.6182 39.5168 11.7547 39.3312C11.8913 39.1456 11.9514 38.9146 11.9227 38.6859C11.8941 38.4573 11.7788 38.2483 11.6006 38.1022L10.3336 37.1752C10.1407 37.0392 9.90209 36.9844 9.66918 37.0226C9.43627 37.0609 9.2277 37.1891 9.08843 37.3797C8.94915 37.5702 8.89031 37.8079 8.92458 38.0414C8.95884 38.2749 9.08345 38.4857 9.27159 38.6282L10.5356 39.5502Z\" fill=\"#323232\"/>\n    </g>\n    <defs>\n    <clipPath id=\"clip0_598_8219\">\n    <rect width=\"43.348\" height=\"46.051\" fill=\"white\"/>\n    </clipPath>\n    </defs>\n    </svg>`,\n};\n\n@Component({\n    selector: 'catering-item-filters',\n    template: `\n        <div class=\"px-4 mt-3 mb-2\" [class.sm:hidden]=\"!search\">\n            <mat-form-field appearance=\"outline\" class=\"w-full h-14\">\n                <app-icon matPrefix class=\"text-xl\">search</app-icon>\n                <input\n                    matInput\n                    [ngModel]=\"(filters | async)?.search\"\n                    (ngModelChange)=\"setFilters({ search: $event })\"\n                    placeholder=\"Search menu...\"\n                />\n            </mat-form-field>\n        </div>\n        <h3 class=\"hidden sm:block font-medium px-2 py-2\" *ngIf=\"!search\" i18n>\n            Options\n        </h3>\n        <div class=\"flex flex-col px-2\" *ngIf=\"!search\">\n            <mat-checkbox\n                [(ngModel)]=\"at_time\"\n                (ngModelChange)=\"at_timeChange.next($event)\"\n                [matTooltip]=\"exact_tooltip\"\n            >\n                Exact Time\n            </mat-checkbox>\n            <ng-container *ngIf=\"day_options.length > 1\">\n                <label>Deliver Date:</label>\n                <mat-form-field\n                    appearance=\"outline\"\n                    class=\"w-full no-subscript mb-4\"\n                >\n                    <mat-select\n                        [(ngModel)]=\"offset_day\"\n                        (ngModelChange)=\"offset_dayChange.next($event)\"\n                    >\n                        <mat-option\n                            *ngFor=\"let day of day_options\"\n                            [value]=\"day.id\"\n                        >\n                            {{ day.value | date: 'mediumDate' }}\n                        </mat-option>\n                    </mat-select>\n                </mat-form-field>\n            </ng-container>\n            <label>Deliver After:</label>\n            <a-duration-field\n                [(ngModel)]=\"offset\"\n                (ngModelChange)=\"offsetChange.next($event)\"\n                [time]=\"\n                    offset_day > 0 ? start_of_date : (filters | async)?.date\n                \"\n                [step]=\"step_interval\"\n                [min]=\"min_offset\"\n                [max]=\"max_offset\"\n                [use_24hr]=\"use_24hr\"\n            ></a-duration-field>\n        </div>\n        <h3 class=\"hidden sm:block font-medium px-2 py-4\" *ngIf=\"!search\" i18n>\n            Catergories\n        </h3>\n        <div\n            class=\"flex flex-col px-2 space-y-4\"\n            [class.sm:hidden]=\"search\"\n            [class.sm:pt-1]=\"!search\"\n        >\n            <mat-checkbox\n                *ngFor=\"let item of categories | async\"\n                [attr.name]=\"item\"\n                [ngModel]=\"(filters | async)?.categories?.includes(item)\"\n                (ngModelChange)=\"toggleCategory(item)\"\n            >\n                {{ item }}\n            </mat-checkbox>\n        </div>\n    `,\n    styles: [\n        `\n            :host {\n                min-width: 16rem;\n            }\n        `,\n    ],\n})\nexport class CateringItemFiltersComponent\n    extends AsyncHandler\n    implements OnInit\n{\n    @Input() public search = false;\n\n    @Input() public at_time = false;\n    @Output() public at_timeChange = new EventEmitter<boolean>();\n    @Input() public offset = 0;\n    @Output() public offsetChange = new EventEmitter<number>();\n    @Input() public offset_day = 0;\n    @Output() public offset_dayChange = new EventEmitter<number>();\n\n    private _min_offset = 0;\n    private _max_offset = 60;\n\n    public readonly icons = ICONS;\n\n    public readonly filters = this._state.filters;\n\n    public readonly setFilters = (f) => this._state.setFilters(f);\n\n    public readonly categories = this._state.categories;\n\n    public readonly exact_tooltip =\n        'Deliver at exactly specified time. \\nNote that changes to the booking will not be \\nreflected in the order if this is set.';\n\n    public get start_of_date() {\n        return startOfDay(\n            addDays(this._state.getFilters().date, this.offset_day)\n        ).valueOf();\n    }\n\n    public get min_offset() {\n        return this.offset_day > 0 ? 0 : this._min_offset;\n    }\n\n    public get step_interval() {\n        return this._settings.get('app.catering.step_interval') || 5;\n    }\n\n    public get max_offset() {\n        const end = Math.min(\n            endOfDay(\n                addDays(this._state.getFilters().date, this.offset_day)\n            ).valueOf(),\n            addMinutes(\n                this._state.getFilters().date,\n                this._state.getFilters().duration\n            ).valueOf()\n        );\n        const diff = differenceInMinutes(end, this._state.getFilters().date);\n        return Math.min(diff, Math.min(24 * 60 - 1, this._max_offset));\n    }\n\n    public get use_24hr() {\n        return this._settings.get('app.use_24_hour_time');\n    }\n\n    public day_options = [];\n\n    constructor(\n        private _state: CateringOrderStateService,\n        private _settings: SettingsService\n    ) {\n        super();\n    }\n\n    public ngOnInit() {\n        this._min_offset = Math.max(\n            this._settings.get('app.catering.min_offset'),\n            0\n        );\n        this.subscription(\n            'filters',\n            this._state.filters.subscribe(() => {\n                this._max_offset = Math.max(\n                    15,\n                    (this._state.getFilters().duration || 60) -\n                        this._settings.get('app.catering.end_offset')\n                );\n                this._updateDayOptions();\n            })\n        );\n        this._updateDayOptions();\n    }\n\n    public async toggleCategory(name: string) {\n        const { categories } = await this.filters.pipe(take(1)).toPromise();\n        if (categories.includes(name))\n            this.setFilters({\n                categories: categories.filter((_) => _ !== name),\n            });\n        else this.setFilters({ categories: [...categories, name] });\n    }\n\n    public async toggleTag(tag: string) {\n        const { tags } = await this.filters.pipe(take(1)).toPromise();\n        if (tags.includes(tag))\n            this.setFilters({ tags: tags.filter((_) => _ !== tag) });\n        else this.setFilters({ tags: [...tags, tag] });\n    }\n\n    private _updateDayOptions() {\n        const { date, duration } = this._state.getFilters();\n        if (duration <= 24 * 60) return (this.day_options = []);\n        let day = startOfDay(date);\n        let count = 0;\n        const end = endOfDay(addMinutes(date, duration)).valueOf();\n        const options = [];\n        while (day.valueOf() <= end) {\n            options.push({ id: count, value: day.valueOf() });\n            day = addDays(day, 1);\n            count++;\n        }\n        this.day_options = options;\n    }\n}\n","import { Component, EventEmitter, Input, Output } from '@angular/core';\nimport { CateringItem } from '../catering-item.class';\n\n@Component({\n    selector: 'catering-item-list-item',\n    template: `\n        <li\n            item\n            [class.!border-base-200]=\"active\"\n            matRipple\n            class=\"relative p-2 rounded-lg w-full shadow border bg-base-100 border-base-200 sm:w-[20rem]\"\n        >\n            <button\n                name=\"select-catering-item\"\n                class=\"w-full h-full flex items-center z-0\"\n                (click)=\"select.emit()\"\n            >\n                <div\n                    class=\"relative w-16 h-16 rounded-xl bg-neutral mr-4 overflow-hidden border border-base-200 flex items-center justify-center\"\n                >\n                    <div\n                        class=\"absolute top-1 left-1 border border-white bg-neutral rounded-full h-6 w-6 flex items-center justify-center text-white text-xs\"\n                        *ngIf=\"item.quantity && selected\"\n                    >\n                        {{ item.quantity || '1' }}\n                    </div>\n                    <img\n                        auth\n                        *ngIf=\"item.images?.length; else placeholder\"\n                        class=\"object-cover min-h-full min-w-full\"\n                        [source]=\"item.images[0]\"\n                    />\n                    <ng-template #placeholder>\n                        <img\n                            class=\"m-auto\"\n                            src=\"assets/icons/catering-placeholder.svg\"\n                        />\n                    </ng-template>\n                </div>\n                <div class=\"space-y-2 text-left flex-1\">\n                    <div class=\"font-medium flex flex-col pr-10\">\n                        <div>{{ item.name || 'Item' }}</div>\n                        <div class=\"opacity-60 text-xs\">\n                            {{ item.category }}\n                        </div>\n                    </div>\n                    <div class=\"flex items-center text-sm space-x-1\">\n                        <p\n                            class=\"flex-1 w-px bg-base-100 rounded\"\n                            *ngIf=\"item.unit_price\"\n                        >\n                            {{ item.unit_price / 100 | currency: code }}\n                        </p>\n                        <div\n                            class=\"text-xs px-2 py-1 rounded-2xl shadow border border-base-200\"\n                            *ngIf=\"item.option_list?.length\"\n                        >\n                            {{ options }}\n                        </div>\n                        <div\n                            class=\"text-xs h-5 w-7 rounded-xl shadow bg-success flex items-center justify-center\"\n                            *ngIf=\"item.tags?.includes('Gluten Free')\"\n                        >\n                            GF\n                        </div>\n                        <div\n                            class=\"text-xs h-5 w-7 rounded-xl shadow bg-info flex items-center justify-center\"\n                            *ngIf=\"item.tags?.includes('Vegan')\"\n                        >\n                            VG\n                        </div>\n                        <div\n                            class=\"text-xs h-5 w-7 rounded-xl shadow bg-info flex items-center justify-center\"\n                            *ngIf=\"item.tags?.includes('Vegetarian')\"\n                        >\n                            V\n                        </div>\n                        <div\n                            class=\"text-xs h-5 w-7 rounded-xl shadow bg-warning flex items-center justify-center\"\n                            *ngIf=\"item.tags?.includes('Contains Dairy')\"\n                        >\n                            D\n                        </div>\n                        <div\n                            class=\"text-xs h-5 w-7 rounded-xl shadow bg-orange-600 flex items-center justify-center\"\n                            *ngIf=\"item.tags?.includes('Contains Nuts')\"\n                        >\n                            N\n                        </div>\n                    </div>\n                </div>\n            </button>\n            <button\n                icon\n                matRipple\n                name=\"toggle-catering-item-favourite\"\n                class=\"absolute top-1 right-1\"\n                [class.text-blue-400]=\"favourite\"\n                (click)=\"toggleFav.emit()\"\n            >\n                <app-icon>{{\n                    favourite ? 'favorite' : 'favorite_border'\n                }}</app-icon>\n            </button>\n        </li>\n    `,\n    styles: [``],\n})\nexport class CateringItemListItemComponent {\n    @Input() public item: CateringItem;\n    @Input() public active = false;\n    @Input() public selected = false;\n    @Input() public favourite = false;\n    @Input() public code: string = 'USD';\n    @Output() public toggleFav = new EventEmitter();\n    @Output() public select = new EventEmitter();\n\n    public get options() {\n        return this.item.option_list?.map((_) => _.name).join(', ');\n    }\n}\n","import {\n    Component,\n    EventEmitter,\n    Input,\n    Output,\n    SimpleChanges,\n} from '@angular/core';\nimport { BehaviorSubject } from 'rxjs';\nimport { CateringItem } from '../catering-item.class';\nimport { CateringOrderStateService } from './catering-order-state.service';\n\n@Component({\n    selector: 'catering-item-list',\n    template: `\n        <div class=\"w-full h-full overflow-auto py-2\">\n            <ng-container *ngIf=\"(list | async)?.length\">\n                <h3 class=\"font-bold px-2\">Ordered Items</h3>\n                <p count class=\"text-sm opacity-60 mb-2 px-2\">\n                    {{ (list | async)?.length || 0 }} items(s)\n                </p>\n\n                <ul class=\"list-style-none space-y-2 p-2\">\n                    <catering-item-list-item\n                        class=\"block\"\n                        *ngFor=\"let item of list | async\"\n                        [item]=\"item\"\n                        [active]=\"active === item.custom_id\"\n                        [selected]=\"true\"\n                        [favourite]=\"isFavourite(item.id)\"\n                        (toggleFav)=\"toggleFav.emit(item.id)\"\n                        (select)=\"selectItem(item, true)\"\n                    ></catering-item-list-item>\n                </ul>\n            </ng-container>\n            <h3 class=\"font-bold px-2\">Results</h3>\n            <p count class=\"text-sm opacity-60 mb-2 px-2\">\n                {{ (item_list | async)?.length || 0 }} result(s) found\n            </p>\n            <ng-container *ngIf=\"!(loading | async); else load_state\">\n                <ul\n                    class=\"list-style-none space-y-2 p-2\"\n                    *ngIf=\"(item_list | async)?.length; else empty_state\"\n                >\n                    <catering-item-list-item\n                        class=\"block\"\n                        *ngFor=\"let item of item_list | async\"\n                        [item]=\"item\"\n                        [active]=\"active === item.custom_id\"\n                        [selected]=\"selected.includes(item.custom_id)\"\n                        [favourite]=\"isFavourite(item.id)\"\n                        [code]=\"code\"\n                        (toggleFav)=\"toggleFav(item.id)\"\n                        (select)=\"selectItem(item, true)\"\n                    ></catering-item-list-item>\n                </ul>\n            </ng-container>\n        </div>\n        <ng-template #empty_state>\n            <div\n                empty\n                class=\"p-16 flex flex-col items-center justify-center space-y-2\"\n            >\n                <p class=\"opacity-30 text-center\">\n                    No available items for selected time and/or filters\n                </p>\n            </div>\n        </ng-template>\n        <ng-template #load_state>\n            <div\n                loading\n                class=\"p-16 flex flex-col items-center justify-center space-y-2\"\n            >\n                <mat-spinner [diameter]=\"32\"></mat-spinner>\n                <p class=\"opacity-30\">Finding available items...</p>\n            </div>\n        </ng-template>\n    `,\n    styles: [``],\n})\nexport class CateringItemListComponent {\n    @Input() public active: string = '';\n    @Input() public selected: string = '';\n    @Input() public selected_items: CateringItem[] = [];\n    @Input() public favorites: string[] = [];\n    @Output() public toggleFav = new EventEmitter<CateringItem>();\n    @Output() public onSelect = new EventEmitter<CateringItem>();\n\n    public readonly list = new BehaviorSubject<CateringItem[]>([]);\n    public readonly loading = this._state.loading;\n    public readonly item_list = this._state.filtered_menu;\n\n    public get code() {\n        return this._state.currency_code;\n    }\n\n    constructor(private _state: CateringOrderStateService) {}\n\n    public ngOnChanges(changes: SimpleChanges) {\n        if (changes.selected_items) {\n            this.list.next(this.selected_items || []);\n        }\n    }\n\n    public isFavourite(item_id: string) {\n        return this.favorites?.includes(item_id);\n    }\n\n    public selectItem(item: CateringItem, clear_state: boolean = false) {\n        this.onSelect.emit(item);\n        if (clear_state) {\n            item.options?.forEach((_) => delete _.active);\n        }\n    }\n}\n","import { Injectable } from '@angular/core';\nimport { SettingsService, unique } from '@placeos/common';\nimport { OrganisationService } from '@placeos/organisation';\nimport { PlaceMetadata, showMetadata } from '@placeos/ts-client';\nimport { BehaviorSubject, combineLatest, Observable, of } from 'rxjs';\nimport {\n    catchError,\n    filter,\n    map,\n    shareReplay,\n    switchMap,\n    tap,\n} from 'rxjs/operators';\nimport { CateringItem } from '../catering-item.class';\nimport { cateringItemAvailable, getCateringRulesForZone } from '../utilities';\nimport { CateringSettings } from '../catering-state.service';\nimport { Space } from 'libs/spaces/src/lib/space.class';\n\nexport interface CateringOrderOptions {\n    // Affects backend requests\n    zone?: string;\n}\n\nexport interface CateringOrderFilters {\n    // Affects frontend filtering\n    date?: number;\n    duration?: number;\n    zone_id?: string;\n    resources?: Space[];\n    search: string;\n    tags: string[];\n    categories: string[];\n}\n\n@Injectable({\n    providedIn: 'root',\n})\nexport class CateringOrderStateService {\n    private _options = new BehaviorSubject<CateringOrderOptions>({});\n    private _filters = new BehaviorSubject<CateringOrderFilters>({\n        search: '',\n        tags: [],\n        categories: [],\n    });\n    private _loading = new BehaviorSubject('');\n\n    public readonly loading = this._loading.asObservable();\n    public readonly filters = this._filters.asObservable();\n\n    public readonly settings = this._org.active_building.pipe(\n        filter((_) => !!_),\n        switchMap((_) =>\n            showMetadata(_.id, 'catering-settings').pipe(\n                catchError((_) => of({} as PlaceMetadata))\n            )\n        ),\n        map((_) => _.details as CateringSettings),\n        tap((_) =>\n            this._settings.post('require_catering_notes', !!_?.require_notes)\n        ),\n        shareReplay(1)\n    );\n\n    public readonly charge_codes = this.settings.pipe(\n        map((_) => _.charge_codes || [])\n    );\n    public readonly availability = this.settings.pipe(\n        map((_) => _.disabled_rooms || [])\n    );\n\n    public readonly available_menu: Observable<CateringItem[]> = combineLatest([\n        this._options,\n        this._org.active_building,\n    ]).pipe(\n        filter(([_, bld]) => !!bld),\n        switchMap(([{ zone }, bld]) => {\n            this._loading.next('[Menu]');\n            return showMetadata(zone || bld.id, 'catering').pipe(\n                map((d) =>\n                    (d.details instanceof Array ? d.details : []).map(\n                        (_) => new CateringItem(_)\n                    )\n                ),\n                catchError((_) => [])\n            );\n        }),\n        tap((_) => this._loading.next('')),\n        shareReplay(1)\n    );\n\n    public readonly categories = this.available_menu.pipe(\n        map((_) => unique(_.map((i) => i.category)))\n    );\n\n    public readonly filtered_menu = combineLatest([\n        this._filters,\n        this.available_menu,\n    ]).pipe(\n        switchMap(\n            async ([\n                {\n                    search,\n                    tags,\n                    categories,\n                    zone_id,\n                    date,\n                    duration,\n                    resources,\n                },\n                l,\n            ]) => {\n                const rules = await getCateringRulesForZone(\n                    zone_id\n                ).toPromise();\n                search = search.toLowerCase();\n                let list = search\n                    ? l.filter((_) => _.name.toLowerCase().includes(search))\n                    : l;\n                list = tags.length\n                    ? list.filter((_) => tags.every((t) => _.tags.includes(t)))\n                    : list;\n                list = categories.length\n                    ? list.filter((_) => categories.includes(_.category))\n                    : list;\n                list = list.filter((_) =>\n                    cateringItemAvailable(_, rules, {\n                        date,\n                        duration,\n                        resources,\n                    } as any)\n                );\n                return list;\n            }\n        ),\n        shareReplay(1)\n    );\n\n    public get currency_code() {\n        return this._org.currency_code;\n    }\n\n    constructor(\n        private _org: OrganisationService,\n        private _settings: SettingsService\n    ) {}\n\n    public setOptions(opts: Partial<CateringOrderOptions>) {\n        this._options.next({ ...this._options.getValue(), ...opts });\n    }\n\n    public setFilters(opts: Partial<CateringOrderFilters>) {\n        this._filters.next({ ...this._filters.getValue(), ...opts });\n    }\n\n    public getFilters() {\n        return { ...this._filters.getValue() };\n    }\n}\n","import { Component, Inject } from '@angular/core';\nimport { MAT_DIALOG_DATA } from '@angular/material/dialog';\nimport { SettingsService } from '@placeos/common';\nimport { OrganisationService } from '@placeos/organisation';\nimport { CateringItem } from '../catering-item.class';\nimport { CateringOrderStateService } from './catering-order-state.service';\n\nconst EMPTY_FAVS: string[] = [];\n\n@Component({\n    selector: 'new-catering-order-modal',\n    template: `\n        <div\n            class=\"w-[100vw] h-[100vh] sm:relative sm:w-auto sm:h-auto flex flex-col bg-base-100\"\n        >\n            <header class=\"flex items-center space-x-4 w-full\">\n                <button\n                    icon\n                    matRipple\n                    [mat-dialog-close]=\"selected\"\n                    class=\"bg-neutral\"\n                >\n                    <app-icon>close</app-icon>\n                </button>\n                <h3 i18n>Add Catering</h3>\n            </header>\n            <main\n                class=\"flex-1 flex items-center divide-x divide-base-200 min-h-[65vh] h-[65vh] sm:max-h-[65vh] sm:max-w-[95vw] w-full overflow-hidden\"\n            >\n                <catering-item-filters\n                    class=\"h-full hidden sm:block sm:max-w-[12rem] sm:h-[65vh] sm:max-h-full\"\n                    [(at_time)]=\"exact_time\"\n                    [(offset)]=\"offset\"\n                    [(offset_day)]=\"offset_day\"\n                ></catering-item-filters>\n                <div\n                    class=\"flex flex-col items-center flex-1 w-1/2 h-full sm:h-[65vh]\"\n                >\n                    <catering-item-filters\n                        class=\"w-full border-b border-base-200\"\n                        [search]=\"true\"\n                    ></catering-item-filters>\n                    <catering-item-list\n                        [active]=\"displayed?.custom_id\"\n                        [selected]=\"selected_ids\"\n                        [selected_items]=\"selected\"\n                        [favorites]=\"favorites\"\n                        (toggleFav)=\"toggleFavourite($event)\"\n                        (onSelect)=\"displayed = $event\"\n                        class=\"flex-1 h-1/2 w-full overflow-hidden\"\n                    ></catering-item-list>\n                </div>\n                <catering-item-details\n                    [item]=\"displayed!\"\n                    class=\"h-full w-full sm:h-[65vh] absolute sm:relative sm:flex sm:max-w-[16rem] z-20 bg-base-100\"\n                    [class.hidden]=\"!displayed\"\n                    [class.inset-0]=\"displayed\"\n                    [active]=\"selected_ids.includes(displayed?.custom_id || '')\"\n                    (activeChange)=\"setSelected(displayed!, $event)\"\n                    [code]=\"code\"\n                    [fav]=\"\n                        !!displayed &&\n                        this.favorites.includes(displayed?.id || '')\n                    \"\n                    (toggleFav)=\"toggleFavourite(displayed!)\"\n                    (close)=\"displayed = null\"\n                ></catering-item-details>\n            </main>\n            <footer\n                class=\"flex sm:hidden flex-col-reverse items-center justify-end px-2 pt-2 pb-[5.5rem] border-t border-base-200 w-full\"\n            >\n                <button\n                    btn\n                    matRipple\n                    name=\"catering-item-return\"\n                    class=\"inverse sm:hidden w-full sm:w-auto\"\n                    *ngIf=\"displayed\"\n                    (click)=\"displayed = null\"\n                    i18n\n                >\n                    Back\n                </button>\n                <button\n                    btn\n                    matRipple\n                    name=\"save-catering-item\"\n                    [mat-dialog-close]=\"selected\"\n                    [class.mb-2]=\"displayed\"\n                    class=\"w-full sm:w-auto sm:mb-0\"\n                    i18n\n                >\n                    View List\n                </button>\n            </footer>\n            <footer\n                class=\"hidden sm:flex items-center justify-between p-2 border-t border-base-200 w-full\"\n            >\n                <button\n                    btn\n                    matRipple\n                    name=\"catering-item-return\"\n                    [mat-dialog-close]=\"selected\"\n                    class=\"clear text-secondary\"\n                >\n                    <div class=\"flex items-center\">\n                        <app-icon class=\"text-xl\">arrow_back</app-icon>\n                        <div class=\"mr-1 underline\" i18n>Back to form</div>\n                    </div>\n                </button>\n                <p class=\"opacity-60 text-sm\" i18n>\n                    {{ count }} items(s) added\n                </p>\n                <button\n                    btn\n                    matRipple\n                    name=\"toggle-catering-item\"\n                    [disabled]=\"!displayed\"\n                    [class.inverse]=\"isSelected(displayed?.custom_id)\"\n                    (click)=\"\n                        setSelected(\n                            displayed,\n                            !isSelected(displayed?.custom_id)\n                        )\n                    \"\n                >\n                    <div class=\"flex items-center\">\n                        <app-icon class=\"text-xl\">{{\n                            isSelected(displayed?.custom_id) ? 'remove' : 'add'\n                        }}</app-icon>\n                        <div class=\"mr-1\">\n                            {{\n                                isSelected(displayed?.custom_id)\n                                    ? 'Remove from Booking'\n                                    : 'Add to booking'\n                            }}\n                        </div>\n                    </div>\n                </button>\n            </footer>\n        </div>\n    `,\n    styles: [``],\n})\nexport class NewCateringOrderModalComponent {\n    public displayed: CateringItem | null = null;\n    public selected: CateringItem[] = [...(this._data.items || [])];\n    public exact_time = this._data.exact_time ?? false;\n    public offset: number;\n    public offset_day: number;\n\n    public get favorites() {\n        return (\n            this._settings.get<string[]>('favourite_menu_items') || EMPTY_FAVS\n        );\n    }\n\n    public get selected_ids() {\n        return this.selected.map((_) => _.custom_id).join(',');\n    }\n\n    public get count() {\n        return this.selected.reduce((t, i) => t + i.quantity, 0);\n    }\n\n    public get code() {\n        return this._org.currency_code;\n    }\n\n    constructor(\n        private _settings: SettingsService,\n        private _order: CateringOrderStateService,\n        private _org: OrganisationService,\n        @Inject(MAT_DIALOG_DATA)\n        private _data: {\n            items: CateringItem[];\n            details: any;\n            exact_time?: boolean;\n            offset?: number;\n            offset_day?: number;\n        }\n    ) {\n        const { duration } = this._data.details;\n        this._order.setFilters(this._data.details);\n        this.offset = Math.min(\n            Math.max(\n                this._settings.get('app.catering.min_offset'),\n                this._data.offset || 0\n            ),\n            (duration || 60) - this._settings.get('app.catering.end_offset')\n        );\n        this.offset_day = this._data.offset_day || 0;\n    }\n\n    public isSelected(id: string) {\n        return id && this.selected_ids.includes(id);\n    }\n\n    public setSelected(item: CateringItem, state: boolean) {\n        const list = this.selected.filter(\n            (_) => _.custom_id !== item.custom_id\n        );\n        if (state) {\n            const new_item = new CateringItem({ ...item, in_order: true });\n            list.push(new_item);\n            this.displayed = new_item;\n        }\n        this.selected = list;\n    }\n\n    public toggleFavourite(item: CateringItem) {\n        const fav_list = this.favorites;\n        const new_state = !fav_list.includes(item.id);\n        if (new_state) {\n            this._settings.saveUserSetting('favourite_menu_items', [\n                ...fav_list,\n                item.id,\n            ]);\n        } else {\n            this._settings.saveUserSetting(\n                'favourite_menu_items',\n                fav_list.filter((_) => _ !== item.id)\n            );\n        }\n    }\n}\n","import { Component, Inject, Output, EventEmitter } from '@angular/core';\nimport { MAT_DIALOG_DATA } from '@angular/material/dialog';\n\nimport { DialogEvent, HashMap } from 'libs/common/src/lib/types';\nimport { unique } from 'libs/common/src/lib/general';\n\nimport { CateringOption, CateringOptionGroup } from './catering.interfaces';\n\nexport interface CateringOrderOptionsModalData {\n    code: string;\n    options: CateringOption[];\n}\n\n@Component({\n    selector: 'app-catering-options-modal',\n    template: `\n        <header>\n            <h3>Select options</h3>\n            <button icon mat-dialog-close>\n                <app-icon>close</app-icon>\n            </button>\n        </header>\n        <main class=\"overflow-auto\">\n            <div\n                class=\"pt-1 pb-2 border-b border-base-200\"\n                *ngFor=\"let group of groups\"\n                [attr.group]=\"group.name\"\n            >\n                <div class=\"font-medium p-2 capitalize\">{{ group.name }}</div>\n                <div class=\"flex flex-col pl-6\">\n                    <ng-container *ngIf=\"!group.multiple; else multi_options\">\n                        <mat-radio-group\n                            class=\"flex flex-col\"\n                            aria-label=\"Select an option\"\n                            ngModel\n                            (ngModelChange)=\"updateGroupOption(group, $event)\"\n                        >\n                            <mat-radio-button class=\"my-1 mx-0\" value=\"\">\n                                <span class=\"font-medium p-2\">None</span>\n                            </mat-radio-button>\n                            <mat-radio-button\n                                class=\"my-1 mx-0\"\n                                *ngFor=\"let opt of group?.options\"\n                                [value]=\"opt.id\"\n                            >\n                                <div class=\"flex items-center justify-center\">\n                                    <div class=\"font-medium p-2 flex-1 w-1/2\">\n                                        {{ opt.name }}\n                                    </div>\n                                    <div\n                                        class=\"opacity-60 text-xs\"\n                                        *ngIf=\"opt.unit_price\"\n                                    >\n                                        +{{\n                                            opt.unit_price / 100\n                                                | currency: code\n                                        }}\n                                    </div>\n                                </div>\n                            </mat-radio-button>\n                        </mat-radio-group>\n                    </ng-container>\n                    <ng-template #multi_options>\n                        <mat-checkbox\n                            *ngFor=\"let opt of group?.options\"\n                            [(ngModel)]=\"option_state[opt.id]\"\n                        >\n                            <div class=\"flex items-center justify-center\">\n                                <div class=\"font-medium p-2 flex-1 w-1/2\">\n                                    {{ opt.name }}\n                                </div>\n                                <div\n                                    class=\"opacity-60 text-xs\"\n                                    *ngIf=\"opt.unit_price\"\n                                >\n                                    +{{ opt.unit_price / 100 | currency: code }}\n                                </div>\n                            </div>\n                        </mat-checkbox>\n                    </ng-template>\n                </div>\n            </div>\n        </main>\n        <footer class=\"p-2\">\n            <button btn matRipple class=\"w-32\" (click)=\"saveOptions()\">\n                Save\n            </button>\n        </footer>\n    `,\n    styles: [\n        `\n            main {\n                min-height: 24em;\n                width: 24rem;\n                max-width: calc(100vw - 2rem);\n            }\n        `,\n    ],\n})\nexport class CateringOrderOptionsModalComponent {\n    /** Emitter for events on the modal */\n    @Output() public event = new EventEmitter<DialogEvent>();\n    /** List of option groups */\n    public readonly groups: CateringOptionGroup[];\n    /** Mapping of options to their active state */\n    public option_state: HashMap<boolean> = {};\n    public readonly code = this._data.code;\n\n    constructor(\n        @Inject(MAT_DIALOG_DATA) private _data: CateringOrderOptionsModalData\n    ) {\n        const groups = unique(\n            this._data.options.map((i) => i.group || 'Other')\n        );\n        const group_list = [];\n        for (const group of groups) {\n            const options = this._data.options.filter((i) => i.group === group);\n            group_list.push({\n                name: group,\n                multiple: !!options.find((i) => i.multiple),\n                options,\n            });\n        }\n        this.groups = group_list;\n    }\n\n    public updateGroupOption(group: CateringOptionGroup, id: string) {\n        for (const option of group.options) {\n            this.option_state[option.id] = option.id === id;\n        }\n    }\n\n    public saveOptions() {\n        const options = this._data.options.filter(\n            (opt) => this.option_state[opt.id]\n        );\n        this.event.emit({ reason: 'done', metadata: { options } });\n    }\n}\n","import { Injectable } from '@angular/core';\nimport { BehaviorSubject, combineLatest, Observable, of } from 'rxjs';\nimport {\n    map,\n    switchMap,\n    debounceTime,\n    tap,\n    shareReplay,\n    catchError,\n} from 'rxjs/operators';\nimport { startOfDay, endOfDay, getUnixTime, format } from 'date-fns';\n\nimport { AsyncHandler, currentUser, flatten } from '@placeos/common';\nimport {\n    queryEvents,\n    saveEvent,\n    updateEventMetadata,\n} from 'libs/events/src/lib/events.fn';\nimport { CalendarEvent } from 'libs/events/src/lib/event.class';\n\nimport { CateringOrder } from './catering-order.class';\nimport { CateringOrderStatus } from './catering.interfaces';\n\nexport interface CateringOrderFilters {\n    /** UTC epoch of the date to get catering orders for */\n    date?: number;\n    /** List of zones to filter catering order bookings */\n    zones?: string[];\n    /** Search string to filter orders on */\n    search?: string;\n}\n\nfunction checkOrder(\n    order: CateringOrder,\n    filters: CateringOrderFilters\n): boolean {\n    const s = (filters.search || '').toLowerCase();\n    return !!order.items.find(\n        (item) =>\n            item.name.toLowerCase().includes(s) ||\n            !!item.options.find((option) =>\n                option.name.toLowerCase().includes(s)\n            )\n    );\n}\n\n@Injectable({\n    providedIn: 'root',\n})\nexport class CateringOrdersService extends AsyncHandler {\n    private _poll = new BehaviorSubject<number>(0);\n    private _loading = new BehaviorSubject<boolean>(false);\n    private _filters = new BehaviorSubject<CateringOrderFilters>({});\n\n    /** Observable for list of orders */\n    public readonly orders: Observable<CateringOrder[]> = combineLatest([\n        this._filters,\n        this._poll,\n    ]).pipe(\n        debounceTime(1000),\n        switchMap(([{ date, zones }]) => {\n            this._loading.next(true);\n            const start = getUnixTime(startOfDay(date || Date.now()));\n            const end = getUnixTime(endOfDay(date || Date.now()));\n            return queryEvents({\n                zone_ids: (zones || []).join(','),\n                period_start: start,\n                period_end: end,\n            }).pipe(\n                catchError(() => of([])),\n                map((events) =>\n                    flatten(\n                        events.map((event) =>\n                            event.valid_catering.map(\n                                (o) => new CateringOrder({ ...o, event })\n                            )\n                        )\n                    )\n                ),\n                map((orders) =>\n                    orders.filter(\n                        (o) =>\n                            format(o.deliver_at, 'yyyy-MM-dd') ===\n                            format(start * 1000, 'yyyy-MM-dd')\n                    )\n                )\n            );\n        }),\n        tap(() => this._loading.next(false)),\n        shareReplay(1)\n    );\n    /** Observable for loading status of orders */\n    public readonly loading = this._loading.asObservable();\n    /** Order filters */\n    public get filters() {\n        return this._filters.getValue();\n    }\n    /** Order filters */\n    public set filters(filters: CateringOrderFilters) {\n        this._filters.next(filters);\n    }\n    /** Filtered list of catering orders */\n    public readonly filtered = this.orders.pipe(\n        map((list) =>\n            list\n                .filter((order) => checkOrder(order, this._filters.getValue()))\n                .sort((a, b) => a.deliver_at - b.deliver_at)\n        )\n    );\n\n    constructor() {\n        super();\n        this.subscription('changes', this.orders.subscribe());\n    }\n\n    /** Start polling for catering orders */\n    public startPolling(delay: number = 15 * 1000) {\n        this.interval(\n            'polling',\n            () => this._poll.next(new Date().valueOf()),\n            delay\n        );\n    }\n\n    /** Stop polling for new catering orders */\n    public stopPolling() {\n        this.clearInterval('polling');\n    }\n\n    /**\n     * Update the status of the order\n     * @param order Order to update\n     * @param status New order status\n     */\n    public async updateStatus(\n        order: CateringOrder,\n        status: CateringOrderStatus\n    ) {\n        order.status = status;\n        const updated_order = new CateringOrder({\n            ...order,\n            status,\n            event: null,\n        });\n        const catering = [\n            ...(order.event.extension_data.catering || []).filter(\n                (o) => o.id !== order.id\n            ),\n            updated_order,\n        ].map((i) => new CateringOrder({ ...i }));\n        const event = new CalendarEvent({\n            ...order.event,\n            catering,\n        });\n        const system_id = event?.resources[0]?.id || event?.system?.id;\n        const booking = await updateEventMetadata(\n            event.id,\n            system_id,\n            event.extension_data\n        ).toPromise();\n        this.timeout('refresh-list', () => this._poll.next(Date.now()), 1000);\n        (order as any).status = status;\n        return booking;\n    }\n}\n","import { Injectable } from '@angular/core';\nimport { MatDialog } from '@angular/material/dialog';\nimport {\n    updateMetadata,\n    showMetadata,\n    PlaceMetadata,\n} from '@placeos/ts-client';\nimport { BehaviorSubject, combineLatest, of } from 'rxjs';\nimport {\n    catchError,\n    filter,\n    first,\n    map,\n    shareReplay,\n    switchMap,\n    take,\n    tap,\n} from 'rxjs/operators';\n\nimport {\n    AsyncHandler,\n    flatten,\n    notifyError,\n    notifySuccess,\n    openConfirmModal,\n    SettingsService,\n    unique,\n} from '@placeos/common';\nimport { Building, OrganisationService } from '@placeos/organisation';\n\nimport {\n    CateringItemModalComponent,\n    CateringItemModalData,\n} from './catering-item-modal.component';\nimport {\n    CateringItemOptionModalComponent,\n    CateringItemOptionModalData,\n} from './catering-option-modal.component';\nimport {\n    AttachedResourceConfigModalComponent,\n    AttachedResourceRuleset,\n    AttachedResourceConfigModalData,\n} from '@placeos/components';\nimport { CateringItem } from './catering-item.class';\nimport { CateringOrder } from './catering-order.class';\nimport {\n    CateringOrderModalComponent,\n    CateringOrderModalData,\n} from './catering-order-modal.component';\nimport { CateringOption } from './catering.interfaces';\nimport {\n    CateringOrderOptionsModalComponent,\n    CateringOrderOptionsModalData,\n} from './catering-order-options-modal.component';\nimport { CateringImportMenuModalComponent } from './catering-import-menu-modal.component';\n\nexport interface CateringSettings {\n    require_notes?: boolean;\n    charge_codes?: string[];\n    disabled_rooms?: string[];\n}\n\n@Injectable({\n    providedIn: 'root',\n})\nexport class CateringStateService extends AsyncHandler {\n    private _updated = new BehaviorSubject(0);\n    /** Active menu */\n    private _menu = new BehaviorSubject<CateringItem[]>([]);\n    /** Whether the menu for the active building is loading */\n    private _loading = new BehaviorSubject<boolean>(false);\n    /** Currency code for the active building */\n    private _currency = new BehaviorSubject<string>('USD');\n\n    private _change = new BehaviorSubject(0);\n    /** Observable for the active menu */\n    public readonly menu = this._menu.asObservable();\n    /** Observable for whether the menu for the active building is loadingg */\n    public readonly loading = this._loading.asObservable();\n    /** Observable for the currency code of the active building */\n    public readonly currency = this._currency.asObservable();\n\n    public readonly settings = combineLatest([\n        this._org.active_building,\n        this._change,\n    ]).pipe(\n        filter(([_]) => !!_),\n        switchMap(([_]) =>\n            showMetadata(_.id, 'catering-settings').pipe(\n                catchError((_) => of({} as PlaceMetadata))\n            )\n        ),\n        map((_) => (_.details as CateringSettings) || {}),\n        tap((_) =>\n            this._settings.post('require_catering_notes', !!_?.require_notes)\n        ),\n        shareReplay(1)\n    );\n\n    public readonly charge_codes = this.settings.pipe(\n        map((_) => _.charge_codes || [])\n    );\n    public readonly availability = this.settings.pipe(\n        map((_) => _.disabled_rooms || [])\n    );\n\n    public zone = '';\n\n    public get is_editable() {\n        return !this.zone || this.zone === this._org.building?.id;\n    }\n\n    public get categories() {\n        const menu = this._menu.getValue();\n        return unique(menu.map((i) => i.category));\n    }\n\n    constructor(\n        private _org: OrganisationService,\n        private _dialog: MatDialog,\n        private _settings: SettingsService\n    ) {\n        super();\n        this.subscription(\n            'building',\n            this._org.active_building.subscribe(async (bld: Building) => {\n                if (bld) {\n                    const menu = (await this.getCateringForZone(bld.id)).map(\n                        (i) => new CateringItem(i)\n                    );\n                    this._currency.next(\n                        this._settings.get('app.currency') ||\n                            bld.currency ||\n                            'USD'\n                    );\n                    this._menu.next(menu);\n                }\n            })\n        );\n    }\n\n    /**\n     * Create/Edit catering order\n     * @param order Order to manipulate\n     */\n    public async manageCateringOrder(order: CateringOrder) {\n        const ref = this._dialog.open<\n            CateringOrderModalComponent,\n            CateringOrderModalData\n        >(CateringOrderModalComponent, {\n            data: {\n                code: this._currency.getValue(),\n                order,\n                menu: this.menu,\n                loading: this.loading,\n                getCateringConfig: (_) => this.getCateringConfig(_),\n                selectOptions: (_) => this.selectOptions(_),\n            },\n        });\n        const details = await Promise.race([\n            ref.componentInstance.event\n                .pipe(first((_) => _.reason === 'done'))\n                .toPromise(),\n            ref.afterClosed().toPromise(),\n        ]);\n        ref.close();\n        return details?.metadata?.order || order;\n    }\n\n    public async addItem(item: CateringItem = new CateringItem()) {\n        const ref = this._dialog.open<\n            CateringItemModalComponent,\n            CateringItemModalData\n        >(CateringItemModalComponent, {\n            data: {\n                item,\n                categories: this.categories,\n            },\n        });\n        const details = await Promise.race([\n            ref.componentInstance.event\n                .pipe(first((_) => _.reason === 'done'))\n                .toPromise(),\n            ref.afterClosed().toPromise(),\n        ]);\n        if (details?.reason !== 'done') return;\n        const menu = this._menu.getValue();\n        const index = menu.findIndex((itm) => itm.id === item.id);\n        if (index >= 0) {\n            menu.splice(index, 1, details.metadata.item);\n        } else {\n            menu.push(details.metadata.item);\n        }\n        this.updateMenu(this._org.building.id, menu).then(\n            () => {\n                this._menu.next([...menu]);\n                ref.close();\n            },\n            () => (ref.componentInstance.loading = false)\n        );\n    }\n\n    public updateItem(item: CateringItem) {\n        const menu = this._menu.getValue();\n        const index = menu.findIndex((itm) => itm.id === item.id);\n        if (index >= 0) menu.splice(index, 1, item);\n        else menu.push(item);\n        this.updateMenu(this._org.building.id, menu).then(() =>\n            this._menu.next([...menu])\n        );\n    }\n\n    public async addOption(\n        item: CateringItem,\n        option: CateringOption = {} as any\n    ) {\n        const types = unique(item.options.map((i) => i.group));\n        const ref = this._dialog.open<\n            CateringItemOptionModalComponent,\n            CateringItemOptionModalData\n        >(CateringItemOptionModalComponent, {\n            data: {\n                parent: item,\n                option,\n                types,\n            },\n        });\n        const details = await Promise.race([\n            ref.componentInstance.event\n                .pipe(first((_) => _.reason === 'done'))\n                .toPromise(),\n            ref.afterClosed().toPromise(),\n        ]);\n        if (details?.reason !== 'done') return;\n        const menu = this._menu.getValue();\n        const index = menu.findIndex((itm) => itm.id === item.id);\n        if (index >= 0) {\n            menu.splice(index, 1, details.metadata.item);\n        } else {\n            menu.push(details.metadata.item);\n        }\n        this.updateMenu(this._org.building.id, menu).then(\n            () => {\n                this._menu.next([...menu]);\n                ref.close();\n            },\n            () => (ref.componentInstance.loading = false)\n        );\n    }\n\n    public async selectOptions(options: CateringOption[]) {\n        const ref = this._dialog.open<\n            CateringOrderOptionsModalComponent,\n            CateringOrderOptionsModalData\n        >(CateringOrderOptionsModalComponent, {\n            data: {\n                code: this._currency.getValue(),\n                options,\n            },\n        });\n        const details = await Promise.race([\n            ref.componentInstance.event\n                .pipe(first((_) => _.reason === 'done'))\n                .toPromise(),\n            ref.afterClosed().toPromise(),\n        ]);\n        if (details?.reason !== 'done') return [];\n        ref.close();\n        return details.metadata.options;\n    }\n\n    public async deleteItem(item: CateringItem) {\n        const details = await openConfirmModal(\n            {\n                title: 'Delete Catering Item',\n                content: `Are you sure you wish to remove the catering item ${item.name} from the menu?`,\n                icon: {\n                    type: 'icon',\n                    class: 'material-icons',\n                    content: 'delete',\n                },\n            },\n            this._dialog\n        );\n        if (details.reason !== 'done') return;\n        details.loading('Removing catering item...');\n        const menu = this._menu.getValue().filter((itm) => item.id !== itm.id);\n        this.updateMenu(this._org.building.id, menu).then(\n            () => {\n                this._menu.next([...menu]);\n                details.close();\n            },\n            () => details.loading('')\n        );\n    }\n\n    public async deleteOption(item: CateringItem, option: CateringOption) {\n        const details = await openConfirmModal(\n            {\n                title: 'Delete Catering Item Option',\n                content: `Are you sure you wish to remove the catering option \"${option.name}\" from \"${item.name}\"?`,\n                icon: {\n                    type: 'icon',\n                    class: 'material-icons',\n                    content: 'delete',\n                },\n            },\n            this._dialog\n        );\n        if (details.reason !== 'done') return;\n        details.loading('Removing catering item option...');\n        const menu = this._menu.getValue();\n        menu.splice(\n            menu.findIndex((itm) => itm.id === item.id),\n            1,\n            new CateringItem({\n                ...item,\n                options: item.options.filter((opt) => opt.id !== option.id),\n            })\n        );\n        this.updateMenu(this._org.building.id, menu).then(\n            () => {\n                this._menu.next([...menu]);\n                details.close();\n            },\n            () => details.loading('')\n        );\n    }\n\n    public async editConfig() {\n        const config = await this.getCateringConfig(this._org.building.id);\n        const { require_notes } = await this.settings.pipe(take(1)).toPromise();\n        const menu = this._menu.getValue();\n        const types = unique(flatten(menu.map((i) => [i.category, ...i.tags])));\n        const ref = this._dialog.open<\n            AttachedResourceConfigModalComponent,\n            AttachedResourceConfigModalData\n        >(AttachedResourceConfigModalComponent, {\n            data: {\n                config,\n                types,\n                require_notes,\n                saveNotes: (b) => this.saveSettings({ require_notes: b }),\n            },\n        });\n        const details = await Promise.race([\n            ref.componentInstance.event\n                .pipe(first((_) => _.reason === 'done'))\n                .toPromise(),\n            ref.afterClosed().toPromise(),\n        ]);\n        if (details?.reason !== 'done') return;\n        this.updateConfig(this._org.building.id, details.metadata).then(\n            () => ref.close(),\n            () => (ref.componentInstance.loading = false)\n        );\n    }\n\n    public async importMenu() {\n        const ref = this._dialog.open(CateringImportMenuModalComponent);\n        const details = await Promise.race([\n            ref.componentInstance.event\n                .pipe(first((_) => _.reason === 'done'))\n                .toPromise(),\n            ref.afterClosed().toPromise(),\n        ]);\n        if (details?.reason !== 'done') return;\n        ref.componentInstance.loading = 'Updating menu...';\n        const menu = this._menu.getValue();\n        const bld = this._org.building;\n        const updated_menu = unique(details.metadata.concat(menu), 'id');\n        await this.updateMenu(bld.id, updated_menu).catch((_) => {\n            notifyError('Error importing catering menu');\n            ref.close();\n            throw _;\n        });\n        notifySuccess(\n            `Successfully imported catering menu. ${details.metadata.length} item(s) added.`\n        );\n        ref.close();\n    }\n\n    private updateMenu(zone_id: string, menu: CateringItem[]) {\n        return updateMetadata(zone_id, {\n            id: zone_id,\n            name: 'catering',\n            details: menu,\n            description: `Catering menu for ${zone_id}`,\n        }).toPromise();\n    }\n\n    public async saveSettings(settings: CateringSettings) {\n        const old_settings = await this.settings.pipe(take(1)).toPromise();\n        const result = await updateMetadata(this._org.building.id, {\n            id: this._org.building.id,\n            name: 'catering-settings',\n            details: { ...old_settings, ...settings },\n            description: `Catering settings for ${this._org.building.id}`,\n        }).toPromise();\n        this._change.next(Date.now());\n        return result;\n    }\n\n    private async getCateringForZone(zone_id: string): Promise<CateringItem[]> {\n        const menu = (await showMetadata(zone_id, 'catering').toPromise())\n            .details;\n        return menu instanceof Array ? menu : [];\n    }\n\n    public async getCateringConfig(\n        zone_id: string = this._org.building.id\n    ): Promise<AttachedResourceRuleset[]> {\n        const rules = (\n            await showMetadata(zone_id, 'catering_config').toPromise()\n        ).details;\n        return rules instanceof Array ? (rules as any) : [];\n    }\n\n    private updateConfig(zone_id: string, config: AttachedResourceRuleset[]) {\n        return updateMetadata(zone_id, {\n            id: zone_id,\n            name: 'catering_config',\n            details: config,\n            description: `Catering menu config for ${zone_id}`,\n        }).toPromise();\n    }\n\n    public addItemToOrder(order: CateringOrder, new_item: CateringItem) {\n        let items = order.items;\n        const match = items.find(\n            (item) =>\n                item.id === new_item.id &&\n                new_item.options?.length ===\n                    item.options?.reduce(\n                        (c, o) =>\n                            c +\n                            (new_item.options.find((opt) => o.id === opt.id)\n                                ? 1\n                                : 0),\n                        0\n                    )\n        );\n        match\n            ? ((match as any).quantity += 1)\n            : (items = items.concat([\n                  new CateringItem({ ...new_item, quantity: 1 }),\n              ]));\n        const new_order = new CateringOrder({\n            ...order,\n            items,\n            event: null,\n        });\n        return new_order;\n    }\n}\n","// Event catering order interfaces\nexport type CateringOrderStatus =\n    | 'accepted'\n    | 'preparing'\n    | 'ready'\n    | 'delivered'\n    | 'cancelled';\n\nexport interface CateringOptionGroup {\n    name: string;\n    multiple: boolean;\n    options: CateringOption[];\n}\n\nexport interface CateringOption {\n    /** Unique Identifier of the catering option */\n    readonly id: string;\n    /** Display name for the catering option */\n    readonly name: string;\n    /** Name of the group associated with the option */\n    readonly group: string;\n    /** Whether multiple items in the group can be selected */\n    readonly multiple: boolean;\n    /** Cost of adding the option to the item */\n    readonly unit_price: number;\n    /** Whether the catering option is active for the item */\n    active?: boolean;\n}\n","import { CommonModule } from '@angular/common';\nimport { NgModule, Type } from '@angular/core';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\nimport { MatAutocompleteModule } from '@angular/material/autocomplete';\nimport { MatCheckboxModule } from '@angular/material/checkbox';\nimport { MatDialogModule } from '@angular/material/dialog';\nimport { MatMenuModule } from '@angular/material/menu';\nimport { MatTabsModule } from '@angular/material/tabs';\nimport { MatRadioModule } from '@angular/material/radio';\nimport { MatTooltipModule } from '@angular/material/tooltip';\nimport { MatFormFieldModule } from '@angular/material/form-field';\n\nimport { FormFieldsModule } from '@placeos/form-fields';\n\nimport { ComponentsModule } from 'libs/components/src/lib/components.module';\n\nimport { CateringItemModalComponent } from './catering-item-modal.component';\nimport { CateringMenuComponent } from './catering-menu.component';\nimport { CateringItemOptionModalComponent } from './catering-option-modal.component';\nimport { CateringOrderItemComponent } from './catering-order-item.component';\nimport { CateringOrderListComponent } from './catering-order-list.component';\nimport { CateringOrderModalComponent } from './catering-order-modal.component';\nimport { CateringOrderOptionsModalComponent } from './catering-order-options-modal.component';\nimport { CateringImportMenuModalComponent } from './catering-import-menu-modal.component';\n\nimport { NewCateringOrderModalComponent } from './catering-order-modal/new-catering-order-modal.component';\nimport { CateringItemListComponent } from './catering-order-modal/catering-item-list.component';\nimport { CateringItemDetailsComponent } from './catering-order-modal/catering-item-details.component';\nimport { CateringItemFiltersComponent } from './catering-order-modal/catering-item-filters.component';\nimport { CateringListFieldComponent } from './catering-list-field.component';\nimport { ChargeCodeListModalComponent } from './charge-code-list-modal.component';\nimport { CateringItemListItemComponent } from './catering-order-modal/catering-item-list-item.component';\nimport { MatProgressSpinnerModule } from '@angular/material/progress-spinner';\n\nconst COMPONENTS: Type<any>[] = [\n    CateringOrderOptionsModalComponent,\n    CateringOrderModalComponent,\n    CateringItemModalComponent,\n    CateringMenuComponent,\n    CateringItemOptionModalComponent,\n    CateringOrderListComponent,\n    CateringOrderItemComponent,\n    CateringImportMenuModalComponent,\n\n    CateringListFieldComponent,\n    NewCateringOrderModalComponent,\n    CateringItemListComponent,\n    CateringItemDetailsComponent,\n    CateringItemFiltersComponent,\n    CateringItemListItemComponent,\n\n    ChargeCodeListModalComponent,\n];\n\n@NgModule({\n    declarations: [...COMPONENTS],\n    imports: [\n        CommonModule,\n        MatMenuModule,\n        MatTabsModule,\n        MatAutocompleteModule,\n        MatDialogModule,\n        MatCheckboxModule,\n        MatRadioModule,\n        MatTooltipModule,\n        FormsModule,\n        ReactiveFormsModule,\n        ComponentsModule,\n        MatFormFieldModule,\n        FormFieldsModule,\n        MatProgressSpinnerModule,\n    ],\n    providers: [],\n    exports: [...COMPONENTS],\n})\nexport class SharedCateringModule {}\n","export * from './catering-order-options-modal.component';\nexport * from './catering-order-modal.component';\nexport * from './catering-item-modal.component';\nexport * from './catering-item.class';\nexport * from './catering-menu.component';\nexport * from './catering-option-modal.component';\nexport * from './catering-order-item.component';\nexport * from './catering-order-list.component';\nexport * from './catering-order.class';\nexport * from './catering-orders.service';\nexport * from './catering-state.service';\nexport * from './catering.interfaces';\nexport * from './catering.module';\nexport * from './catering.vars';\nexport * from './catering-order-modal/new-catering-order-modal.component';\n","import { Identity } from '@placeos/common';\n\nexport const CATERING_STATUSES: Identity[] = [\n    { id: 'pending', name: 'Pending', icon: { class: 'custom-pending' }, colour: '#ccc' },\n    { id: 'accepted', name: 'Accepted', icon: { class: 'custom-accepted' }, colour: '#3996B6' },\n    {\n        id: 'preparing',\n        name: 'Preparing',\n        icon: { class: 'custom-preparing' },\n        colour: '#E7536B',\n    },\n    { id: 'ready', name: 'Ready', icon: { class: 'custom-ready' }, colour: '#FFD028' },\n    {\n        id: 'delivered',\n        name: 'Delivered',\n        icon: { class: 'custom-delivered' },\n        colour: '#75BB43',\n    },\n    {\n        id: 'cancelled',\n        name: 'Cancelled',\n        icon: { class: 'custom-cancelled' },\n        colour: '#747474',\n    },\n];\n","import { Component } from '@angular/core';\nimport { MatDialogRef } from '@angular/material/dialog';\nimport { csvToJson, notifyError, unique } from '@placeos/common';\nimport { take } from 'rxjs/operators';\nimport { CateringStateService } from './catering-state.service';\n\n@Component({\n    selector: 'charge-code-list-modal',\n    template: `\n        <header>\n            <h2>Edit Charge Codes</h2>\n            <button icon mat-dialog-close>\n                <app-icon>close</app-icon>\n            </button>\n        </header>\n        <main\n            *ngIf=\"!loading; else load_state\"\n            class=\"overflow-auto max-h-[65vh] min-h-[20rem] flex flex-col\"\n        >\n            <div\n                class=\"flex items-center space-x-2 w-full hover:bg-neutral px-2\"\n                *ngFor=\"\n                    let code of charge_codes;\n                    let i = index;\n                    trackBy: trackByFn\n                \"\n            >\n                <mat-form-field appearance=\"outline\" class=\"h-14 flex-1\">\n                    <input\n                        matInput\n                        [(ngModel)]=\"charge_codes[i]\"\n                        placeholder=\"Charge Code\"\n                    />\n                </mat-form-field>\n                <button icon (click)=\"removeCode(i)\">\n                    <app-icon>delete</app-icon>\n                </button>\n            </div>\n        </main>\n        <footer\n            class=\"flex items-center p-2 space-x-2 border-t border-base-200\"\n            *ngIf=\"!loading\"\n        >\n            <button btn matRipple class=\"w-48 inverse relative\">\n                Import Codes\n                <input\n                    class=\"opacity-0 absolute inset-0\"\n                    type=\"file\"\n                    (change)=\"addCodesFromFile($event)\"\n                />\n            </button>\n            <button btn matRipple class=\"w-48\" (click)=\"newCode()\">\n                Add Code\n            </button>\n            <button btn matRipple class=\"w-48\" (click)=\"saveChargeCodes()\">\n                Save Changes\n            </button>\n        </footer>\n        <ng-template #load_state>\n            <main\n                class=\"flex flex-col items-center justify-center p-20 space-y-2\"\n            >\n                <mat-spinner diameter=\"32\"></mat-spinner>\n                <p>Saving changes to charge codes...</p>\n            </main>\n        </ng-template>\n    `,\n    styles: [``],\n})\nexport class ChargeCodeListModalComponent {\n    public charge_codes: string[] = [];\n    public loading = false;\n\n    constructor(\n        private _state: CateringStateService,\n        private _dialog_ref: MatDialogRef<ChargeCodeListModalComponent>\n    ) {}\n\n    public async ngOnInit() {\n        this.charge_codes =\n            (await this._state.charge_codes.pipe(take(1)).toPromise()) || [];\n    }\n\n    public newCode() {\n        this.charge_codes.push('');\n    }\n\n    public removeCode(index: number) {\n        this.charge_codes.splice(index, 1);\n    }\n\n    /**\n     * Load CSV file and populate the code list with the contents\n     * @param event File input field event\n     */\n    public addCodesFromFile(event) {\n        /* istanbul ignore else */\n        if (event.target) {\n            const file = event.target.files[0];\n            /* istanbul ignore else */\n            if (file) {\n                const reader = new FileReader();\n                reader.readAsText(file, 'UTF-8');\n                reader.addEventListener('load', (evt) => {\n                    const list =\n                        csvToJson((evt.srcElement as any).result) || [];\n                    for (const { code, description } of list) {\n                        this.charge_codes.push(code);\n                    }\n                    this.charge_codes = unique(this.charge_codes);\n                    event.target.value = '';\n                });\n                reader.addEventListener('error', (_) =>\n                    notifyError('Error reading file.')\n                );\n            }\n        }\n    }\n\n    public async saveChargeCodes() {\n        this.loading = true;\n        const cleaned_codes = this.charge_codes.filter((_) => _ && _.trim());\n        await this._state.saveSettings({ charge_codes: cleaned_codes });\n        this._dialog_ref.close();\n    }\n\n    public trackByFn(idx: number, item: any) {\n        return idx;\n    }\n}\n","import { isAfter, isBefore, setHours, subHours } from 'date-fns';\n\nimport { CalendarEvent } from 'libs/events/src/lib/event.class';\nimport { CateringItem } from './catering-item.class';\nimport { Observable, of } from 'rxjs';\nimport { showMetadata } from '@placeos/ts-client';\nimport { catchError, map } from 'rxjs/operators';\nimport { stringToMinutes } from '@placeos/common';\nimport { AttachedResourceRuleset } from '@placeos/components';\n\nconst RULE_REQUESTS: Record<string, Observable<AttachedResourceRuleset[]>> = {};\n\nexport function getCateringRulesForZone(\n    zone_id: string,\n    fresh: boolean = false\n) {\n    if (!zone_id) return of([] as AttachedResourceRuleset[]);\n    if (!RULE_REQUESTS[zone_id] || fresh)\n        RULE_REQUESTS[zone_id] = showMetadata(zone_id, 'catering_config').pipe(\n            map(\n                (_) =>\n                    (_.details instanceof Array\n                        ? _.details\n                        : []) as AttachedResourceRuleset[]\n            ),\n            catchError((e) => of([] as AttachedResourceRuleset[]))\n        );\n    return RULE_REQUESTS[zone_id];\n}\n\nexport function cateringItemAvailable(\n    item: CateringItem,\n    rules: AttachedResourceRuleset[],\n    event: CalendarEvent\n) {\n    let is_available = true;\n    for (const rule of rules) {\n        if (\n            item.category === rule.name ||\n            item.tags.includes(rule.name) ||\n            event.resources.find((_) => _.zones.includes(rule.name)) ||\n            event.space?.zones.includes(rule.name) ||\n            rule.name === '*'\n        ) {\n            let matches = 0;\n            for (const condition of rule.rules) {\n                const date = new Date(event.date);\n                switch (condition[0]) {\n                    case 'is_before':\n                        matches += isBefore(\n                            Date.now(),\n                            subHours(date, condition[1])\n                        )\n                            ? 1\n                            : 0;\n                        break;\n                    case 'within_hours':\n                        matches += isAfter(\n                            Date.now(),\n                            subHours(date, condition[1])\n                        )\n                            ? 1\n                            : 0;\n                        break;\n                    case 'after_hour':\n                        matches += isAfter(date, setHours(date, condition[1]))\n                            ? 1\n                            : 0;\n                        break;\n                    case 'before_hour':\n                        matches += isBefore(date, setHours(date, condition[1]))\n                            ? 1\n                            : 0;\n                        break;\n                    case 'min_length':\n                        matches +=\n                            event.duration >= stringToMinutes(condition[1])\n                                ? 1\n                                : 0;\n                        break;\n                    case 'max_length':\n                        matches +=\n                            event.duration <= stringToMinutes(condition[1])\n                                ? 1\n                                : 0;\n                        break;\n                    case 'visitor_type':\n                        matches +=\n                            event.ext('visitor_type') === condition[1] ? 1 : 0;\n                        break;\n                    default:\n                        matches += 1;\n                }\n            }\n            is_available = matches >= rule.rules.length;\n        }\n    }\n    return is_available;\n}\n","class e{constructor(a,b,c,d,f){this._legacyCanvasSize=e.DEFAULT_CANVAS_SIZE;this._preferredCamera=\"environment\";this._maxScansPerSecond=25;this._lastScanTimestamp=-1;this._destroyed=this._flashOn=this._paused=this._active=!1;this.$video=a;this.$canvas=document.createElement(\"canvas\");c&&\"object\"===typeof c?this._onDecode=b:(c||d||f?console.warn(\"You're using a deprecated version of the QrScanner constructor which will be removed in the future\"):console.warn(\"Note that the type of the scan result passed to onDecode will change in the future. To already switch to the new api today, you can pass returnDetailedScanResult: true.\"),\nthis._legacyOnDecode=b);b=\"object\"===typeof c?c:{};this._onDecodeError=b.onDecodeError||(\"function\"===typeof c?c:this._onDecodeError);this._calculateScanRegion=b.calculateScanRegion||(\"function\"===typeof d?d:this._calculateScanRegion);this._preferredCamera=b.preferredCamera||f||this._preferredCamera;this._legacyCanvasSize=\"number\"===typeof c?c:\"number\"===typeof d?d:this._legacyCanvasSize;this._maxScansPerSecond=b.maxScansPerSecond||this._maxScansPerSecond;this._onPlay=this._onPlay.bind(this);this._onLoadedMetaData=\nthis._onLoadedMetaData.bind(this);this._onVisibilityChange=this._onVisibilityChange.bind(this);this._updateOverlay=this._updateOverlay.bind(this);a.disablePictureInPicture=!0;a.playsInline=!0;a.muted=!0;let h=!1;a.hidden&&(a.hidden=!1,h=!0);document.body.contains(a)||(document.body.appendChild(a),h=!0);c=a.parentElement;if(b.highlightScanRegion||b.highlightCodeOutline){d=!!b.overlay;this.$overlay=b.overlay||document.createElement(\"div\");f=this.$overlay.style;f.position=\"absolute\";f.display=\"none\";\nf.pointerEvents=\"none\";this.$overlay.classList.add(\"scan-region-highlight\");if(!d&&b.highlightScanRegion){this.$overlay.innerHTML='<svg class=\"scan-region-highlight-svg\" viewBox=\"0 0 238 238\" preserveAspectRatio=\"none\" style=\"position:absolute;width:100%;height:100%;left:0;top:0;fill:none;stroke:#e9b213;stroke-width:4;stroke-linecap:round;stroke-linejoin:round\"><path d=\"M31 2H10a8 8 0 0 0-8 8v21M207 2h21a8 8 0 0 1 8 8v21m0 176v21a8 8 0 0 1-8 8h-21m-176 0H10a8 8 0 0 1-8-8v-21\"/></svg>';try{this.$overlay.firstElementChild.animate({transform:[\"scale(.98)\",\n\"scale(1.01)\"]},{duration:400,iterations:Infinity,direction:\"alternate\",easing:\"ease-in-out\"})}catch(m){}c.insertBefore(this.$overlay,this.$video.nextSibling)}b.highlightCodeOutline&&(this.$overlay.insertAdjacentHTML(\"beforeend\",'<svg class=\"code-outline-highlight\" preserveAspectRatio=\"none\" style=\"display:none;width:100%;height:100%;fill:none;stroke:#e9b213;stroke-width:5;stroke-dasharray:25;stroke-linecap:round;stroke-linejoin:round\"><polygon/></svg>'),this.$codeOutlineHighlight=this.$overlay.lastElementChild)}this._scanRegion=\nthis._calculateScanRegion(a);requestAnimationFrame(()=>{let m=window.getComputedStyle(a);\"none\"===m.display&&(a.style.setProperty(\"display\",\"block\",\"important\"),h=!0);\"visible\"!==m.visibility&&(a.style.setProperty(\"visibility\",\"visible\",\"important\"),h=!0);h&&(console.warn(\"QrScanner has overwritten the video hiding style to avoid Safari stopping the playback.\"),a.style.opacity=\"0\",a.style.width=\"0\",a.style.height=\"0\",this.$overlay&&this.$overlay.parentElement&&this.$overlay.parentElement.removeChild(this.$overlay),\ndelete this.$overlay,delete this.$codeOutlineHighlight);this.$overlay&&this._updateOverlay()});a.addEventListener(\"play\",this._onPlay);a.addEventListener(\"loadedmetadata\",this._onLoadedMetaData);document.addEventListener(\"visibilitychange\",this._onVisibilityChange);window.addEventListener(\"resize\",this._updateOverlay);this._qrEnginePromise=e.createQrEngine()}static set WORKER_PATH(a){console.warn(\"Setting QrScanner.WORKER_PATH is not required and not supported anymore. Have a look at the README for new setup instructions.\")}static async hasCamera(){try{return!!(await e.listCameras(!1)).length}catch(a){return!1}}static async listCameras(a=\n!1){if(!navigator.mediaDevices)return[];let b=async()=>(await navigator.mediaDevices.enumerateDevices()).filter(d=>\"videoinput\"===d.kind),c;try{a&&(await b()).every(d=>!d.label)&&(c=await navigator.mediaDevices.getUserMedia({audio:!1,video:!0}))}catch(d){}try{return(await b()).map((d,f)=>({id:d.deviceId,label:d.label||(0===f?\"Default Camera\":`Camera ${f+1}`)}))}finally{c&&(console.warn(\"Call listCameras after successfully starting a QR scanner to avoid creating a temporary video stream\"),e._stopVideoStream(c))}}async hasFlash(){let a;\ntry{if(this.$video.srcObject){if(!(this.$video.srcObject instanceof MediaStream))return!1;a=this.$video.srcObject}else a=(await this._getCameraStream()).stream;return\"torch\"in a.getVideoTracks()[0].getSettings()}catch(b){return!1}finally{a&&a!==this.$video.srcObject&&(console.warn(\"Call hasFlash after successfully starting the scanner to avoid creating a temporary video stream\"),e._stopVideoStream(a))}}isFlashOn(){return this._flashOn}async toggleFlash(){this._flashOn?await this.turnFlashOff():await this.turnFlashOn()}async turnFlashOn(){if(!this._flashOn&&\n!this._destroyed&&(this._flashOn=!0,this._active&&!this._paused))try{if(!await this.hasFlash())throw\"No flash available\";await this.$video.srcObject.getVideoTracks()[0].applyConstraints({advanced:[{torch:!0}]})}catch(a){throw this._flashOn=!1,a;}}async turnFlashOff(){this._flashOn&&(this._flashOn=!1,await this._restartVideoStream())}destroy(){this.$video.removeEventListener(\"loadedmetadata\",this._onLoadedMetaData);this.$video.removeEventListener(\"play\",this._onPlay);document.removeEventListener(\"visibilitychange\",\nthis._onVisibilityChange);window.removeEventListener(\"resize\",this._updateOverlay);this._destroyed=!0;this._flashOn=!1;this.stop();e._postWorkerMessage(this._qrEnginePromise,\"close\")}async start(){if(this._destroyed)throw Error(\"The QR scanner can not be started as it had been destroyed.\");if(!this._active||this._paused)if(\"https:\"!==window.location.protocol&&console.warn(\"The camera stream is only accessible if the page is transferred via https.\"),this._active=!0,!document.hidden)if(this._paused=\n!1,this.$video.srcObject)await this.$video.play();else try{let {stream:a,facingMode:b}=await this._getCameraStream();!this._active||this._paused?e._stopVideoStream(a):(this._setVideoMirror(b),this.$video.srcObject=a,await this.$video.play(),this._flashOn&&(this._flashOn=!1,this.turnFlashOn().catch(()=>{})))}catch(a){if(!this._paused)throw this._active=!1,a;}}stop(){this.pause();this._active=!1}async pause(a=!1){this._paused=!0;if(!this._active)return!0;this.$video.pause();this.$overlay&&(this.$overlay.style.display=\n\"none\");let b=()=>{this.$video.srcObject instanceof MediaStream&&(e._stopVideoStream(this.$video.srcObject),this.$video.srcObject=null)};if(a)return b(),!0;await new Promise(c=>setTimeout(c,300));if(!this._paused)return!1;b();return!0}async setCamera(a){a!==this._preferredCamera&&(this._preferredCamera=a,await this._restartVideoStream())}static async scanImage(a,b,c,d,f=!1,h=!1){let m,n=!1;b&&(\"scanRegion\"in b||\"qrEngine\"in b||\"canvas\"in b||\"disallowCanvasResizing\"in b||\"alsoTryWithoutScanRegion\"in\nb||\"returnDetailedScanResult\"in b)?(m=b.scanRegion,c=b.qrEngine,d=b.canvas,f=b.disallowCanvasResizing||!1,h=b.alsoTryWithoutScanRegion||!1,n=!0):b||c||d||f||h?console.warn(\"You're using a deprecated api for scanImage which will be removed in the future.\"):console.warn(\"Note that the return type of scanImage will change in the future. To already switch to the new api today, you can pass returnDetailedScanResult: true.\");b=!!c;try{let p,k;[c,p]=await Promise.all([c||e.createQrEngine(),e._loadImage(a)]);\n[d,k]=e._drawToCanvas(p,m,d,f);let q;if(c instanceof Worker){let g=c;b||e._postWorkerMessageSync(g,\"inversionMode\",\"both\");q=await new Promise((l,v)=>{let w,u,r,y=-1;u=t=>{t.data.id===y&&(g.removeEventListener(\"message\",u),g.removeEventListener(\"error\",r),clearTimeout(w),null!==t.data.data?l({data:t.data.data,cornerPoints:e._convertPoints(t.data.cornerPoints,m)}):v(e.NO_QR_CODE_FOUND))};r=t=>{g.removeEventListener(\"message\",u);g.removeEventListener(\"error\",r);clearTimeout(w);v(\"Scanner error: \"+(t?\nt.message||t:\"Unknown Error\"))};g.addEventListener(\"message\",u);g.addEventListener(\"error\",r);w=setTimeout(()=>r(\"timeout\"),1E4);let x=k.getImageData(0,0,d.width,d.height);y=e._postWorkerMessageSync(g,\"decode\",x,[x.data.buffer])})}else q=await Promise.race([new Promise((g,l)=>window.setTimeout(()=>l(\"Scanner error: timeout\"),1E4)),(async()=>{try{var [g]=await c.detect(d);if(!g)throw e.NO_QR_CODE_FOUND;return{data:g.rawValue,cornerPoints:e._convertPoints(g.cornerPoints,m)}}catch(l){g=l.message||l;\nif(/not implemented|service unavailable/.test(g))return e._disableBarcodeDetector=!0,e.scanImage(a,{scanRegion:m,canvas:d,disallowCanvasResizing:f,alsoTryWithoutScanRegion:h});throw`Scanner error: ${g}`;}})()]);return n?q:q.data}catch(p){if(!m||!h)throw p;let k=await e.scanImage(a,{qrEngine:c,canvas:d,disallowCanvasResizing:f});return n?k:k.data}finally{b||e._postWorkerMessage(c,\"close\")}}setGrayscaleWeights(a,b,c,d=!0){e._postWorkerMessage(this._qrEnginePromise,\"grayscaleWeights\",{red:a,green:b,\nblue:c,useIntegerApproximation:d})}setInversionMode(a){e._postWorkerMessage(this._qrEnginePromise,\"inversionMode\",a)}static async createQrEngine(a){a&&console.warn(\"Specifying a worker path is not required and not supported anymore.\");a=()=>import(\"./qr-scanner-worker.min.js\").then(c=>c.createWorker());if(!(!e._disableBarcodeDetector&&\"BarcodeDetector\"in window&&BarcodeDetector.getSupportedFormats&&(await BarcodeDetector.getSupportedFormats()).includes(\"qr_code\")))return a();let b=navigator.userAgentData;\nreturn b&&b.brands.some(({brand:c})=>/Chromium/i.test(c))&&/mac ?OS/i.test(b.platform)&&await b.getHighEntropyValues([\"architecture\",\"platformVersion\"]).then(({architecture:c,platformVersion:d})=>/arm/i.test(c||\"arm\")&&13<=parseInt(d||\"13\")).catch(()=>!0)?a():new BarcodeDetector({formats:[\"qr_code\"]})}_onPlay(){this._scanRegion=this._calculateScanRegion(this.$video);this._updateOverlay();this.$overlay&&(this.$overlay.style.display=\"\");this._scanFrame()}_onLoadedMetaData(){this._scanRegion=this._calculateScanRegion(this.$video);\nthis._updateOverlay()}_onVisibilityChange(){document.hidden?this.pause():this._active&&this.start()}_calculateScanRegion(a){let b=Math.round(2/3*Math.min(a.videoWidth,a.videoHeight));return{x:Math.round((a.videoWidth-b)/2),y:Math.round((a.videoHeight-b)/2),width:b,height:b,downScaledWidth:this._legacyCanvasSize,downScaledHeight:this._legacyCanvasSize}}_updateOverlay(){requestAnimationFrame(()=>{if(this.$overlay){var a=this.$video,b=a.videoWidth,c=a.videoHeight,d=a.offsetWidth,f=a.offsetHeight,h=a.offsetLeft,\nm=a.offsetTop,n=window.getComputedStyle(a),p=n.objectFit,k=b/c,q=d/f;switch(p){case \"none\":var g=b;var l=c;break;case \"fill\":g=d;l=f;break;default:(\"cover\"===p?k>q:k<q)?(l=f,g=l*k):(g=d,l=g/k),\"scale-down\"===p&&(g=Math.min(g,b),l=Math.min(l,c))}var [v,w]=n.objectPosition.split(\" \").map((r,y)=>{const x=parseFloat(r);return r.endsWith(\"%\")?(y?f-l:d-g)*x/100:x});n=this._scanRegion.width||b;q=this._scanRegion.height||c;p=this._scanRegion.x||0;var u=this._scanRegion.y||0;k=this.$overlay.style;k.width=\n`${n/b*g}px`;k.height=`${q/c*l}px`;k.top=`${m+w+u/c*l}px`;c=/scaleX\\(-1\\)/.test(a.style.transform);k.left=`${h+(c?d-v-g:v)+(c?b-p-n:p)/b*g}px`;k.transform=a.style.transform}})}static _convertPoints(a,b){if(!b)return a;let c=b.x||0,d=b.y||0,f=b.width&&b.downScaledWidth?b.width/b.downScaledWidth:1;b=b.height&&b.downScaledHeight?b.height/b.downScaledHeight:1;for(let h of a)h.x=h.x*f+c,h.y=h.y*b+d;return a}_scanFrame(){!this._active||this.$video.paused||this.$video.ended||(\"requestVideoFrameCallback\"in\nthis.$video?this.$video.requestVideoFrameCallback.bind(this.$video):requestAnimationFrame)(async()=>{if(!(1>=this.$video.readyState)){var a=Date.now()-this._lastScanTimestamp,b=1E3/this._maxScansPerSecond;a<b&&await new Promise(d=>setTimeout(d,b-a));this._lastScanTimestamp=Date.now();try{var c=await e.scanImage(this.$video,{scanRegion:this._scanRegion,qrEngine:this._qrEnginePromise,canvas:this.$canvas})}catch(d){if(!this._active)return;this._onDecodeError(d)}!e._disableBarcodeDetector||await this._qrEnginePromise instanceof\nWorker||(this._qrEnginePromise=e.createQrEngine());c?(this._onDecode?this._onDecode(c):this._legacyOnDecode&&this._legacyOnDecode(c.data),this.$codeOutlineHighlight&&(clearTimeout(this._codeOutlineHighlightRemovalTimeout),this._codeOutlineHighlightRemovalTimeout=void 0,this.$codeOutlineHighlight.setAttribute(\"viewBox\",`${this._scanRegion.x||0} `+`${this._scanRegion.y||0} `+`${this._scanRegion.width||this.$video.videoWidth} `+`${this._scanRegion.height||this.$video.videoHeight}`),this.$codeOutlineHighlight.firstElementChild.setAttribute(\"points\",\nc.cornerPoints.map(({x:d,y:f})=>`${d},${f}`).join(\" \")),this.$codeOutlineHighlight.style.display=\"\")):this.$codeOutlineHighlight&&!this._codeOutlineHighlightRemovalTimeout&&(this._codeOutlineHighlightRemovalTimeout=setTimeout(()=>this.$codeOutlineHighlight.style.display=\"none\",100))}this._scanFrame()})}_onDecodeError(a){a!==e.NO_QR_CODE_FOUND&&console.log(a)}async _getCameraStream(){if(!navigator.mediaDevices)throw\"Camera not found.\";let a=/^(environment|user)$/.test(this._preferredCamera)?\"facingMode\":\n\"deviceId\",b=[{width:{min:1024}},{width:{min:768}},{}],c=b.map(d=>Object.assign({},d,{[a]:{exact:this._preferredCamera}}));for(let d of[...c,...b])try{let f=await navigator.mediaDevices.getUserMedia({video:d,audio:!1}),h=this._getFacingMode(f)||(d.facingMode?this._preferredCamera:\"environment\"===this._preferredCamera?\"user\":\"environment\");return{stream:f,facingMode:h}}catch(f){}throw\"Camera not found.\";}async _restartVideoStream(){let a=this._paused;await this.pause(!0)&&!a&&this._active&&await this.start()}static _stopVideoStream(a){for(let b of a.getTracks())b.stop(),\na.removeTrack(b)}_setVideoMirror(a){this.$video.style.transform=\"scaleX(\"+(\"user\"===a?-1:1)+\")\"}_getFacingMode(a){return(a=a.getVideoTracks()[0])?/rear|back|environment/i.test(a.label)?\"environment\":/front|user|face/i.test(a.label)?\"user\":null:null}static _drawToCanvas(a,b,c,d=!1){c=c||document.createElement(\"canvas\");let f=b&&b.x?b.x:0,h=b&&b.y?b.y:0,m=b&&b.width?b.width:a.videoWidth||a.width,n=b&&b.height?b.height:a.videoHeight||a.height;d||(d=b&&b.downScaledWidth?b.downScaledWidth:m,b=b&&b.downScaledHeight?\nb.downScaledHeight:n,c.width!==d&&(c.width=d),c.height!==b&&(c.height=b));b=c.getContext(\"2d\",{alpha:!1});b.imageSmoothingEnabled=!1;b.drawImage(a,f,h,m,n,0,0,c.width,c.height);return[c,b]}static async _loadImage(a){if(a instanceof Image)return await e._awaitImageLoad(a),a;if(a instanceof HTMLVideoElement||a instanceof HTMLCanvasElement||a instanceof SVGImageElement||\"OffscreenCanvas\"in window&&a instanceof OffscreenCanvas||\"ImageBitmap\"in window&&a instanceof ImageBitmap)return a;if(a instanceof\nFile||a instanceof Blob||a instanceof URL||\"string\"===typeof a){let b=new Image;b.src=a instanceof File||a instanceof Blob?URL.createObjectURL(a):a.toString();try{return await e._awaitImageLoad(b),b}finally{(a instanceof File||a instanceof Blob)&&URL.revokeObjectURL(b.src)}}else throw\"Unsupported image type.\";}static async _awaitImageLoad(a){a.complete&&0!==a.naturalWidth||await new Promise((b,c)=>{let d=f=>{a.removeEventListener(\"load\",d);a.removeEventListener(\"error\",d);f instanceof ErrorEvent?\nc(\"Image load error\"):b()};a.addEventListener(\"load\",d);a.addEventListener(\"error\",d)})}static async _postWorkerMessage(a,b,c,d){return e._postWorkerMessageSync(await a,b,c,d)}static _postWorkerMessageSync(a,b,c,d){if(!(a instanceof Worker))return-1;let f=e._workerMessageId++;a.postMessage({id:f,type:b,data:c},d);return f}}e.DEFAULT_CANVAS_SIZE=400;e.NO_QR_CODE_FOUND=\"No QR code found\";e._disableBarcodeDetector=!1;e._workerMessageId=0;export default e\n"],"names":["i0","ɵɵelement","BookComponent","hide_nav","localStorage","getItem","_","_2","selectors","decls","vars","consts","template","BookComponent_Template","rf","ctx","ɵɵtemplate","BookComponent_topbar_0_Template","ɵɵelementStart","ɵɵelementEnd","BookComponent_footer_menu_4_Template","ɵɵproperty","ɵɵadvance","CommonModule","FormsModule","ReactiveFormsModule","RouterModule","MatButtonToggleModule","MatBottomSheetModule","SharedExploreModule","SharedBookingsModule","SharedCateringModule","BookCodeFlowComponent","BookDeskFlowComponent","DeskFlowConfirmComponent","DeskFlowFormComponent","DeskFlowDetailedFormComponent","DeskFlowMapComponent","FlowSuccessComponent","BookSpaceFlowComponent","SpaceFlowConfirmComponent","DetailBookSpaceFormComponent","SpaceFlowFindItemComponent","SpaceFlowFindComponent","SpaceFlowFormComponent","SharedComponentModule","BookParkingFlowComponent","ParkingFlowMapComponent","ParkingFlowConfirmComponent","BookMeetingFlowComponent","MeetingFlowFormComponent","MeetingFormDetailsComponent","MeetingFlowConfirmComponent","MeetingFlowSuccessComponent","NewDeskFlowComponent","NewDeskFlowFormComponent","NewDeskFormDetailsComponent","NewDeskFlowConfirmComponent","NewDeskFlowSuccessComponent","VisitorFlowComponent","NewParkingFlowComponent","ParkingFlowFormComponent","ParkingFlowSuccessComponent","ParkingFormDetailsComponent","MeetingFlowConfirmModalComponent","NewParkingFlowConfirmComponent","CodeFlowSuccessComponent","CodeFlowErrorComponent","BookLockerFlowComponent","BookLockerFlowSuccessComponent","BookLockerFlowFormComponent","BookLockerFlowConfirmComponent","LockerFormDetailsComponent","ROUTES","path","component","children","redirectTo","BookModule","_3","forChild","declarations","imports","i1","ActivatedRoute","BookingFormService","AsyncHandler","ɵɵelementContainerStart","ɵɵtext","ɵɵpureFunction0","_c1","ɵɵpureFunction1","_c2","ctx_r0","asset_id","ɵɵtextInterpolate1","ɵɵpipeBind1","_c3","VALID_TYPES","constructor","_route","_state","type","asset","ngOnInit","subscription","queryParamMap","subscribe","params","get","ɵɵdirectiveInject","i2","features","ɵɵInheritDefinitionFeature","CodeFlowErrorComponent_Template","CodeFlowErrorComponent_ng_container_8_Template","CodeFlowErrorComponent_ng_container_9_Template","CodeFlowErrorComponent_ng_container_10_Template","CodeFlowErrorComponent_a_12_Template","CodeFlowErrorComponent_a_13_Template","_c0","CodeFlowSuccessComponent_Template","EventEmitter","ElementRef","Router","Booking","checkinBooking","queryBookings","currentUser","notifyError","CalendarEvent","checkinEventGuest","EventFormService","queryEvents","showSystem","addMinutes","endOfDay","getUnixTime","QrScanner","BookCodeFlowComponent_div_0_div_4_Template","BookCodeFlowComponent_div_0_div_5_Template","ɵɵtwoWayListener","BookCodeFlowComponent_div_0_Template_input_ngModelChange_10_listener","$event","ɵɵrestoreView","_r1","ctx_r1","ɵɵnextContext","ɵɵtwoWayBindingSet","room_code","ɵɵresetView","ɵɵlistener","BookCodeFlowComponent_div_0_Template_button_click_12_listener","is_scanning","BookCodeFlowComponent_div_0_Template_button_click_14_listener","ɵɵclassProp","ɵɵtwoWayProperty","ɵɵclassMap","_router","_event_form","_booking_form","menu","loading","ngOnDestroy","_video_el","nativeElement","srcObject","getTracks","forEach","track","stop","_qr_scanner","has","_checkinBooking","_checkinEvent","ngAfterViewInit","navigator","mediaDevices","getUserMedia","video","then","stream","catch","e","console","error","r","handleQrCode","start","result","url","hashindex","indexOf","regex","match","exec","navigate","split","_this","_asyncToGenerator","bookings","period_start","Date","now","period_end","email","toPromise","item","find","id","queryParams","newForm","setOptions","space_id","_this2","resources","s","space","system","i3","viewQuery","BookCodeFlowComponent_Query","BookCodeFlowComponent_div_0_Template","BookCodeFlowComponent_ng_template_1_Template","ɵɵtemplateRefExtractor","load_state_r3","OrganisationService","first","last_success","user_email","extension_data","secondary_resource","view","_org","initialised","pipe","loadForm","form","patchValue","booking_type","paramMap","param","setView","BookDeskFlowComponent_Template","BookDeskFlowComponent_ng_container_2_Template","BookDeskFlowComponent_ng_container_3_Template","BookDeskFlowComponent_ng_container_4_Template","BookDeskFlowComponent_ng_container_5_Template","DeskFlowConfirmComponent_Template","FormGroup","SettingsService","addDays","DeskFlowDetailedFormComponent_form_0_div_1_Template_mat_button_toggle_group_ngModelChange_1_listener","group","tmp_2_0","options","bld_r4","display_name","name","DeskFlowDetailedFormComponent_form_0_div_8_Template_mat_select_ngModelChange_4_listener","_r3","building","zone_id","DeskFlowDetailedFormComponent_form_0_div_8_mat_option_5_Template","buildings","lvl_r6","DeskFlowDetailedFormComponent_form_0_div_10_Template_mat_select_ngModelChange_4_listener","_r5","DeskFlowDetailedFormComponent_form_0_div_10_mat_option_5_Template","levels","DeskFlowDetailedFormComponent_form_0_div_12_Template_a_time_field_ngModelChange_4_listener","_r7","date","DeskFlowDetailedFormComponent_form_0_div_12_mat_checkbox_9_Template","value","tmp_4_0","all_day","allow_all_day","DeskFlowDetailedFormComponent_form_0_div_15_Template_a_user_list_field_ngModelChange_3_listener","_r8","members","tmp_3_0","opt_r10","ɵɵtextInterpolate","DeskFlowDetailedFormComponent_form_0_div_17_Template_mat_select_ngModelChange_5_listener","_r9","pattern","DeskFlowDetailedFormComponent_form_0_div_17_mat_option_9_Template","DeskFlowDetailedFormComponent_form_0_div_17_Template_a_date_field_ngModelChange_13_listener","recurr_end","recurrence_pattern","recurrence_options","tmp_5_0","tmp_6_0","book_until","opt_r12","DeskFlowDetailedFormComponent_form_0_div_18_Template_mat_select_ngModelChange_4_listener","_r11","DeskFlowDetailedFormComponent_form_0_div_18_mat_option_6_Template","DeskFlowDetailedFormComponent_form_0_div_20_Template_mat_checkbox_ngModelChange_1_listener","_r13","DeskFlowDetailedFormComponent_form_0_div_1_Template","DeskFlowDetailedFormComponent_form_0_div_8_Template","DeskFlowDetailedFormComponent_form_0_div_10_Template","DeskFlowDetailedFormComponent_form_0_div_12_Template","DeskFlowDetailedFormComponent_form_0_div_13_Template","DeskFlowDetailedFormComponent_form_0_div_14_Template","DeskFlowDetailedFormComponent_form_0_div_15_Template","DeskFlowDetailedFormComponent_form_0_div_17_Template","DeskFlowDetailedFormComponent_form_0_div_18_Template","DeskFlowDetailedFormComponent_form_0_div_20_Template","allow_groups","length","allow_time_changes","can_book_for_others","needs_reason","tmp_9_0","can_recurr","tmp_11_0","can_book_lockers","bld","_settings","building_list","active_levels","o","inputs","DeskFlowDetailedFormComponent_Template","DeskFlowDetailedFormComponent_form_0_Template","findNearbyFeature","getInvalidFields","randomInt","setHours","roundToNearestMinutes","take","DeskFlowFormComponent_button_12_Template_button_click_0_listener","_r2","ctx_r2","findDesk","is_edit","DeskFlowFormComponent_ng_template_13_Template_button_click_0_listener","_r4","allocateDesk","auto_allocation","time","level","quick_times","valueOf","clearForm","levelsForBuilding","quickBook","nearestTo","title","markAllAsTouched","valid","join","settings","centered_at","x","y","groups","lvl","levelWithID","desk_list","available_resources","desk_id","map_id","map","desk","asset_name","description","zones","zone","parent_id","confirmPost","i4","DeskFlowFormComponent_Template","DeskFlowFormComponent_Template_button_click_6_listener","DeskFlowFormComponent_button_12_Template","DeskFlowFormComponent_ng_template_13_Template","alloc_button_r5","formatRecurrence","ExploreStateService","format","BehaviorSubject","combineLatest","debounceTime","startWith","feat_r5","DeskFlowMapComponent_li_22_Template_li_click_0_listener","desk_r3","$implicit","ctx_r3","setActiveDesk","DeskFlowMapComponent_li_22_div_9_Template","active_desk","DeskFlowMapComponent_div_24_div_9_Template","positions","zoom","center","styles","actions","labels","DeskFlowMapComponent_div_27_Template_button_click_7_listener","_r6","DeskFlowMapComponent_div_27_Template_button_click_9_listener","makeBooking","_active_desk","getValue","hide_map","_explore","map_url","map_styles","map_positions","map_features","map_actions","map_labels","desks","option_details","valueChanges","recurrence","end","interval","days_of_week","details","setLevel","assets","available","status","active","bookable","d","fill","opacity","push","action","callback","setStyles","setActions","setFeatures","location","content","next","DeskFlowMapComponent_Template","DeskFlowMapComponent_Template_div_click_15_listener","stopPropagation","preventDefault","DeskFlowMapComponent_li_22_Template","DeskFlowMapComponent_div_24_Template","DeskFlowMapComponent_div_25_Template","DeskFlowMapComponent_div_27_Template","menu_r7","tmp_7_0","extra","route","is_host","calendar","FlowSuccessComponent_Template","FlowSuccessComponent_br_8_Template","listenForStatusChanges","BookLockerFlowComponent_Template","BookLockerFlowComponent_locker_flow_success_1_Template","BookLockerFlowComponent_locker_flow_confirm_2_Template","BookLockerFlowComponent_locker_flow_form_3_Template","MatBottomSheetRef","BookLockerFlowConfirmComponent_button_0_Template_button_click_0_listener","dismiss","feat_r3","BookLockerFlowConfirmComponent_section_25_ng_container_11_Template","booking_asset","asset_r4","amount","ɵɵi18n","BookLockerFlowConfirmComponent_section_26_div_6_Template","ɵɵi18nExp","assets_count","BookLockerFlowConfirmComponent_button_28_Template_button_click_0_listener","postForm","time_format","booking","reduce","a","b","l","address","_sheet_ref","this","show_close","postFormForGroup","i18n_0","ngI18nClosureMode","$localize","BookLockerFlowConfirmComponent_button_0_Template","BookLockerFlowConfirmComponent_mat_spinner_4_Template","BookLockerFlowConfirmComponent_section_25_Template","BookLockerFlowConfirmComponent_section_26_Template","BookLockerFlowConfirmComponent_button_28_Template","ɵɵpipeBind2","duration","MatBottomSheet","isBefore","startOfMinute","_bottom_sheet","viewConfirm","sheet_ref","open","instance","afterDismissed","i5","BookLockerFlowFormComponent_Template_button_click_7_listener","generateCalendarFileLink","generateGoogleCalendarLink","generateMicrosoftCalendarLink","last_event","attendees","outlook_link","ɵɵsanitizeUrl","google_link","ical_link","locker","show_links","viewCalendarLinks","openBookingLinkModal","ɵɵi18nStart","BookLockerFlowSuccessComponent_span_7_Template","BookLockerFlowSuccessComponent_span_8_Template","ɵɵi18nEnd","BookLockerFlowSuccessComponent_div_12_Template","SimpleChanges","b_r3","LockerFormDetailsComponent_div_0_Template_mat_select_ngModelChange_13_listener","LockerFormDetailsComponent_div_0_mat_option_14_Template","LockerFormDetailsComponent_div_0_Template_a_time_field_ngModelChange_27_listener","LockerFormDetailsComponent_div_0_section_33_Template","use_24hr","tmp_10_0","custom_durations","contains","from_id","setFeature","f","ngOnChanges","changes","list","setBookingAsset","_setCustomDateOptions","i","undefined","selected_locker","bank_id","outputs","ɵɵNgOnChangesFeature","LockerFormDetailsComponent_div_0_Template","BookMeetingFlowComponent_Template","BookMeetingFlowComponent_meeting_flow_success_1_Template","BookMeetingFlowComponent_meeting_flow_confirm_2_Template","BookMeetingFlowComponent_meeting_flow_form_3_Template","MatDialog","MatDialogRef","validateAssetRequestsForResource","CateringOrder","openConfirmModal","startOfDay","AssetRequest","SpacePipe","formatted_recurrence","ɵɵtextInterpolate2","s_r2","MeetingFlowConfirmModalComponent_div_32_ng_container_6_Template","event","user_r3","MeetingFlowConfirmModalComponent_div_33_mat_chip_9_Template","err_tooltip","optionList","item_r4","option_list","MeetingFlowConfirmModalComponent_div_34_div_1_div_7_div_14_span_4_Template","quantity","unit_price_with_options","currency_code","total_cost","MeetingFlowConfirmModalComponent_div_34_div_1_div_7_div_6_Template","MeetingFlowConfirmModalComponent_div_34_div_1_div_7_div_14_Template","end_time","order_r5","deliver_at","item_count","items","MeetingFlowConfirmModalComponent_div_34_div_1_div_7_Template","catering_orders","request_r6","item_r7","MeetingFlowConfirmModalComponent_div_34_div_2_div_6_div_6_Template","MeetingFlowConfirmModalComponent_div_34_div_2_div_6_div_11_Template","deliver_at_time","conflict","MeetingFlowConfirmModalComponent_div_34_div_2_div_6_Template","has_conflict","MeetingFlowConfirmModalComponent_div_34_div_1_Template","MeetingFlowConfirmModalComponent_div_34_div_2_Template","catering","body","ɵɵsanitizeHtml","MeetingFlowConfirmModalComponent_footer_36_Template_button_click_1_listener","request","some","is_multiday","date_end","getRawValue","includes","code","_space_pipe","_dialog_ref","_dialog","_loading","icon","reason","close","resp","cancelPost","cancelPostForm","_space","order","transform","changed_spaces","changed_times","log","host","location_name","location_id","reset_state","timeout","ɵɵProvidersFeature","i18n_2","MeetingFlowConfirmModalComponent_button_1_Template","MeetingFlowConfirmModalComponent_div_20_Template","MeetingFlowConfirmModalComponent_div_32_Template","MeetingFlowConfirmModalComponent_div_33_Template","MeetingFlowConfirmModalComponent_div_34_Template","MeetingFlowConfirmModalComponent_div_35_Template","MeetingFlowConfirmModalComponent_footer_36_Template","MeetingFlowConfirmComponent_button_0_Template_button_click_0_listener","MeetingFlowConfirmComponent_section_30_mat_chip_9_Template","s_r4","MeetingFlowConfirmComponent_section_31_ng_container_6_Template","MeetingFlowConfirmComponent_button_33_Template_button_click_0_listener","i6","i18n_1","MeetingFlowConfirmComponent_button_0_Template","MeetingFlowConfirmComponent_mat_spinner_4_Template","MeetingFlowConfirmComponent_div_18_Template","MeetingFlowConfirmComponent_section_30_Template","MeetingFlowConfirmComponent_section_31_Template","MeetingFlowConfirmComponent_button_33_Template","TemplateRef","ANIMATION_SHOW_CONTRACT_EXPAND","notifyWarn","UserIdleTimeService","FindAvailabilityModalComponent","CateringOrderStateService","of","switchMap","tap","AssetStateService","MeetingFlowFormComponent_form_5_section_14_Template_button_click_8_listener","findAvailableTime","MeetingFlowFormComponent_form_5_section_14_Template_button_click_11_listener","hide_block","allow_externals","code_r6","MeetingFlowFormComponent_form_5_section_29_mat_form_field_13_Template_mat_form_field_openedChange_0_listener","focusInput","MeetingFlowFormComponent_form_5_section_29_mat_form_field_13_Template_input_ngModelChange_2_listener","code_filter","MeetingFlowFormComponent_form_5_section_29_mat_form_field_13_mat_option_5_Template","filtered_codes","has_codes","MeetingFlowFormComponent_form_5_section_29_Template_button_click_8_listener","MeetingFlowFormComponent_form_5_section_29_mat_form_field_13_Template","MeetingFlowFormComponent_form_5_section_29_mat_form_field_15_Template","ɵɵpureFunction4","MeetingFlowFormComponent_form_5_section_31_Template_button_click_9_listener","has_catering","invalid_assets","has_assets","MeetingFlowFormComponent_form_5_Template_button_click_9_listener","MeetingFlowFormComponent_form_5_section_14_Template","MeetingFlowFormComponent_form_5_Template_button_click_23_listener","MeetingFlowFormComponent_form_5_div_27_Template","MeetingFlowFormComponent_form_5_section_29_Template","MeetingFlowFormComponent_form_5_section_31_Template","MeetingFlowFormComponent_form_5_section_32_Template","MeetingFlowFormComponent_form_5_Template_button_click_34_listener","MeetingFlowFormComponent_form_5_Template_button_click_37_listener","hide_attendees","strict_capacity_check","total_capacity","allow_multiday","hide_notes","c","capacity","attendee_count","user","count","toLowerCase","_catering","_assets","_idle","available_menu","charge_codes","setValidators","updateValueAndValidity","filter","_space_list","_assets_available","space_list","tags","categories","filtered_assets","disabled_rooms","assets_available","every","hide_for_zones","z","time_changed","_catering_available","setFilters","search","filtered_menu","availability","can_cater","resetForm","openEventLinkModal","window","innerWidth","dialog_ref","componentInstance","afterClosed","unsubWith","_updateValidAssets","requested_assets","linked_bookings","_changed","bkn","request_id","controls","key","disable","enable","idleFor","unsub","confirm_text","reload","_input_el","focus","organiser","ref","data","users","i7","i8","MeetingFlowFormComponent_Query","MeetingFlowFormComponent_form_5_Template","MeetingFlowSuccessComponent_span_8_span_2_Template","MeetingFlowSuccessComponent_span_8_Template","MeetingFlowSuccessComponent_span_9_Template","MeetingFlowSuccessComponent_span_11_Template","MeetingFlowSuccessComponent_p_12_Template","differenceInMinutes","formatDuration","set","MeetingFormDetailsComponent_div_0_div_11_mat_checkbox_9_Template","end_date","MeetingFormDetailsComponent_div_0_div_12_mat_checkbox_10_Template","start_date","MeetingFormDetailsComponent_div_0_div_13_div_8_Template_a_time_field_ngModelChange_6_listener","duration_info","max_duration","MeetingFormDetailsComponent_div_0_div_13_Template_a_time_field_ngModelChange_7_listener","MeetingFormDetailsComponent_div_0_div_13_div_8_Template","MeetingFormDetailsComponent_div_0_div_13_div_9_Template","MeetingFormDetailsComponent_div_0_div_15_mat_checkbox_7_Template","MeetingFormDetailsComponent_div_0_div_11_Template","MeetingFormDetailsComponent_div_0_div_12_Template","MeetingFormDetailsComponent_div_0_div_13_Template","MeetingFormDetailsComponent_div_0_div_14_Template","MeetingFormDetailsComponent_div_0_div_15_Template","allow_recurrence","is_next_day","force_time","hours","minutes","diff","Math","floor","MeetingFormDetailsComponent_Template","MeetingFormDetailsComponent_div_0_Template","notifyInfo","Desk","_ref","_x","apply","arguments","NewDeskFlowComponent_Template","NewDeskFlowComponent_ng_container_2_Template","NewDeskFlowComponent_ng_container_3_Template","NewDeskFlowConfirmComponent_button_0_Template_button_click_0_listener","NewDeskFlowConfirmComponent_section_25_ng_container_17_Template","is_group","NewDeskFlowConfirmComponent_div_32_div_6_Template","NewDeskFlowConfirmComponent_div_32_div_11_Template","request_r5","NewDeskFlowConfirmComponent_button_35_Template_button_click_0_listener","needs_locker","NewDeskFlowConfirmComponent_button_0_Template","NewDeskFlowConfirmComponent_mat_spinner_4_Template","NewDeskFlowConfirmComponent_section_25_Template","NewDeskFlowConfirmComponent_div_32_Template","NewDeskFlowConfirmComponent_section_33_Template","NewDeskFlowConfirmComponent_button_35_Template","NewDeskFlowFormComponent_Template_button_click_7_listener","NewDeskFlowSuccessComponent_span_7_Template","NewDeskFlowSuccessComponent_span_8_Template","NewDeskFlowSuccessComponent_span_10_Template","NewDeskFlowSuccessComponent_p_11_Template","NewDeskFlowSuccessComponent_div_12_Template","NewDeskFormDetailsComponent_div_0_section_1_Template_button_click_1_listener","NewDeskFormDetailsComponent_div_0_section_1_Template_button_click_10_listener","NewDeskFormDetailsComponent_div_0_div_27_Template_a_time_field_ngModelChange_5_listener","NewDeskFormDetailsComponent_div_0_div_28_Template_mat_checkbox_ngModelChange_2_listener","NewDeskFormDetailsComponent_div_0_section_29_Template_a_user_list_field_ngModelChange_8_listener","NewDeskFormDetailsComponent_div_0_section_31_p_8_Template","ɵɵpureFunction3","NewDeskFormDetailsComponent_div_0_section_1_Template","NewDeskFormDetailsComponent_div_0_div_8_Template","NewDeskFormDetailsComponent_div_0_mat_checkbox_26_Template","NewDeskFormDetailsComponent_div_0_div_27_Template","NewDeskFormDetailsComponent_div_0_div_28_Template","NewDeskFormDetailsComponent_div_0_section_29_Template","NewDeskFormDetailsComponent_div_0_section_31_Template","NewDeskFormDetailsComponent_div_0_section_32_Template","selected_desk","NewDeskFormDetailsComponent_div_0_Template","NewParkingFlowComponent_Template","NewParkingFlowComponent_parking_flow_success_1_Template","NewParkingFlowComponent_parking_flow_confirm_2_Template","NewParkingFlowComponent_parking_flow_form_3_Template","NewParkingFlowConfirmComponent_button_0_Template_button_click_0_listener","NewParkingFlowConfirmComponent_section_25_ng_container_16_Template","NewParkingFlowConfirmComponent_section_26_div_6_Template","NewParkingFlowConfirmComponent_button_28_Template_button_click_0_listener","NewParkingFlowConfirmComponent_button_0_Template","NewParkingFlowConfirmComponent_mat_spinner_4_Template","NewParkingFlowConfirmComponent_section_25_Template","NewParkingFlowConfirmComponent_section_26_Template","NewParkingFlowConfirmComponent_button_28_Template","ParkingFlowFormComponent_Template_button_click_12_listener","ParkingFlowFormComponent_Template_button_click_24_listener","ParkingFlowFormComponent_Template_button_click_30_listener","ParkingFlowFormComponent_Template_button_click_32_listener","resource","bld_r3","ParkingFormDetailsComponent_div_0_Template_mat_select_ngModelChange_7_listener","setBuilding","ParkingFormDetailsComponent_div_0_mat_option_9_Template","ParkingFormDetailsComponent_div_0_Template_a_time_field_ngModelChange_33_listener","ParkingFormDetailsComponent_div_0_mat_checkbox_39_Template","active_building","ParkingFormDetailsComponent_div_0_Template","BookParkingFlowComponent_Template","BookParkingFlowComponent_ng_container_2_Template","BookParkingFlowComponent_ng_container_3_Template","BookParkingFlowComponent_ng_container_4_Template","ParkingFlowConfirmComponent_Template","MAP_FEATURE_DATA","ExploreParkingService","ParkingFlowMapComponent_div_0_button_2_Template_button_click_0_listener","date_r2","setDate","counts","lvl_r5","ParkingFlowMapComponent_div_0_div_5_Template_mat_select_ngModelChange_2_listener","ParkingFlowMapComponent_div_0_div_5_mat_option_4_Template","ParkingFlowMapComponent_div_0_button_10_Template_button_click_0_listener","space_r7","setActive","active_space","levelName","ParkingFlowMapComponent_div_0_div_22_p_4_Template","ParkingFlowMapComponent_div_0_div_22_Template_button_click_6_listener","reserveSpace","existing","ParkingFlowMapComponent_div_0_button_2_Template","ParkingFlowMapComponent_div_0_div_5_Template","ParkingFlowMapComponent_div_0_button_10_Template","ParkingFlowMapComponent_div_0_div_22_Template","ParkingFlowMapComponent_div_0_div_24_Template","dates","tmp_8_0","tmp_14_0","ParkingFlowMapComponent_ng_template_2_div_0_Template","SpacePingComponent","_details","ratio","zoom$","ratio$","SpacePingComponent_Template","ɵɵstyleProp","_booking","_parking","available_spaces","week_availablility","existing_event","Array","idx","events","reset","spaces","full_size","z_index","ParkingFlowMapComponent_Template","ParkingFlowMapComponent_div_0_Template","ParkingFlowMapComponent_ng_template_2_Template","load_state_r9","BookSpaceFlowComponent_Template","BookSpaceFlowComponent_ng_container_2_Template","BookSpaceFlowComponent_ng_container_3_Template","BookSpaceFlowComponent_ng_container_4_Template","BookSpaceFlowComponent_ng_container_5_Template","SpaceFlowConfirmComponent_div_41_button_3_Template","space_r2","can_view_location","optionsFor","item_r6","SpaceFlowConfirmComponent_div_55_div_12_div_4_Template","SpaceFlowConfirmComponent_div_55_div_12_Template_a_counter_ngModelChange_8_listener","SpaceFlowConfirmComponent_div_55_Template_button_click_7_listener","show_catering","SpaceFlowConfirmComponent_div_55_div_12_Template","show_people","show_spaces","Object","message","SpaceFlowConfirmComponent_Template","SpaceFlowConfirmComponent_span_17_Template","SpaceFlowConfirmComponent_Template_button_click_36_listener","SpaceFlowConfirmComponent_div_41_Template","SpaceFlowConfirmComponent_Template_button_click_49_listener","SpaceFlowConfirmComponent_div_54_Template","SpaceFlowConfirmComponent_div_55_Template","SpaceFlowConfirmComponent_Template_button_click_56_listener","SpaceFlowConfirmComponent_span_57_Template","SpaceFlowConfirmComponent_mat_spinner_58_Template","tmp_12_0","tmp_13_0","tmp_16_0","tmp_17_0","CateringStateService","DetailBookSpaceFormComponent_form_0_div_18_mat_form_field_3_Template_mat_select_ngModelChange_1_listener","DetailBookSpaceFormComponent_form_0_div_18_mat_form_field_3_mat_option_2_Template","DetailBookSpaceFormComponent_form_0_div_18_mat_form_field_3_Template","DetailBookSpaceFormComponent_form_0_div_19_Template_mat_select_ngModelChange_4_listener","optionsChange","emit","DetailBookSpaceFormComponent_form_0_div_19_mat_option_5_Template","features_label","hide_actions","DetailBookSpaceFormComponent_form_0_section_20_div_1_Template","DetailBookSpaceFormComponent_form_0_section_20_div_2_Template","DetailBookSpaceFormComponent_form_0_div_33_Template_an_action_field_onAction_3_listener","editCatering","DetailBookSpaceFormComponent_form_0_div_33_div_4_Template","DetailBookSpaceFormComponent_form_0_div_33_div_5_Template","DetailBookSpaceFormComponent_form_0_Template_a_time_field_ngModelChange_11_listener","DetailBookSpaceFormComponent_form_0_mat_checkbox_16_Template","DetailBookSpaceFormComponent_form_0_div_18_Template","DetailBookSpaceFormComponent_form_0_div_19_Template","DetailBookSpaceFormComponent_form_0_section_20_Template","DetailBookSpaceFormComponent_form_0_div_32_Template","DetailBookSpaceFormComponent_form_0_div_33_Template","show_features","manageCateringOrder","DetailBookSpaceFormComponent_Template","DetailBookSpaceFormComponent_form_0_Template","Space","MapLocateModalComponent","bookChange","bookSpace","book","multiple","viewLocation","maxWidth","maxHeight","SpaceFlowFindItemComponent_Template","SpaceFlowFindItemComponent_Template_button_click_15_listener","SpaceFlowFindItemComponent_Template_button_click_17_listener","SpaceFlowFindComponent_mat_form_field_12_Template_mat_select_ngModelChange_1_listener","SpaceFlowFindComponent_mat_form_field_12_mat_option_3_Template","SpaceFlowFindComponent_mat_form_field_14_Template_mat_select_ngModelChange_1_listener","zone_ids","SpaceFlowFindComponent_mat_form_field_14_mat_option_4_Template","item_r9","SpaceFlowFindComponent_mat_form_field_20_Template_mat_select_ngModelChange_1_listener","SpaceFlowFindComponent_mat_form_field_20_mat_option_3_Template","SpaceFlowFindComponent_ng_container_23_ng_container_1_space_flow_find_item_1_Template_space_flow_find_item_bookChange_0_listener","space_r11","_r10","handleBookEvent","book_space","SpaceFlowFindComponent_ng_container_23_ng_container_1_space_flow_find_item_1_Template","SpaceFlowFindComponent_ng_container_23_ng_container_1_Template","empty_state_r12","SpaceFlowFindComponent_div_25_div_8_Template_button_click_6_listener","space_r15","_r14","SpaceFlowFindComponent_div_25_Template_button_click_4_listener","confirmBooking","SpaceFlowFindComponent_div_25_div_8_Template","SpaceFlowFindComponent_div_25_div_9_Template","menu_r16","opts","quick_capacities","_getSpaceList","_this3","_this4","id_list","keys","k","Promise","all","resolve","SpaceFlowFindComponent_Template","SpaceFlowFindComponent_mat_form_field_12_Template","SpaceFlowFindComponent_mat_form_field_14_Template","SpaceFlowFindComponent_Template_mat_select_ngModelChange_17_listener","SpaceFlowFindComponent_mat_option_19_Template","SpaceFlowFindComponent_mat_form_field_20_Template","SpaceFlowFindComponent_ng_container_23_Template","SpaceFlowFindComponent_div_25_Template","SpaceFlowFindComponent_ng_template_26_Template","SpaceFlowFindComponent_ng_template_28_Template","load_state_r17","SpaceFlowFormComponent_button_19_Template_button_click_0_listener","allow_standalone_bookings","findSpace","SpaceFlowFormComponent_Template","SpaceFlowFormComponent_Template_detailed_book_space_form_optionsChange_3_listener","SpaceFlowFormComponent_Template_button_click_7_listener","SpaceFlowFormComponent_Template_button_click_13_listener","SpaceFlowFormComponent_button_19_Template","onDone","VisitorFlowComponent_Template","VisitorFlowComponent_Template_invite_visitor_form_done_2_listener","csvToJson","downloadFile","CateringItem","CateringImportMenuModalComponent_main_4_Template_input_change_6_listener","handleFileEvent","CateringImportMenuModalComponent_main_4_Template_button_click_8_listener","downloadTemplate","CateringImportMenuModalComponent","element","target","files","file","fileReader","FileReader","addEventListener","contents","metadata","category","unit_price","readAsText","CateringImportMenuModalComponent_Template","CateringImportMenuModalComponent_button_3_Template","CateringImportMenuModalComponent_main_4_Template","CateringImportMenuModalComponent_ng_template_5_Template","COMMA","ENTER","SPACE","FormControl","Validators","MAT_DIALOG_DATA","invalid","touched","auto_r3","CateringItemModalComponent_form_4_div_4_mat_chip_row_6_Template_mat_chip_row_removed_0_listener","removeTag","CateringItemModalComponent_form_4_div_4_mat_chip_row_6_Template","CateringItemModalComponent_form_4_div_4_Template_input_matChipInputTokenEnd_7_listener","addTag","tag_list","chipList_r7","separators","CateringItemModalComponent_form_4_div_2_Template","CateringItemModalComponent_form_4_div_3_Template","CateringItemModalComponent_form_4_div_4_Template","CateringItemModalComponent_form_4_div_5_Template","CateringItemModalComponent_form_4_div_6_Template","CateringItemModalComponent_form_4_Template_mat_checkbox_ngModelChange_13_listener","CateringItemModalComponent_form_4_Template_mat_checkbox_ngModelChange_15_listener","CateringItemModalComponent_form_4_Template_mat_checkbox_ngModelChange_17_listener","CateringItemModalComponent_form_4_Template_mat_checkbox_ngModelChange_19_listener","CateringItemModalComponent_form_4_Template_mat_checkbox_ngModelChange_21_listener","CateringItemModalComponent_form_4_div_27_Template","hasTag","renderPercent","images","CateringItemModalComponent_footer_5_Template_button_click_1_listener","saveChanges","dirty","option_r9","CateringItemModalComponent","_data","tag","required","accept_points","discount_cap","markAsDirty","input","trim","setValue","existing_tag","index","splice","CateringItemModalComponent_button_3_Template","CateringItemModalComponent_form_4_Template","CateringItemModalComponent_footer_5_Template","CateringItemModalComponent_ng_template_6_Template","CateringItemModalComponent_mat_option_10_Template","load_state_r10","forwardRef","NG_VALUE_ACCESSOR","randomString","NewCateringOrderModalComponent","CateringListFieldComponent_div_1_button_12_Template_button_click_0_listener","order_r4","duplicateOrder","CateringListFieldComponent_div_1_button_13_Template_button_click_0_listener","editOrder","CateringListFieldComponent_div_1_button_14_Template_button_click_0_listener","removeOrder","item_r8","CateringListFieldComponent_div_1_div_19_button_9_Template_button_click_0_listener","removeOrderItem","CateringListFieldComponent_div_1_div_19_span_3_Template","CateringListFieldComponent_div_1_div_19_button_9_Template","CateringListFieldComponent_div_1_div_19_Template_button_click_10_listener","toggleFavourite","disabled","favorites","CateringListFieldComponent_div_1_div_8_Template","CateringListFieldComponent_div_1_button_12_Template","CateringListFieldComponent_div_1_button_13_Template","CateringListFieldComponent_div_1_button_14_Template","CateringListFieldComponent_div_1_Template_button_click_15_listener","show_order","CateringListFieldComponent_div_1_div_19_Template","EMPTY_FAVS","CateringListFieldComponent","currency","orders","selected","registerOnChange","fn","_onChange","registerOnTouched","_onTouch","setDisabledState","new_value","writeValue","updated_list","new_order","custom_id","max","exact_time","deliver_time","offset","deliver_offset","offset_day","deliver_day_offset","option","opt","getHours","getMinutes","cateringitem","fav_list","new_state","saveUserSetting","provide","useExisting","multi","CateringListFieldComponent_Template","CateringListFieldComponent_div_1_Template","CateringListFieldComponent_Template_button_click_2_listener","unique","CateringOrdersService","CateringMenuComponent_ng_template_1_Template_mat_checkbox_ngModelChange_0_listener","row_r2","row","setEnabled","isEnabled","data_r4","symbol","CateringMenuComponent_ng_template_5_Template_button_click_6_listener","row_r6","addOption","CateringMenuComponent_ng_template_5_Template_button_click_12_listener","editItem","CateringMenuComponent_ng_template_5_Template_button_click_18_listener","removeItem","CateringMenuComponent_ng_template_5_Template_button_click_24_listener","show_children","can_edit","CateringMenuComponent_ng_template_7_div_0_button_7_Template_button_click_0_listener","row_r10","editOption","CateringMenuComponent_ng_template_7_div_0_button_8_Template_button_click_0_listener","removeOption","CateringMenuComponent_ng_template_7_div_0_button_7_Template","CateringMenuComponent_ng_template_7_div_0_button_8_Template","CateringMenuComponent_ng_template_7_div_0_Template","CateringMenuComponent","filters","_orders","is_editable","deleteOption","addItem","deleteItem","state","updateItem","CateringMenuComponent_Template","CateringMenuComponent_ng_template_1_Template","CateringMenuComponent_ng_template_3_Template","CateringMenuComponent_ng_template_5_Template","CateringMenuComponent_ng_template_7_Template","ɵɵpureFunction5","_c5","active_template_r12","price_template_r13","_c4","actions_template_r14","child_template_r15","auto_r2","CateringItemOptionModalComponent_form_4_div_1_Template","CateringItemOptionModalComponent_form_4_div_2_Template","CateringItemOptionModalComponent_form_4_div_3_Template","CateringItemOptionModalComponent_form_4_div_4_Template","CateringItemOptionModalComponent_footer_5_Template_button_click_1_listener","option_r4","CateringItemOptionModalComponent","types","new_option","parent","concat","CateringItemOptionModalComponent_Template","CateringItemOptionModalComponent_button_3_Template","CateringItemOptionModalComponent_form_4_Template","CateringItemOptionModalComponent_footer_5_Template","CateringItemOptionModalComponent_ng_template_6_Template","CateringItemOptionModalComponent_mat_option_10_Template","load_state_r5","opt_r3","CateringOrderItemComponent_ng_container_0_ng_container_14_div_1_Template","CateringOrderItemComponent_ng_container_0_Template_button_click_4_listener","toggle","CateringOrderItemComponent_ng_container_0_ng_container_14_Template","ACTIVE_ITEMS","Set","CateringOrderItemComponent","item_key","order_id","delete","add","attrs","CateringOrderItemComponent_Template","CateringOrderItemComponent_ng_container_0_Template","CATERING_STATUSES","data_r1","ɵɵtextInterpolate4","CateringOrderListComponent_ng_template_6_span_2_Template","CateringOrderListComponent_ng_template_8_span_3_Template","data_r5","CateringOrderListComponent_ng_template_10_button_8_Template_button_click_0_listener","status_r7","row_r8","updateStatus","colour","CateringOrderListComponent_ng_template_10_button_8_Template","data_r9","menu_r10","statuses","row_r12","notes","CateringOrderListComponent_ng_template_12_ng_template_4_Template","CateringOrderListComponent_ng_template_12_Template_button_click_6_listener","notes_template_r13","row_r15","item_r14","CateringOrderListComponent_ng_template_14_ul_0_li_1_Template","CateringOrderListComponent_ng_template_14_ul_0_Template","CateringOrderListComponent","order_list","filtered","_x2","startPolling","stopPolling","trackByFn","CateringOrderListComponent_Template","CateringOrderListComponent_ng_template_2_Template","CateringOrderListComponent_ng_template_4_Template","CateringOrderListComponent_ng_template_6_Template","CateringOrderListComponent_ng_template_8_Template","CateringOrderListComponent_ng_template_10_Template","CateringOrderListComponent_ng_template_12_Template","CateringOrderListComponent_ng_template_14_Template","ɵɵpureFunction8","_c8","state_template_r16","time_template_r17","location_template_r18","host_template_r19","_c6","status_template_r20","_c7","actions_template_r21","child_template_r22","cateringItemAvailable","CateringOrderModalComponent_div_0_ng_container_1_ng_container_2_mat_tab_1_div_2_a_counter_8_Template_a_counter_ngModelChange_0_listener","item_r2","updateItemQuantity","CateringOrderModalComponent_div_0_ng_container_1_ng_container_2_mat_tab_1_div_2_div_9_Template_button_click_7_listener","CateringOrderModalComponent_div_0_ng_container_1_ng_container_2_mat_tab_1_div_2_div_4_Template","CateringOrderModalComponent_div_0_ng_container_1_ng_container_2_mat_tab_1_div_2_a_counter_8_Template","CateringOrderModalComponent_div_0_ng_container_1_ng_container_2_mat_tab_1_div_2_div_9_Template","CateringOrderModalComponent_div_0_ng_container_1_ng_container_2_mat_tab_1_div_2_Template","cat_r5","menu_items","CateringOrderModalComponent_div_0_ng_container_1_ng_container_2_mat_tab_1_Template","CateringOrderModalComponent_div_0_ng_container_1_ng_container_2_Template","CateringOrderModalComponent_div_0_ng_container_1_Template","show_order_details","order_details_r6","CateringOrderModalComponent_footer_1_ng_container_1_Template_button_click_3_listener","CateringOrderModalComponent_footer_1_ng_template_2_Template_button_click_0_listener","CateringOrderModalComponent_footer_1_ng_template_2_Template_button_click_2_listener","saveOrder","CateringOrderModalComponent_footer_1_ng_container_1_Template","CateringOrderModalComponent_footer_1_ng_template_2_Template","order_actions_r9","item_r11","CateringOrderModalComponent_ng_template_4_div_4_div_4_Template","CateringOrderModalComponent_ng_template_4_div_4_Template_a_counter_ngModelChange_8_listener","CateringOrderModalComponent_ng_template_4_div_4_Template","CateringOrderModalComponent","rules","getCateringConfig","cat","updateMenuQuantities","choose_options","old_item","itm","selectOptions","new_item","options_string","sort","localeCompare","confirmOrder","CateringOrderModalComponent_Template","CateringOrderModalComponent_div_0_Template","CateringOrderModalComponent_footer_1_Template","CateringOrderModalComponent_ng_template_2_Template","CateringOrderModalComponent_ng_template_4_Template","load_state_r12","tag_r3","opt_r6","CateringItemDetailsComponent_ng_container_0_div_21_ng_container_4_mat_radio_button_5_div_4_Template","CateringItemDetailsComponent_ng_container_0_div_21_ng_container_4_Template_mat_radio_group_ngModelChange_1_listener","group_r5","group_state","updateGroupOption","CateringItemDetailsComponent_ng_container_0_div_21_ng_container_4_mat_radio_button_5_Template","in_order","opt_r8","CateringItemDetailsComponent_ng_container_0_div_21_ng_template_5_mat_checkbox_0_Template_mat_checkbox_ngModelChange_0_listener","option_state","updateCheckedState","CateringItemDetailsComponent_ng_container_0_div_21_ng_template_5_mat_checkbox_0_div_4_Template","CateringItemDetailsComponent_ng_container_0_div_21_ng_template_5_mat_checkbox_0_Template","CateringItemDetailsComponent_ng_container_0_div_21_ng_container_4_Template","CateringItemDetailsComponent_ng_container_0_div_21_ng_template_5_Template","multi_options_r9","CateringItemDetailsComponent_ng_container_0_Template_button_click_3_listener","CateringItemDetailsComponent_ng_container_0_Template_button_click_6_listener","toggleFav","CateringItemDetailsComponent_ng_container_0_p_14_Template","CateringItemDetailsComponent_ng_container_0_Template_a_counter_ngModelChange_15_listener","activeChange","CateringItemDetailsComponent_ng_container_0_div_17_Template","CateringItemDetailsComponent_ng_container_0_div_21_Template","CateringItemDetailsComponent_ng_container_0_Template_button_click_23_listener","fav","CateringItemDetailsComponent","_update","group_list","g","CateringItemDetailsComponent_ng_container_0_Template","CateringItemDetailsComponent_ng_template_1_Template","empty_state_r10","day_r4","CateringItemFiltersComponent_div_7_ng_container_3_Template_mat_select_ngModelChange_4_listener","offset_dayChange","CateringItemFiltersComponent_div_7_ng_container_3_mat_option_5_Template","day_options","CateringItemFiltersComponent_div_7_Template_mat_checkbox_ngModelChange_1_listener","at_time","at_timeChange","CateringItemFiltersComponent_div_7_ng_container_3_Template","CateringItemFiltersComponent_div_7_Template_a_duration_field_ngModelChange_6_listener","offsetChange","exact_tooltip","start_of_date","step_interval","min_offset","max_offset","CateringItemFiltersComponent_mat_checkbox_10_Template_mat_checkbox_ngModelChange_0_listener","toggleCategory","ICONS","coffee","drinks","snacks","meals","CateringItemFiltersComponent","getFilters","_min_offset","min","_max_offset","icons","_updateDayOptions","toggleTag","day","CateringItemFiltersComponent_Template_input_ngModelChange_4_listener","CateringItemFiltersComponent_h3_6_Template","CateringItemFiltersComponent_div_7_Template","CateringItemFiltersComponent_h3_8_Template","CateringItemFiltersComponent_mat_checkbox_10_Template","tmp_1_0","CateringItemListItemComponent","favourite","select","CateringItemListItemComponent_Template","CateringItemListItemComponent_Template_button_click_1_listener","CateringItemListItemComponent_div_3_Template","CateringItemListItemComponent_img_4_Template","CateringItemListItemComponent_ng_template_5_Template","CateringItemListItemComponent_p_14_Template","CateringItemListItemComponent_div_15_Template","CateringItemListItemComponent_div_16_Template","CateringItemListItemComponent_div_17_Template","CateringItemListItemComponent_div_18_Template","CateringItemListItemComponent_div_19_Template","CateringItemListItemComponent_div_20_Template","CateringItemListItemComponent_Template_button_click_21_listener","placeholder_r3","CateringItemListComponent_ng_container_1_catering_item_list_item_7_Template_catering_item_list_item_toggleFav_0_listener","CateringItemListComponent_ng_container_1_catering_item_list_item_7_Template_catering_item_list_item_select_0_listener","selectItem","isFavourite","CateringItemListComponent_ng_container_1_catering_item_list_item_7_Template","CateringItemListComponent_ng_container_8_ul_1_catering_item_list_item_1_Template_catering_item_list_item_toggleFav_0_listener","item_r5","CateringItemListComponent_ng_container_8_ul_1_catering_item_list_item_1_Template_catering_item_list_item_select_0_listener","CateringItemListComponent_ng_container_8_ul_1_catering_item_list_item_1_Template","item_list","CateringItemListComponent_ng_container_8_ul_1_Template","empty_state_r6","CateringItemListComponent","selected_items","onSelect","item_id","clear_state","CateringItemListComponent_Template","CateringItemListComponent_ng_container_1_Template","CateringItemListComponent_ng_container_8_Template","CateringItemListComponent_ng_template_10_Template","CateringItemListComponent_ng_template_12_Template","load_state_r7","showMetadata","catchError","shareReplay","getCateringRulesForZone","_options","_filters","asObservable","post","require_notes","t","ɵɵinject","factory","ɵfac","providedIn","NewCateringOrderModalComponent_button_14_Template_button_click_0_listener","displayed","selected_ids","_order","isSelected","setSelected","NewCateringOrderModalComponent_Template_catering_item_filters_at_timeChange_8_listener","NewCateringOrderModalComponent_Template_catering_item_filters_offsetChange_8_listener","NewCateringOrderModalComponent_Template_catering_item_filters_offset_dayChange_8_listener","NewCateringOrderModalComponent_Template_catering_item_list_toggleFav_11_listener","NewCateringOrderModalComponent_Template_catering_item_list_onSelect_11_listener","NewCateringOrderModalComponent_Template_catering_item_details_activeChange_12_listener","NewCateringOrderModalComponent_Template_catering_item_details_toggleFav_12_listener","NewCateringOrderModalComponent_Template_catering_item_details_close_12_listener","NewCateringOrderModalComponent_button_14_Template","NewCateringOrderModalComponent_Template_button_click_26_listener","opt_r4","CateringOrderOptionsModalComponent_div_7_ng_container_4_mat_radio_button_5_div_4_Template","CateringOrderOptionsModalComponent_div_7_ng_container_4_Template_mat_radio_group_ngModelChange_1_listener","group_r2","CateringOrderOptionsModalComponent_div_7_ng_container_4_mat_radio_button_5_Template","CateringOrderOptionsModalComponent_div_7_ng_template_5_mat_checkbox_0_Template_mat_checkbox_ngModelChange_0_listener","CateringOrderOptionsModalComponent_div_7_ng_template_5_mat_checkbox_0_div_4_Template","CateringOrderOptionsModalComponent_div_7_ng_template_5_mat_checkbox_0_Template","CateringOrderOptionsModalComponent_div_7_ng_container_4_Template","CateringOrderOptionsModalComponent_div_7_ng_template_5_Template","multi_options_r7","CateringOrderOptionsModalComponent","saveOptions","CateringOrderOptionsModalComponent_Template","CateringOrderOptionsModalComponent_div_7_Template","CateringOrderOptionsModalComponent_Template_button_click_9_listener","flatten","updateEventMetadata","checkOrder","_poll","valid_catering","delay","clearInterval","updated_order","system_id","updateMetadata","notifySuccess","AttachedResourceConfigModalComponent","_menu","_updated","_currency","_change","getCateringForZone","race","findIndex","updateMenu","_this5","_this6","class","_this7","editConfig","_this8","config","saveNotes","saveSettings","updateConfig","importMenu","_this9","updated_menu","_this10","old_settings","addItemToOrder","Type","MatAutocompleteModule","MatCheckboxModule","MatDialogModule","MatMenuModule","MatTabsModule","MatRadioModule","MatTooltipModule","MatFormFieldModule","FormFieldsModule","ComponentsModule","ChargeCodeListModalComponent","MatProgressSpinnerModule","COMPONENTS","exports","ChargeCodeListModalComponent_main_6_div_1_Template_input_ngModelChange_2_listener","i_r2","ChargeCodeListModalComponent_main_6_div_1_Template_button_click_3_listener","removeCode","ChargeCodeListModalComponent_main_6_div_1_Template","ChargeCodeListModalComponent_footer_7_Template_input_change_3_listener","addCodesFromFile","ChargeCodeListModalComponent_footer_7_Template_button_click_4_listener","newCode","ChargeCodeListModalComponent_footer_7_Template_button_click_6_listener","saveChargeCodes","reader","evt","srcElement","cleaned_codes","ChargeCodeListModalComponent_Template","ChargeCodeListModalComponent_main_6_Template","ChargeCodeListModalComponent_footer_7_Template","ChargeCodeListModalComponent_ng_template_8_Template","isAfter","subHours","stringToMinutes","RULE_REQUESTS","fresh","is_available","rule","matches","condition","ext","_legacyCanvasSize","DEFAULT_CANVAS_SIZE","_preferredCamera","_maxScansPerSecond","_lastScanTimestamp","_destroyed","_flashOn","_paused","_active","$video","$canvas","document","createElement","_onDecode","warn","_legacyOnDecode","_onDecodeError","onDecodeError","_calculateScanRegion","calculateScanRegion","preferredCamera","maxScansPerSecond","_onPlay","bind","_onLoadedMetaData","_onVisibilityChange","_updateOverlay","disablePictureInPicture","playsInline","muted","h","hidden","appendChild","parentElement","highlightScanRegion","highlightCodeOutline","overlay","$overlay","style","position","display","pointerEvents","classList","innerHTML","firstElementChild","animate","iterations","Infinity","direction","easing","m","insertBefore","nextSibling","insertAdjacentHTML","$codeOutlineHighlight","lastElementChild","_scanRegion","requestAnimationFrame","getComputedStyle","setProperty","visibility","width","height","removeChild","_qrEnginePromise","createQrEngine","WORKER_PATH","hasCamera","listCameras","enumerateDevices","kind","label","audio","deviceId","_stopVideoStream","hasFlash","MediaStream","_getCameraStream","getVideoTracks","getSettings","isFlashOn","toggleFlash","turnFlashOff","turnFlashOn","applyConstraints","advanced","torch","_restartVideoStream","destroy","removeEventListener","_postWorkerMessage","Error","protocol","play","facingMode","_setVideoMirror","pause","setTimeout","setCamera","scanImage","n","scanRegion","qrEngine","canvas","disallowCanvasResizing","alsoTryWithoutScanRegion","p","_loadImage","_drawToCanvas","q","Worker","_postWorkerMessageSync","v","w","u","clearTimeout","cornerPoints","_convertPoints","NO_QR_CODE_FOUND","getImageData","buffer","detect","rawValue","test","_disableBarcodeDetector","setGrayscaleWeights","red","green","blue","useIntegerApproximation","setInversionMode","createWorker","BarcodeDetector","getSupportedFormats","userAgentData","brands","brand","platform","getHighEntropyValues","architecture","platformVersion","parseInt","formats","_scanFrame","round","videoWidth","videoHeight","downScaledWidth","downScaledHeight","offsetWidth","offsetHeight","offsetLeft","offsetTop","objectFit","objectPosition","parseFloat","endsWith","top","left","paused","ended","requestVideoFrameCallback","readyState","_codeOutlineHighlightRemovalTimeout","setAttribute","assign","exact","_getFacingMode","removeTrack","getContext","alpha","imageSmoothingEnabled","drawImage","Image","_awaitImageLoad","HTMLVideoElement","HTMLCanvasElement","SVGImageElement","OffscreenCanvas","ImageBitmap","File","Blob","URL","src","createObjectURL","toString","revokeObjectURL","complete","naturalWidth","ErrorEvent","_workerMessageId","postMessage"],"sourceRoot":"webpack:///","x_google_ignoreList":[66]}